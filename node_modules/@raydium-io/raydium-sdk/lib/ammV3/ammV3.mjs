var Mn=Object.defineProperty,Vn=Object.defineProperties;var _n=Object.getOwnPropertyDescriptors;var Mt=Object.getOwnPropertySymbols;var vn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var Re=Math.pow,Vt=(p,e,t)=>e in p?Mn(p,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[e]=t,U=(p,e)=>{for(var t in e||(e={}))vn.call(e,t)&&Vt(p,t,e[t]);if(Mt)for(var t of Mt(e))qn.call(e,t)&&Vt(p,t,e[t]);return p},ae=(p,e)=>Vn(p,_n(e));var O=(p,e,t)=>new Promise((n,o)=>{var s=c=>{try{a(t.next(c))}catch(u){o(u)}},r=c=>{try{a(t.throw(c))}catch(u){o(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,r);a((t=t.apply(p,e)).next())});import{Keypair as Kn,PublicKey as le,SystemProgram as Vi,Transaction as se}from"@solana/web3.js";import G from"bn.js";import R from"decimal.js";import{AccountLayout as bn,TOKEN_PROGRAM_ID as yn}from"@solana/spl-token";import{Keypair as Ri,SystemProgram as Di}from"@solana/web3.js";import $n from"big.js";import ut from"bn.js";import{PublicKey as $i}from"@solana/web3.js";import{BN as to}from"bn.js";import{PublicKey as Ue,SystemProgram as Gn}from"@solana/web3.js";import{PublicKey as Fn}from"@solana/web3.js";var Pt="1.1.0-beta.6";import"@colors/colors";var _t=!1,vt=!1,it={debug:1,default:2,info:2,warning:3,error:4,off:5},qt={},Tt;function Wn(){try{let p=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(t){p.push(e)}}),p.length)throw new Error("missing "+p.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(p){if(p instanceof Error)return p.message}return""}var Ft=Wn(),Gt=(s=>(s.DEBUG="DEBUG",s.INFO="INFO",s.WARNING="WARNING",s.ERROR="ERROR",s.OFF="OFF",s))(Gt||{}),Yt=(d=>(d.UNKNOWN_ERROR="UNKNOWN_ERROR",d.NOT_IMPLEMENTED="NOT_IMPLEMENTED",d.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",d.NETWORK_ERROR="NETWORK_ERROR",d.RPC_ERROR="RPC_ERROR",d.TIMEOUT="TIMEOUT",d.BUFFER_OVERRUN="BUFFER_OVERRUN",d.NUMERIC_FAULT="NUMERIC_FAULT",d.MISSING_NEW="MISSING_NEW",d.INVALID_ARGUMENT="INVALID_ARGUMENT",d.MISSING_ARGUMENT="MISSING_ARGUMENT",d.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",d.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",d))(Yt||{}),Wt="0123456789abcdef";function Xt(p,e=!1){let t=p;try{if(p instanceof Uint8Array){let n="";for(let o=0;o<p.length;o++)n+=Wt[p[o]>>4],n+=Wt[p[o]&15];t=`Uint8Array(0x${n})`}else if(p instanceof Fn)t=`PublicKey(${p.toBase58()})`;else if(p instanceof Object&&!e){let n={};Object.entries(p).forEach(([o,s])=>{n[o]=Xt(s,!0)}),t=JSON.stringify(n)}else e||(t=JSON.stringify(p))}catch(n){t=JSON.stringify(p.toString())}return t}var W=class{constructor(e){this.version=Pt;this.moduleName=e}_log(e,t){let n=e.toLowerCase();it[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!((qt[this.moduleName]||it.default)>it[n])&&console.log(...t)}debug(...e){this._log(W.levels.DEBUG,["[DEBUG]".blue,...e])}info(...e){this._log(W.levels.INFO,["[INFO]".green,...e])}warn(...e){this._log(W.levels.WARNING,["[WARN]".yellow,...e])}makeError(e,t,n){if(vt)return this.makeError("censored error",t,{});t||(t=W.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.entries(n).forEach(([a,c])=>{o.push(`${a}=${Xt(c)})`)}),o.push(`code=${t}`),o.push(`module=${this.moduleName}`),o.push(`version=${this.version}`);let s=e;o.length&&(e+=" ("+o.join(", ")+")");let r=new Error(e);return r.reason=s,r.code=t,Object.entries(n).forEach(([a,c])=>{r[a]=c}),r}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,W.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Ft&&this.throwError("platform missing String.prototype.normalize",W.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ft})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,W.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,W.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,W.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,W.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",W.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",W.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",W.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Tt||(Tt=new W(Pt)),Tt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",W.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_t){if(!e)return;this.globalLogger().throwError("error censorship permanent",W.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vt=!!e,_t=!!t}static setLogLevel(e,t){let n=it[t.toLowerCase()];if(n==null){W.globalLogger().warn("invalid log level - "+t);return}qt[e]=n}static from(e){return new W(e)}},_=W;_.errors=Yt,_.levels=Gt;import{ASSOCIATED_TOKEN_PROGRAM_ID as zt,TOKEN_PROGRAM_ID as te}from"@solana/spl-token";import{SYSVAR_CLOCK_PUBKEY as Ji,SYSVAR_RENT_PUBKEY as Qt}from"@solana/web3.js";var Ht=_.from("common/pubkey"),We=Gn.programId,Hi=new Ue("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),ot=new Ue("SysvarRent111111111111111111111111111111111"),Ge=new Ue("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function Ye(p){if(p instanceof Ue)return p;if(typeof p=="string")try{return new Ue(p)}catch(e){return Ht.throwArgumentError("invalid public key","publicKey",p)}return Ht.throwArgumentError("invalid public key","publicKey",p)}function pe(p,e){let[t,n]=Ue.findProgramAddressSync(p,e);return{publicKey:t,nonce:n}}import{PublicKey as so}from"@solana/web3.js";import co from"bn.js";function jt(p,e=1,t=[]){let n=[...p];if(e<=0)return t;for(;n.length;)t.push(n.splice(0,e));return t}import{PublicKey as Jt,Transaction as kt}from"@solana/web3.js";var He=_.from("common/web3");function Le(p,e,t){return O(this,null,function*(){let{batchRequest:n,commitment:o}=U({batchRequest:!1},t),s=jt(e,100),r=new Array(s.length).fill([]);if(n){let a=s.map(u=>({methodName:"getMultipleAccounts",args:p._buildArgs([u.map(b=>b.toBase58())],o,"base64")}));r=(yield p._rpcBatchRequest(a)).map(u=>u.error?He.throwError("failed to get info for multiple accounts",_.errors.RPC_ERROR,{message:u.error.message}):u.result.value.map(l=>{if(l){let{data:b,executable:m,lamports:d,owner:y,rentEpoch:S}=l;return b.length!==2&&b[1]!=="base64"?He.throwError("info must be base64 encoded",_.errors.RPC_ERROR):{data:Buffer.from(b[0],"base64"),executable:m,lamports:d,owner:new Jt(y),rentEpoch:S}}else return null}))}else try{r=yield Promise.all(s.map(a=>p.getMultipleAccountsInfo(a,o)))}catch(a){if(a instanceof Error)return He.throwError("failed to get info for multiple accounts",_.errors.RPC_ERROR,{message:a.message})}return r.flat()})}function Zt(p,e,t){return O(this,null,function*(){let n=yield Le(p,e.map(o=>o.pubkey),t);return e.map((o,s)=>ae(U({},o),{accountInfo:n[s]}))})}function Yn(p,e){if(p.length<1)return He.throwArgumentError("no instructions provided","instructions",p);if(e.length<1)return He.throwArgumentError("no signers provided","signers",e);let t=new kt({recentBlockhash:"11111111111111111111111111111111",feePayer:e[0]});t.add(...p);try{return t.serialize({verifySignatures:!1}),!0}catch(n){return!1}}function wt({instructions:p,signers:e,payer:t}){let n={};for(let r of e)n[r.publicKey.toString()]=r;let o=[],s=[];for(let r of p){let a=[...s,r],c=new Set(a.map(l=>l.keys.filter(b=>b.isSigner).map(b=>b.pubkey.toString())).flat()),u=[...c.values()].map(l=>new Jt(l));Yn(a,[t,...u])?s.push(r):(o.push({transaction:new kt().add(...s),signer:[...c.values()].map(l=>n[l]).filter(l=>l!==void 0)}),s=[r])}if(s.length>0){let r=new Set(s.map(a=>a.keys.filter(c=>c.isSigner).map(c=>c.pubkey.toString())).flat());o.push({transaction:new kt().add(...s),signer:[...r.values()].map(a=>n[a]).filter(a=>a!==void 0)})}return o}import st from"bn.js";import Se from"bn.js";var x=new Se(0),v=new Se(1),Oo=new Se(2),Eo=new Se(3),Ko=new Se(5),rt=new Se(10),$t=new Se(100),Mo=new Se(1e3),Vo=new Se(1e4);var at=_.from("entity/bignumber"),en=9007199254740991;function Y(p){return p instanceof st?p:typeof p=="string"?p.match(/^-?[0-9]+$/)?new st(p):at.throwArgumentError("invalid BigNumberish string","value",p):typeof p=="number"?p%1?at.throwArgumentError("BigNumberish number underflow","value",p):p>=en||p<=-en?at.throwArgumentError("BigNumberish number overflow","value",p):new st(String(p)):typeof p=="bigint"?new st(p.toString()):at.throwArgumentError("invalid BigNumberish value","value",p)}function Lt(p){return rt.pow(Y(p))}var Ee={symbol:"SOL",name:"Solana",decimals:9},X={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}};var i={WSOL:U({},X),BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},Xo={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:i.FIDA,quote:i.RAY,decimals:i.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:i.OXY,quote:i.RAY,decimals:i.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:i.MAPS,quote:i.RAY,decimals:i.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:i.KIN,quote:i.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:i.RAY,quote:i.USDT,decimals:i.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:i.WSOL,quote:i.USDC,decimals:i.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:i.YFI,quote:i.USDC,decimals:i.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:i.SRM,quote:i.USDC,decimals:i.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:i.FTT,quote:i.USDC,decimals:i.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:i.BTC,quote:i.USDC,decimals:i.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:i.SUSHI,quote:i.USDC,decimals:i.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:i.TOMO,quote:i.USDC,decimals:i.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:i.LINK,quote:i.USDC,decimals:i.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:i.ETH,quote:i.USDC,decimals:i.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:i.xCOPE,quote:i.USDC,decimals:i.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:i.WSOL,quote:i.USDT,decimals:i.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:i.YFI,quote:i.USDT,decimals:i.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:i.SRM,quote:i.USDT,decimals:i.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:i.FTT,quote:i.USDT,decimals:i.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:i.BTC,quote:i.USDT,decimals:i.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:i.SUSHI,quote:i.USDT,decimals:i.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:i.TOMO,quote:i.USDT,decimals:i.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:i.LINK,quote:i.USDT,decimals:i.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:i.ETH,quote:i.USDT,decimals:i.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:i.YFI,quote:i.SRM,decimals:i.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:i.FTT,quote:i.SRM,decimals:i.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:i.BTC,quote:i.SRM,decimals:i.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:i.SUSHI,quote:i.SRM,decimals:i.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:i.TOMO,quote:i.SRM,decimals:i.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:i.LINK,quote:i.SRM,decimals:i.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:i.ETH,quote:i.SRM,decimals:i.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:i.SRM,quote:i.WSOL,decimals:i.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:i.STEP,quote:i.USDC,decimals:i.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:i.MEDIA,quote:i.USDC,decimals:i.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:i.ROPE,quote:i.USDC,decimals:i.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:i.MER,quote:i.USDC,decimals:i.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:i.COPE,quote:i.USDC,decimals:i.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:i.ALEPH,quote:i.USDC,decimals:i.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:i.TULIP,quote:i.USDC,decimals:i.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:i.WOO,quote:i.USDC,decimals:i.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:i.SNY,quote:i.USDC,decimals:i.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:i.BOP,quote:i.RAY,decimals:i.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:i.SLRS,quote:i.USDC,decimals:i.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:i.SAMO,quote:i.RAY,decimals:i.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:i.renBTC,quote:i.USDC,decimals:i.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:i.renDOGE,quote:i.USDC,decimals:i.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:i.RAY,quote:i.USDC,decimals:i.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:i.RAY,quote:i.SRM,decimals:i.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:i.RAY,quote:i.ETH,decimals:i.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:i.RAY,quote:i.WSOL,decimals:i.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:i.DXL,quote:i.USDC,decimals:i.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:i.LIKE,quote:i.USDC,decimals:i.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:i.mSOL,quote:i.USDC,decimals:i.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:i.mSOL,quote:i.WSOL,decimals:i.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:i.MER,quote:i.PAI,decimals:i.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:i.PORT,quote:i.USDC,decimals:i.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:i.MNGO,quote:i.USDC,decimals:i.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:i.ATLAS,quote:i.USDC,decimals:i.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:i.POLIS,quote:i.USDC,decimals:i.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:i.ATLAS,quote:i.RAY,decimals:i.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:i.POLIS,quote:i.RAY,decimals:i.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:i.ALEPH,quote:i.RAY,decimals:i.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:i.TULIP,quote:i.RAY,decimals:i.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:i.SLRS,quote:i.RAY,decimals:i.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:i.MER,quote:i.RAY,decimals:i.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:i.MEDIA,quote:i.RAY,decimals:i.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:i.SNY,quote:i.RAY,decimals:i.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:i.LIKE,quote:i.RAY,decimals:i.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:i.COPE,quote:i.RAY,decimals:i.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:i.ETH,quote:i.WSOL,decimals:i.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:i.stSOL,quote:i.USDC,decimals:i.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:i.GRAPE,quote:i.USDC,decimals:i.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:i.LARIX,quote:i.USDC,decimals:i.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:i.RIN,quote:i.USDC,decimals:i.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:i.APEX,quote:i.USDC,decimals:i.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:i.mSOL,quote:i.RAY,decimals:i.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:i.MNDE,quote:i.mSOL,decimals:i.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:i.LARIX,quote:i.RAY,decimals:i.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:i.LIQ,quote:i.USDC,decimals:i.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:i.WAG,quote:i.USDC,decimals:i.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:i.ETH,quote:i.mSOL,decimals:i.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:i.mSOL,quote:i.USDT,decimals:i.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:i.BTC,quote:i.mSOL,decimals:i.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:i.SLIM,quote:i.WSOL,decimals:i.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:i.AURY,quote:i.USDC,decimals:i.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:i.PRT,quote:i.WSOL,decimals:i.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:i.LIQ,quote:i.RAY,decimals:i.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:i.SYP,quote:i.WSOL,decimals:i.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:i.SYP,quote:i.RAY,decimals:i.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:i.SYP,quote:i.USDC,decimals:i.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:i.FAB,quote:i.USDC,decimals:i.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:i.WOOF,quote:i.RAY,decimals:i.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:i.WOOF,quote:i.USDC,decimals:i.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:i.SLND,quote:i.USDC,decimals:i.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:i.FRKT,quote:i.WSOL,decimals:i.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:i.weWETH,quote:i.WSOL,decimals:i.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:i.weWETH,quote:i.USDC,decimals:i.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:i.weUNI,quote:i.USDC,decimals:i.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:i.weSUSHI,quote:i.USDC,decimals:i.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:i.CYS,quote:i.USDC,decimals:i.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:i.SAMO,quote:i.USDC,decimals:i.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:i.ABR,quote:i.USDC,decimals:i.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:i.IN,quote:i.USDC,decimals:i.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:i.weDYDX,quote:i.USDC,decimals:i.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:i.STARS,quote:i.USDC,decimals:i.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:i.weAXS,quote:i.USDC,decimals:i.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:i.weSHIB,quote:i.USDC,decimals:i.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:i.SBR,quote:i.USDC,decimals:i.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:i.OXS,quote:i.USDC,decimals:i.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:i.CWAR,quote:i.USDC,decimals:i.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:i.UPS,quote:i.USDC,decimals:i.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:i.weSAND,quote:i.USDC,decimals:i.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:i.weMANA,quote:i.USDC,decimals:i.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:i.CAVE,quote:i.USDC,decimals:i.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:i.GENE,quote:i.USDC,decimals:i.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:i.GENE,quote:i.RAY,decimals:i.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:i.APT,quote:i.USDC,decimals:i.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:i.GOFX,quote:i.USDC,decimals:i.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:i.SONAR,quote:i.USDC,decimals:i.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:i.JSOL,quote:i.WSOL,decimals:i.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:i.JSOL,quote:i.USDC,decimals:i.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:i.SHILL,quote:i.USDC,decimals:i.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:i.DFL,quote:i.USDC,decimals:i.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:i.BOKU,quote:i.USDC,decimals:i.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:i.MIMO,quote:i.WSOL,decimals:i.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:i.wbWBNB,quote:i.USDC,decimals:i.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:i.wePEOPLE,quote:i.USDC,decimals:i.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:i.ISOLA,quote:i.USDT,decimals:i.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:i.SPWN,quote:i.USDC,decimals:i.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:i.STR,quote:i.USDC,decimals:i.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:i.SOLC,quote:i.USDT,decimals:i.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:i.VI,quote:i.USDC,decimals:i.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:i.KKO,quote:i.USDC,decimals:i.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:i.XTAG,quote:i.USDC,decimals:i.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:i.TTT,quote:i.USDC,decimals:i.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:i.RUN,quote:i.USDC,decimals:i.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:i.CRWNY,quote:i.USDC,decimals:i.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:i.CRWNY,quote:i.RAY,decimals:i.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:i.BLOCK,quote:i.USDC,decimals:i.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:i.REAL,quote:i.USDC,decimals:i.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:i.FRKT,quote:i.USDC,decimals:i.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:i.MBS,quote:i.USDC,decimals:i.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:i.PRISM,quote:i.USDC,decimals:i.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:i.CHICKS,quote:i.USDC,decimals:i.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:i.MEAN,quote:i.RAY,decimals:i.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:i.TINY,quote:i.USDC,decimals:i.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:i.SCY,quote:i.USDC,decimals:i.SCY.decimals,version:4}};var jo={WSOL:U({},X)};var er={WSOL:U({},X)};var or=_.from("token/util");var Bt=class{constructor(e,t="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=t,this.name=n}},Xe=Bt;Xe.SOL=new Bt(Ee.decimals,Ee.symbol,Ee.name);var xt=class extends Xe{constructor(t,n,o="UNKNOWN",s="UNKNOWN"){super(n,o,s);this.mint=Ye(t)}equals(t){return this===t?!0:this.mint.equals(t.mint)}},N=xt;N.WSOL=new xt(X.mint,X.decimals,Ee.symbol,Ee.name);function Ae(p,e){return p instanceof N&&e instanceof N?p.equals(e):p instanceof N||e instanceof N?!1:p===e}import Qn from"big.js";import jn from"decimal.js-light";import Xn from"toformat";var Hn=Xn,ze=Hn;var ct=_.from("entity/fraction"),Ke=ze(Qn),Qe=ze(jn),Jn={[0]:Qe.ROUND_DOWN,[1]:Qe.ROUND_HALF_UP,[2]:Qe.ROUND_UP},Zn={[0]:Ke.roundDown,[1]:Ke.roundHalfUp,[2]:Ke.roundUp},E=class{constructor(e,t=v){this.numerator=Y(e),this.denominator=Y(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new E(this.denominator,this.numerator)}add(e){let t=e instanceof E?e:new E(Y(e));return this.denominator.eq(t.denominator)?new E(this.numerator.add(t.numerator),this.denominator):new E(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof E?e:new E(Y(e));return this.denominator.eq(t.denominator)?new E(this.numerator.sub(t.numerator),this.denominator):new E(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof E?e:new E(Y(e));return new E(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof E?e:new E(Y(e));return new E(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},n=1){ct.assert(Number.isInteger(e),`${e} is not an integer.`),ct.assert(e>0,`${e} is not positive.`),Qe.set({precision:e+1,rounding:Jn[n]});let o=new Qe(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},n=1){return ct.assert(Number.isInteger(e),`${e} is not an integer.`),ct.assert(e>=0,`${e} is negative.`),Ke.DP=e,Ke.RM=Zn[n],new Ke(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}};var Be=_.from("entity/amount"),tn=ze($n);function ei(p,e){let t="0",n="0";if(p.includes(".")){let o=p.split(".");if(o.length===2)[t,n]=o,n=n.padEnd(e,"0");else return Be.throwArgumentError("invalid number string","num",p)}else t=p;return[t,n.slice(0,e)||n]}var ce=class extends E{constructor(t,n,o=!0){let s=new ut(0),r=rt.pow(new ut(t.decimals));if(o)s=Y(n);else{let a=new ut(0),c=new ut(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[u,l]=ei(n.toString(),t.decimals);a=Y(u),c=Y(l)}a=a.mul(r),s=a.add(c)}super(s,r);this.currency=t}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(t){return Be.assert(Ae(this.currency,t.currency),"gt currency not equals"),this.raw.gt(t.raw)}lt(t){return Be.assert(Ae(this.currency,t.currency),"lt currency not equals"),this.raw.lt(t.raw)}add(t){return Be.assert(Ae(this.currency,t.currency),"add currency not equals"),new ce(this.currency,this.raw.add(t.raw))}sub(t){return Be.assert(Ae(this.currency,t.currency),"sub currency not equals"),new ce(this.currency,this.raw.sub(t.raw))}toSignificant(t=this.currency.decimals,n,o=0){return super.toSignificant(t,n,o)}toFixed(t=this.currency.decimals,n,o=0){return Be.assert(t<=this.currency.decimals,"decimals overflow"),super.toFixed(t,n,o)}toExact(t={groupSeparator:""}){return tn.DP=this.currency.decimals,new tn(this.numerator.toString()).div(this.denominator.toString()).toFormat(t)}},ue=class extends ce{constructor(t,n,o=!0){super(t,n,o);this.token=t}add(t){return Be.assert(Ae(this.token,t.token),"add token not equals"),new ue(this.token,this.raw.add(t.raw))}subtract(t){return Be.assert(Ae(this.token,t.token),"sub token not equals"),new ue(this.token,this.raw.sub(t.raw))}};var nn=new E($t),Oe=class extends E{toSignificant(e=5,t,n){return this.mul(nn).toSignificant(e,t,n)}toFixed(e=2,t,n){return this.mul(nn).toFixed(e,t,n)}};var ti=_.from("entity/price"),ye=class extends E{constructor(t,n,o,s){super(s,n);this.baseCurrency=t,this.quoteCurrency=o,this.scalar=new E(Lt(t.decimals),Lt(o.decimals))}get raw(){return new E(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new ye(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(t){ti.assert(Ae(this.quoteCurrency,t.baseCurrency),"mul currency not equals");let n=super.mul(t);return new ye(this.baseCurrency,n.denominator,t.quoteCurrency,n.numerator)}toSignificant(t=this.quoteCurrency.decimals,n,o){return this.adjusted.toSignificant(t,n,o)}toFixed(t=this.quoteCurrency.decimals,n,o){return this.adjusted.toFixed(t,n,o)}};import{PublicKey as mi}from"@solana/web3.js";import an,{isBN as cn}from"bn.js";import{bits as cs,BitStructure as us,blob as ni,Blob as ms,cstr as ls,f32 as ds,f32be as ps,f64 as bs,f64be as ys,greedy as Ss,Layout as ii,ns64 as As,ns64be as fs,nu64 as gs,nu64be as Ps,offset as Ts,s16 as ks,s16be as ws,s24 as Ls,s24be as Bs,s32 as oi,s32be as xs,s40 as Cs,s40be as Ns,s48 as Rs,s48be as Ds,s8 as hs,seq as ri,struct as Is,Structure as si,u16 as ai,u16be as Us,u24 as Os,u24be as Es,u32 as Ks,u32be as Ms,u40 as Vs,u40be as _s,u48 as vs,u48be as qs,u8 as ci,UInt as ui,union as Fs,Union as Ws,unionLayoutDiscriminator as Gs,utf8 as Ys}from"@solana/buffer-layout";var Ct=ii,on=si;var Nt=ui;var rn=ci,Me=ai;var ie=oi;var sn=ri;var me=ni;var je=class extends Ct{constructor(t,n,o){super(t,o);this.blob=me(t),this.signed=n}decode(t,n=0){let o=new an(this.blob.decode(t,n),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,n,o=0){return typeof t=="number"&&(t=new an(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),n,o)}};function F(p){return new Nt(1,p)}function oe(p){return new Nt(4,p)}function k(p){return new je(8,!1,p)}function h(p){return new je(16,!1,p)}function un(p){return new je(16,!0,p)}var mt=class extends Ct{constructor(t,n,o,s){super(t.span,s);this.layout=t,this.decoder=n,this.encoder=o}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,o){return this.layout.encode(this.encoder(t),n,o)}getSpan(t,n){return this.layout.getSpan(t,n)}};function M(p){return new mt(me(32),e=>new mi(e),e=>e.toBuffer(),p)}function lt(p){return new mt(rn(),li,di,p)}function li(p){if(p===0)return!1;if(p===1)return!0;throw new Error("Invalid bool: "+p)}function di(p){return p?1:0}var Rt=class extends on{decode(e,t){return super.decode(e,t)}};function V(p,e,t){return new Rt(p,e,t)}function H(p,e,t){let n,o=typeof e=="number"?e:cn(e)?e.toNumber():new Proxy(e,{get(s,r){if(!n){let a=Reflect.get(s,"count");n=cn(a)?a.toNumber():a,Reflect.set(s,"count",n)}return Reflect.get(s,r)},set(s,r,a){return r==="count"&&(n=a),Reflect.set(s,r,a)}});return sn(p,o,t)}var aa=V([oe("mintAuthorityOption"),M("mintAuthority"),k("supply"),F("decimals"),F("isInitialized"),oe("freezeAuthorityOption"),M("freezeAuthority")]),Je=V([M("mint"),M("owner"),k("amount"),oe("delegateOption"),M("delegate"),F("state"),oe("isNativeOption"),k("isNative"),k("delegatedAmount"),oe("closeAuthorityOption"),M("closeAuthority")]);import{createAssociatedTokenAccountInstruction as gi,createCloseAccountInstruction as Pi,createInitializeAccountInstruction as Ti,createInitializeMintInstruction as ki,createMintToInstruction as wi,createTransferInstruction as Li}from"@solana/spl-token";import{Keypair as Bi,SystemProgram as xi,TransactionInstruction as Ci}from"@solana/web3.js";import Ni from"bn.js";import{PublicKey as pi}from"@solana/web3.js";function dt(p){let e=new ArrayBuffer(4);return new DataView(e).setInt32(0,p,!1),new Uint8Array(e)}var ba=Buffer.from("amm_config","utf8"),bi=Buffer.from("pool","utf8"),yi=Buffer.from("pool_vault","utf8"),Si=Buffer.from("pool_reward_vault","utf8"),mn=Buffer.from("position","utf8"),Ai=Buffer.from("tick_array","utf8"),fi=Buffer.from("operation","utf8");function ln(p,e,t,n){return pe([bi,e.toBuffer(),t.toBuffer(),n.toBuffer()],p)}function Dt(p,e,t){return pe([yi,e.toBuffer(),t.toBuffer()],p)}function dn(p,e,t){return pe([Si,e.toBuffer(),t.toBuffer()],p)}function j(p,e,t){return pe([Ai,e.toBuffer(),dt(t)],p)}function pt(p,e,t,n){return pe([mn,e.toBuffer(),dt(t),dt(n)],p)}function Ve(p,e){return pe([mn,e.toBuffer()],p)}function xe(p,e){return pe([p.toBuffer(),te.toBuffer(),e.toBuffer()],new pi("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}function pn(p){return pe([Buffer.from("metadata","utf8"),Ge.toBuffer(),p.toBuffer()],Ge)}function bt(p){return pe([fi],p)}var z=class{static getAssociatedTokenAccount({mint:e,owner:t}){return xe(t,e).publicKey}static makeCreateAssociatedTokenAccountInstruction({mint:e,associatedAccount:t,owner:n,payer:o}){return gi(o,t,n,e)}static makeCreateWrappedNativeAccountInstructions(r){return O(this,arguments,function*({connection:e,owner:t,payer:n,amount:o,commitment:s}){let a=[],c=yield e.getMinimumBalanceForRentExemption(Je.span,s),u=Y(o).add(new Ni(c)),l=Bi.generate();return a.push(xi.createAccount({fromPubkey:n,newAccountPubkey:l.publicKey,lamports:u.toNumber(),space:Je.span,programId:te})),a.push(this.makeInitAccountInstruction({mint:Ye(X.mint),tokenAccount:l.publicKey,owner:t})),{newAccount:l,instructions:a}})}static insertCreateWrappedNativeAccountInstructions(c){return O(this,arguments,function*({connection:e,owner:t,payer:n,amount:o,instructions:s,signers:r,commitment:a}){let{newAccount:u,instructions:l}=yield this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:o,commitment:a});return s.push(...l),r.push(u),u.publicKey})}static makeInitMintInstruction({mint:e,decimals:t,mintAuthority:n,freezeAuthority:o=null}){return ki(e,t,n,o)}static makeMintToInstruction({mint:e,dest:t,authority:n,amount:o,multiSigners:s=[]}){return wi(e,t,n,BigInt(String(o)),s)}static makeInitAccountInstruction({mint:e,tokenAccount:t,owner:n}){return Ti(t,e,n)}static makeTransferInstruction({source:e,destination:t,owner:n,amount:o,multiSigners:s=[]}){return Li(e,t,n,BigInt(String(o)),s)}static makeCloseAccountInstruction({tokenAccount:e,owner:t,payer:n,multiSigners:o=[]}){return Pi(e,n,t,o)}static createInitAccountInstruction(e,t,n,o){let s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Qt,isSigner:!1,isWritable:!1}],r=F("instruction"),a=Buffer.alloc(r.span);return r.encode(1,a),new Ci({keys:s,programId:e,data:a})}};var yt=class{static _selectTokenAccount(e){let{tokenAccounts:t,mint:n,owner:o,config:s}=e,{associatedOnly:r}=U({associatedOnly:!0},s),a=t.filter(({accountInfo:u})=>u.mint.equals(n)).sort((u,l)=>u.accountInfo.amount.lt(l.accountInfo.amount)?1:-1),c=z.getAssociatedTokenAccount({mint:n,owner:o});for(let u of a){let{pubkey:l}=u;if(r){if(c.equals(l))return l}else return l}return null}static _handleTokenAccount(e){return O(this,null,function*(){let{connection:t,side:n,amount:o,mint:s,tokenAccount:r,owner:a,payer:c=a,frontInstructions:u,endInstructions:l,signers:b,bypassAssociatedCheck:m}=e,d=z.getAssociatedTokenAccount({mint:s,owner:a});if(N.WSOL.mint.equals(s)){let y=yield z.insertCreateWrappedNativeAccountInstructions({connection:t,owner:a,payer:c,instructions:u,signers:b,amount:o});return l&&l.push(z.makeCloseAccountInstruction({tokenAccount:y,owner:a,payer:c})),y}else if(!r||n==="out"&&!d.equals(r)&&!m)return u.push(z.makeCreateAssociatedTokenAccountInstruction({mint:s,associatedAccount:d,owner:a,payer:c})),d;return r})}static _selectOrCreateTokenAccount(e){return O(this,null,function*(){var u,l;let{mint:t,tokenAccounts:n,createInfo:o,associatedOnly:s,owner:r}=e,a=z.getAssociatedTokenAccount({mint:t,owner:r}),c=n.filter(b=>b.accountInfo.mint.equals(t)&&(!s||b.pubkey.equals(a))).sort((b,m)=>b.accountInfo.amount.lt(m.accountInfo.amount)?1:-1);if(o===void 0||c.length>0)return c.length>0?c[0].pubkey:void 0;if(s){if(o.frontInstructions.push(z.makeCreateAssociatedTokenAccountInstruction({mint:t,associatedAccount:a,owner:r,payer:o.payer})),t.equals(N.WSOL.mint)){let b=yield z.insertCreateWrappedNativeAccountInstructions({connection:o.connection,owner:r,payer:o.payer,instructions:o.frontInstructions,signers:o.signers,amount:(u=o.amount)!=null?u:0});o.endInstructions&&o.endInstructions.push(z.makeCloseAccountInstruction({tokenAccount:b,owner:r,payer:o.payer})),o.amount&&o.frontInstructions.push(z.makeTransferInstruction({source:b,destination:a,owner:r,amount:o.amount}))}return o.endInstructions&&o.endInstructions.push(z.makeCloseAccountInstruction({tokenAccount:a,owner:r,payer:o.payer})),a}else if(t.equals(N.WSOL.mint)){let b=yield z.insertCreateWrappedNativeAccountInstructions({connection:o.connection,owner:r,payer:o.payer,instructions:o.frontInstructions,signers:o.signers,amount:(l=o.amount)!=null?l:0});return o.endInstructions&&o.endInstructions.push(z.makeCloseAccountInstruction({tokenAccount:b,owner:r,payer:o.payer})),b}else{let b=Ri.generate(),m=yield o.connection.getMinimumBalanceForRentExemption(bn.span),d=Di.createAccount({fromPubkey:r,newAccountPubkey:b.publicKey,lamports:m,space:bn.span,programId:yn}),y=z.createInitAccountInstruction(yn,t,b.publicKey,r);return o.frontInstructions.push(d,y),o.signers.push(b),o.endInstructions&&o.endInstructions.push(z.makeCloseAccountInstruction({tokenAccount:b.publicKey,owner:r,payer:o.payer})),b.publicKey}})}};import{PublicKey as Ja}from"@solana/web3.js";import{BN as $a}from"bn.js";import{ComputeBudgetProgram as Sn,TransactionInstruction as fe}from"@solana/web3.js";var ge={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[135,128,47,77,15,152,240,49],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[46,156,243,118,13,205,251,178],decreaseLiquidity:[160,38,208,111,104,91,44,1],swap:[248,198,158,145,225,117,135,200],collectReward:[18,237,166,197,34,16,213,144]};function An(p,e,t,n,o,s,r,a,c,u){let l=V([h("sqrtPriceX64")]),b=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:We,isSigner:!1,isWritable:!1},{pubkey:ot,isSigner:!1,isWritable:!1}],m=Buffer.alloc(l.span);l.encode({sqrtPriceX64:u},m);let d=Buffer.from([...ge.createPool,...m]);return new fe({keys:b,programId:p,data:d})}function fn(p,e,t,n,o,s,r,a,c,u,l,b,m,d,y,S,A,f,P,T,g,w){let Q=V([ie("tickLowerIndex"),ie("tickUpperIndex"),ie("tickArrayLowerStartIndex"),ie("tickArrayUpperStartIndex"),h("liquidity"),k("amountMinA"),k("amountMinB")]),K=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:ot,isSigner:!1,isWritable:!1},{pubkey:We,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:zt,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1}],q=Buffer.alloc(Q.span);Q.encode({tickLowerIndex:S,tickUpperIndex:A,tickArrayLowerStartIndex:f,tickArrayUpperStartIndex:P,liquidity:T,amountMinA:g,amountMinB:w},q);let ee=Buffer.from([...ge.openPosition,...q]);return new fe({keys:K,programId:p,data:ee})}function gn(p,e,t,n,o){let s=V([]),r=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:We,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1}],a=Buffer.alloc(s.span);s.encode({},a);let c=Buffer.from([...ge.closePosition,...a]);return new fe({keys:r,programId:p,data:c})}function Pn(p,e,t,n,o,s,r,a,c,u,l,b,m,d,y){let S=V([h("liquidity"),k("amountMaxA"),k("amountMaxB")]),A=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],f=Buffer.alloc(S.span);S.encode({liquidity:m,amountMaxA:d,amountMaxB:y},f);let P=Buffer.from([...ge.increaseLiquidity,...f]);return new fe({keys:A,programId:p,data:P})}function Tn(p,e,t,n,o,s,r,a,c,u,l,b,m,d,y,S){let A=V([h("liquidity"),k("amountMinA"),k("amountMinB")]),f=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},...m.map(g=>[{pubkey:g.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:g.ownerRewardVault,isSigner:!1,isWritable:!0}]).flat()],P=Buffer.alloc(A.span);A.encode({liquidity:d,amountMinA:y,amountMinB:S},P);let T=Buffer.from([...ge.decreaseLiquidity,...P]);return new fe({keys:f,programId:p,data:T})}function ht(p,e,t,n,o,s,r,a,c,u,l,b,m,d){let y=V([k("amount"),k("otherAmountThreshold"),h("sqrtPriceLimitX64"),lt("isBaseInput")]),S=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},...c.map(P=>({pubkey:P,isSigner:!1,isWritable:!0}))],A=Buffer.alloc(y.span);y.encode({amount:l,otherAmountThreshold:b,sqrtPriceLimitX64:m,isBaseInput:d},A);let f=Buffer.from([...ge.swap,...A]);return new fe({keys:S,programId:p,data:f})}function kn(p,e,t,n,o,s,r,a,c,u,l){let b=V([k("openTime"),k("endTime"),h("emissionsPerSecondX64")]),m=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:We,isSigner:!1,isWritable:!1},{pubkey:ot,isSigner:!1,isWritable:!1}],d=Buffer.alloc(b.span);b.encode({openTime:Y(c),endTime:Y(u),emissionsPerSecondX64:l},d);let y=Buffer.from([...ge.initReward,...d]);return new fe({keys:m,programId:p,data:y})}function wn(p,e,t,n,o,s,r,a,c,u,l){let b=V([F("rewardIndex"),h("emissionsPerSecondX64"),k("openTime"),k("endTime")]),m=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],d=Buffer.alloc(b.span);b.encode({rewardIndex:a,emissionsPerSecondX64:l,openTime:Y(c),endTime:Y(u)},d);let y=Buffer.from([...ge.setRewardEmissions,...d]);return new fe({keys:m,programId:p,data:y})}function Ln(p,e,t,n,o,s){let r=V([F("rewardIndex")]),a=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1}],c=Buffer.alloc(r.span);r.encode({rewardIndex:s},c);let u=Buffer.from([...ge.collectReward,...c]);return new fe({keys:a,programId:p,data:u})}function re(){return[Sn.setComputeUnitLimit({units:1e6}),Sn.setComputeUnitPrice({microLamports:1})]}import Bn from"bn.js";var J=60,It=1024,D=class{static getTickArrayAddressByTick(e,t,n,o){let s=D.getTickArrayStartIndexByTick(n,o),{publicKey:r}=j(e,t,s);return r}static getTickOffsetInArray(e,t){if(e%t!=0)throw new Error("tickIndex % tickSpacing not equal 0");let n=D.getTickArrayStartIndexByTick(e,t),o=Math.floor((e-n)/t);if(o<0||o>=J)throw new Error("tick offset in array overflow");return o}static getTickArrayStartIndexByTick(e,t){let n=e/(J*t);return e<0&&e%(J*t)!=0?n=Math.ceil(n)-1:n=Math.floor(n),n*(t*J)}static getTickArrayOffsetInBitmapByTick(e,t){let n=t*J,o=Math.floor(e/n)+512;return Math.abs(o)}static checkTickArrayIsInitialized(e,t,n){let o=n*J,s=Math.floor(t/o)+512,r=Math.abs(s);return{isInitialized:e.testn(r),startIndex:(r-512)*o}}static getNextTickArrayStartIndex(e,t,n){return n?e-t*J:e+t*J}static mergeTickArrayBitmap(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192)).add(e[4].shln(256)).add(e[5].shln(320)).add(e[6].shln(384)).add(e[7].shln(448)).add(e[8].shln(512)).add(e[9].shln(576)).add(e[10].shln(640)).add(e[11].shln(704)).add(e[12].shln(768)).add(e[13].shln(832)).add(e[14].shln(896)).add(e[15].shln(960))}static getInitializedTickArrayInRange(e,t,n,o){if(n%(t*J)!=0)throw new Error("Invild tickArrayStartIndex");let s=Math.floor(n/(t*J))+512;return[...D.searchLowBitFromStart(e,s-1,0,o,t),...D.searchHightBitFromStart(e,s,It,o,t)]}static getAllInitializedTickArrayStartIndex(e,t){return D.searchHightBitFromStart(e,0,It,It,t)}static getAllInitializedTickArrayInfo(e,t,n,o){let s=[],r=D.getAllInitializedTickArrayStartIndex(n,o);for(let a of r){let{publicKey:c}=j(e,t,a);s.push({tickArrayStartIndex:a,tickArrayAddress:c})}return s}static getAllInitializedTickInTickArray(e){return e.ticks.filter(t=>t.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,n,o,s){let r=0,a=[];for(let c=t;c>=n;c--){if(e.shrn(c).and(new Bn(1)).eqn(1)){let u=(c-512)*(s*J);a.push(u),r++}if(r>=o)break}return a}static searchHightBitFromStart(e,t,n,o,s){let r=0,a=[];for(let c=t;c<n;c++){if(e.shrn(c).and(new Bn(1)).eqn(1)){let u=(c-512)*(s*J);a.push(u),r++}if(r>=o)break}return a}};var fc=V([me(8),F("bump"),Me("index"),M(""),oe("protocolFeeRate"),oe("tradeFeeRate"),Me("tickSpacing"),oe("fundFeeRate"),H(oe(),1,"padding"),M("fundOwner"),H(k(),3,"padding")]),hi=V([oe("blockTimestamp"),h("sqrtPriceX64"),h("cumulativeTimePriceX64"),H(h(),1,"")]),Ut=V([me(8),lt("initialized"),M("poolId"),H(hi,1e3,"observations"),H(h(),5,"")]),Ii=V([F("rewardState"),k("openTime"),k("endTime"),k("lastUpdateTime"),h("emissionsPerSecondX64"),k("rewardTotalEmissioned"),k("rewardClaimed"),M("tokenMint"),M("tokenVault"),M("creator"),h("rewardGrowthGlobalX64")]),xn=V([me(8),F("bump"),M("ammConfig"),M("creator"),M("mintA"),M("mintB"),M("vaultA"),M("vaultB"),M("observationId"),F("mintDecimalsA"),F("mintDecimalsB"),Me("tickSpacing"),h("liquidity"),h("sqrtPriceX64"),ie("tickCurrent"),Me("observationIndex"),Me("observationUpdateDuration"),h("feeGrowthGlobalX64A"),h("feeGrowthGlobalX64B"),k("protocolFeesTokenA"),k("protocolFeesTokenB"),h("swapInAmountTokenA"),h("swapOutAmountTokenB"),h("swapInAmountTokenB"),h("swapOutAmountTokenA"),F("status"),H(F(),7,""),H(Ii,3,"rewardInfos"),H(k(),16,"tickArrayBitmap"),k("totalFeesTokenA"),k("totalFeesClaimedTokenA"),k("totalFeesTokenB"),k("totalFeesClaimedTokenB"),k("fundFeesTokenA"),k("fundFeesTokenB"),H(k(),15*4-2,"padding")]),Ui=V([h("growthInsideLastX64"),k("rewardAmountOwed")]),Cn=V([me(8),F("bump"),M("nftMint"),M("poolId"),ie("tickLower"),ie("tickUpper"),h("liquidity"),h("feeGrowthInsideLastX64A"),h("feeGrowthInsideLastX64B"),k("tokenFeesOwedA"),k("tokenFeesOwedB"),H(Ui,3,"rewardInfos"),H(k(),8,"")]),gc=V([me(8),F("bump"),M("poolId"),ie("tickLowerIndex"),ie("tickUpperIndex"),h("liquidity"),h("feeGrowthInsideLastX64A"),h("feeGrowthInsideLastX64B"),k("tokenFeesOwedA"),k("tokenFeesOwedB"),H(h(),3,"rewardGrowthInside"),H(k(),8,"")]),Oi=V([ie("tick"),un("liquidityNet"),h("liquidityGross"),h("feeGrowthOutsideX64A"),h("feeGrowthOutsideX64B"),H(h(),3,"rewardGrowthsOutsideX64"),H(oe(),13,"")]),Ze=V([me(8),M("poolId"),ie("startTickIndex"),H(Oi,J,"ticks"),F("initializedTickCount"),H(F(),115,"")]),Nn=V([me(329),H(M(),100,"whitelistMints")]);import De from"bn.js";var Pe=new De(-1),be=new De(1).shln(64),St=new De(1).shln(128),Ot=be.sub(v),$e=64,Rn=St.subn(1),_e=-307200,et=-_e,Te=new De("3939943522091"),ke=new De("86367321006760116002434269"),Dn=-307200,hn=306600,In=14,Un="59543866431248",On="184467440737095516",En="15793534762490258745",At=new De(10).pow(new De(6));import C from"bn.js";import tt from"decimal.js";var Et=15,ft=class{static getTickArrays(e,t,n,o,s,r){return O(this,null,function*(){let a=D.mergeTickArrayBitmap(r),c=[],u=D.getTickArrayStartIndexByTick(o,s),l=D.getInitializedTickArrayInRange(a,s,u,Math.floor(Et/2));for(let d=0;d<l.length;d++){let{publicKey:y}=j(t,n,l[d]);c.push(y)}let b=(yield Le(e,c)).map(d=>d!==null?Ze.decode(d.data):null),m={};for(let d=0;d<c.length;d++){let y=b[d];y!==null&&(m[y.startTickIndex]=ae(U({},y),{address:c[d]}))}return m})}static nextInitializedTick(e,t,n,o,s,r){let{initializedTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,n,o,s,r);for(;a==null||a.liquidityGross.lten(0);){if(u=D.getNextTickArrayStartIndex(u,s,r),u<Dn||u>hn)throw new Error("No enough initialized tickArray");let l=n[u];if(l===void 0)continue;let{nextTick:b,tickArrayAddress:m,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,l,r);[a,c,u]=[b,m,d]}if(a==null)throw new Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:c,tickArrayStartTickIndex:u}}static firstInitializedTickInOneArray(e,t,n,o){let s;if(o){let a=J-1;for(;a>=0;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){s=c;break}a=a-1}}else{let a=0;for(;a<J;){let c=n.ticks[a];if(c.liquidityGross.gtn(0)){s=c;break}a=a+1}}let{publicKey:r}=j(e,t,n.startTickIndex);return{nextTick:s,tickArrayAddress:r,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,t,n,o,s,r){let a=D.getTickArrayStartIndexByTick(o,s),c=Math.floor((o-a)/s),u=n[a];if(u==null)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:a};let l;if(r)for(;c>=0;){let m=u.ticks[c];if(m.liquidityGross.gtn(0)){l=m;break}c=c-1}else for(c=c+1;c<J;){let m=u.ticks[c];if(m.liquidityGross.gtn(0)){l=m;break}c=c+1}let{publicKey:b}=j(e,t,a);return{initializedTick:l,tickArrayAddress:b,tickArrayStartTickIndex:u.startTickIndex}}};var L=class{static mulDivRoundingUp(e,t,n){let o=e.mul(t),s=o.div(n);return o.mod(n).eq(x)||(s=s.add(v)),s}static mulDivFloor(e,t,n){if(n.eq(x))throw new Error("division by 0");return e.mul(t).div(n)}static mulDivCeil(e,t,n){if(n.eq(x))throw new Error("division by 0");return e.mul(t).add(n.sub(v)).div(n)}static x64ToDecimal(e,t){return new tt(e.toString()).div(tt.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new C(e.mul(tt.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(St).sub(t).mod(St)}};function Z(p,e){return Kt(p.mul(e),64,256)}function Ei(p,e,t){let n=p.toTwos(t).shln(e);return n.imaskn(t+1),n.fromTwos(t)}function Kt(p,e,t){let n=p.toTwos(t).shrn(e);return n.imaskn(t-e+1),n.fromTwos(t-e)}var B=class{static sqrtPriceX64ToPrice(e,t,n){return L.x64ToDecimal(e).pow(2).mul(tt.pow(10,t-n))}static priceToSqrtPriceX64(e,t,n){return L.decimalToX64(e.mul(tt.pow(10,n-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,n,o){if(!e.gt(x))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(x))throw new Error("liquidity must greater than 0");return o?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!0)}static getNextSqrtPriceX64FromOutput(e,t,n,o){if(!e.gt(x))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(x))throw new Error("liquidity must greater than 0");return o?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,o){if(n.eq(x))return e;let s=t.shln($e);if(o){let r=s,a=s.add(n.mul(e));return a.gte(r)?L.mulDivCeil(r,e,a):L.mulDivRoundingUp(r,v,r.div(e).add(n))}else{let r=n.mul(e);if(!s.gt(r))throw new Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let a=s.sub(r);return L.mulDivCeil(s,e,a)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,o){let s=n.shln($e);if(o)return e.add(s.div(t));{let r=L.mulDivRoundingUp(s,v,t);if(!e.gt(r))throw new Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw new Error("tick must be integer");if(e<_e||e>et)throw new Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?e*-1:e,n=(t&1)!=0?new C("18445821805675395072"):new C("18446744073709551616");return(t&2)!=0&&(n=Z(n,new C("18444899583751176192"))),(t&4)!=0&&(n=Z(n,new C("18443055278223355904"))),(t&8)!=0&&(n=Z(n,new C("18439367220385607680"))),(t&16)!=0&&(n=Z(n,new C("18431993317065453568"))),(t&32)!=0&&(n=Z(n,new C("18417254355718170624"))),(t&64)!=0&&(n=Z(n,new C("18387811781193609216"))),(t&128)!=0&&(n=Z(n,new C("18329067761203558400"))),(t&256)!=0&&(n=Z(n,new C("18212142134806163456"))),(t&512)!=0&&(n=Z(n,new C("17980523815641700352"))),(t&1024)!=0&&(n=Z(n,new C("17526086738831433728"))),(t&2048)!=0&&(n=Z(n,new C("16651378430235570176"))),(t&4096)!=0&&(n=Z(n,new C("15030750278694412288"))),(t&8192)!=0&&(n=Z(n,new C("12247334978884435968"))),(t&16384)!=0&&(n=Z(n,new C("8131365268886854656"))),(t&32768)!=0&&(n=Z(n,new C("3584323654725218816"))),(t&65536)!=0&&(n=Z(n,new C("696457651848324352"))),(t&131072)!=0&&(n=Z(n,new C("26294789957507116"))),(t&262144)!=0&&(n=Z(n,new C("37481735321082"))),e>0&&(n=Rn.div(n)),n}static getTickFromPrice(e,t,n){return B.getTickFromSqrtPriceX64(B.priceToSqrtPriceX64(e,t,n))}static getTickFromSqrtPriceX64(e){if(e.gt(ke)||e.lt(Te))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let t=e.bitLength()-1,n=new C(t-64),o=Ei(n,32,128),s=new C("8000000000000000","hex"),r=0,a=new C(0),c=t>=64?e.shrn(t-63):e.shln(63-t);for(;s.gt(new C(0))&&r<In;){c=c.mul(c);let y=c.shrn(127);c=c.shrn(63+y.toNumber()),a=a.add(s.mul(y)),s=s.shrn(1),r+=1}let u=a.shrn(32),b=o.add(u).mul(new C(Un)),m=Kt(b.sub(new C(On)),64,128).toNumber(),d=Kt(b.add(new C(En)),64,128).toNumber();return m==d?m:B.getSqrtPriceX64FromTick(d).lte(e)?d:m}},ve=class{static getTickWithPriceAndTickspacing(e,t,n,o){let r=B.getTickFromSqrtPriceX64(B.priceToSqrtPriceX64(e,n,o))/t;return r<0?r=Math.floor(r):r=Math.ceil(r),r*t}static roundPriceWithTickspacing(e,t,n,o){let s=ve.getTickWithPriceAndTickspacing(e,t,n,o),r=B.getSqrtPriceX64FromTick(s);return B.sqrtPriceX64ToPrice(r,n,o)}},I=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,n,o){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(x))throw new Error("sqrtPriceX64A must greater than 0");let s=n.ushln($e),r=t.sub(e);return o?L.mulDivRoundingUp(L.mulDivCeil(s,r,t),v,e):L.mulDivFloor(s,r,t).div(e)}static getTokenAmountBFromLiquidity(e,t,n,o){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(x))throw new Error("sqrtPriceX64A must greater than 0");return o?L.mulDivCeil(n,t.sub(e),be):L.mulDivFloor(n,t.sub(e),be)}static getLiquidityFromTokenAmountA(e,t,n,o){e.gt(t)&&([e,t]=[t,e]);let s=n.mul(e).mul(t),r=t.sub(e),a=s.div(r);return o?L.mulDivRoundingUp(a,v,Ot):a.shrn($e)}static getLiquidityFromTokenAmountB(e,t,n){return e.gt(t)&&([e,t]=[t,e]),L.mulDivFloor(n,Ot,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,n,o,s){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return I.getLiquidityFromTokenAmountA(t,n,o,!1);if(e.lt(n)){let r=I.getLiquidityFromTokenAmountA(e,n,o,!1),a=I.getLiquidityFromTokenAmountB(t,e,s);return r.lt(a)?r:a}else return I.getLiquidityFromTokenAmountB(t,n,s)}static getAmountsFromLiquidity(e,t,n,o,s){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return{amountA:I.getTokenAmountAFromLiquidity(t,n,o,s),amountB:new C(0)};if(e.lt(n)){let r=I.getTokenAmountAFromLiquidity(e,n,o,s),a=I.getTokenAmountBFromLiquidity(t,e,o,s);return{amountA:r,amountB:a}}else return{amountA:new C(0),amountB:I.getTokenAmountBFromLiquidity(t,n,o,s)}}static getAmountsFromLiquidityWithSlippage(e,t,n,o,s,r,a){let{amountA:c,amountB:u}=I.getAmountsFromLiquidity(e,t,n,o,r),l=s?1+a:1-a,b=c.muln(l),m=u.muln(l);return{amountSlippageA:b,amountSlippageB:m}}},he=class{static swapCompute(e,t,n,o,s,r,a,c,u,l,b,m){if(l.eq(x))throw new Error("amountSpecified must not be 0");if(m||(m=o?Te.add(v):ke.sub(v)),o){if(m.lt(Te))throw new Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(m.gte(u))throw new Error("sqrtPriceX64 must smaller than current")}else{if(m.gt(ke))throw new Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(m.lte(u))throw new Error("sqrtPriceX64 must greater than current")}let d=l.gt(x),y={amountSpecifiedRemaining:l,amountCalculated:x,sqrtPriceX64:u,tick:a,accounts:[],liquidity:r,feeAmount:new C(0)},S=0;for(;!y.amountSpecifiedRemaining.eq(x)&&y.sqrtPriceX64!=m&&y.tick<et&&y.tick>_e;){if(S>10)throw Error("liquidity limit");let A={};A.sqrtPriceStartX64=y.sqrtPriceX64;let{nextTick:f,tickArrayAddress:P,tickArrayStartTickIndex:T}=ft.nextInitializedTick(e,t,n,y.tick,c,o);A.tickNext=f.tick,A.initialized=f.liquidityGross.gtn(0),b!==T&&P&&(y.accounts.push(P),b=T),A.tickNext<_e?A.tickNext=_e:A.tickNext>et&&(A.tickNext=et),A.sqrtPriceNextX64=B.getSqrtPriceX64FromTick(A.tickNext);let g;if(o&&A.sqrtPriceNextX64.lt(m)||!o&&A.sqrtPriceNextX64.gt(m)?g=m:g=A.sqrtPriceNextX64,[y.sqrtPriceX64,A.amountIn,A.amountOut,A.feeAmount]=he.swapStepCompute(y.sqrtPriceX64,g,y.liquidity,y.amountSpecifiedRemaining,s),y.feeAmount=y.feeAmount.add(A.feeAmount),d?(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.sub(A.amountIn.add(A.feeAmount)),y.amountCalculated=y.amountCalculated.sub(A.amountOut)):(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.add(A.amountOut),y.amountCalculated=y.amountCalculated.add(A.amountIn.add(A.feeAmount))),y.sqrtPriceX64.eq(A.sqrtPriceNextX64)){if(A.initialized){let w=f.liquidityNet;o&&(w=w.mul(Pe)),y.liquidity=I.addDelta(y.liquidity,w)}y.tick=o?A.tickNext-1:A.tickNext}else y.sqrtPriceX64!=A.sqrtPriceStartX64&&(y.tick=B.getTickFromSqrtPriceX64(y.sqrtPriceX64));++S}return{amountCalculated:y.amountCalculated,feeAmount:y.feeAmount,sqrtPriceX64:y.sqrtPriceX64,liquidity:y.liquidity,tickCurrent:y.tick,accounts:y.accounts}}static swapStepCompute(e,t,n,o,s){let r={sqrtPriceX64Next:new C(0),amountIn:new C(0),amountOut:new C(0),feeAmount:new C(0)},a=e.gte(t),c=o.gte(x);if(c){let l=L.mulDivFloor(o,At.sub(new C(s.toString())),At);r.amountIn=a?I.getTokenAmountAFromLiquidity(t,e,n,!0):I.getTokenAmountBFromLiquidity(e,t,n,!0),l.gte(r.amountIn)?r.sqrtPriceX64Next=t:r.sqrtPriceX64Next=B.getNextSqrtPriceX64FromInput(e,n,l,a)}else r.amountOut=a?I.getTokenAmountBFromLiquidity(t,e,n,!1):I.getTokenAmountAFromLiquidity(e,t,n,!1),o.mul(Pe).gte(r.amountOut)?r.sqrtPriceX64Next=t:r.sqrtPriceX64Next=B.getNextSqrtPriceX64FromOutput(e,n,o.mul(Pe),a);let u=t.eq(r.sqrtPriceX64Next);return a?(u&&c||(r.amountIn=I.getTokenAmountAFromLiquidity(r.sqrtPriceX64Next,e,n,!0)),u&&!c||(r.amountOut=I.getTokenAmountBFromLiquidity(r.sqrtPriceX64Next,e,n,!1))):(r.amountIn=u&&c?r.amountIn:I.getTokenAmountBFromLiquidity(e,r.sqrtPriceX64Next,n,!0),r.amountOut=u&&!c?r.amountOut:I.getTokenAmountAFromLiquidity(e,r.sqrtPriceX64Next,n,!1)),!c&&r.amountOut.gt(o.mul(Pe))&&(r.amountOut=o.mul(Pe)),c&&!r.sqrtPriceX64Next.eq(t)?r.feeAmount=o.sub(r.amountIn):r.feeAmount=L.mulDivCeil(r.amountIn,new C(s),At.sub(new C(s))),[r.sqrtPriceX64Next,r.amountIn,r.amountOut,r.feeAmount]}};import{PublicKey as Ki}from"@solana/web3.js";import Mi from"bn.js";var qe=class{static getOutputAmountAndRemainAccounts(e,t,n,o,s){let r=n.equals(e.mintA.mint),a=[],{isExist:c,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,r);if(!c||u===void 0||!l)throw new Error("Invalid tick array");a.push(l);let{amountCalculated:b,accounts:m,sqrtPriceX64:d,feeAmount:y}=he.swapCompute(e.programId,e.id,t,r,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,o,u,s);return a.push(...m),{expectedAmountOut:b.mul(Pe),remainingAccounts:a,executionPrice:d,feeAmount:y}}static getInputAmountAndRemainAccounts(e,t,n,o,s){let r=n.equals(e.mintB.mint),a=[],{isExist:c,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,r);if(!c||u===void 0||!l)throw new Error("Invalid tick array");a.push(l);let{amountCalculated:b,accounts:m,sqrtPriceX64:d,feeAmount:y}=he.swapCompute(e.programId,e.id,t,r,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,o.mul(Pe),u,s);return a.push(...m),{expectedAmountIn:b,remainingAccounts:a,executionPrice:d,feeAmount:y}}static getFirstInitializedTickArray(e,t){let n=D.mergeTickArrayBitmap(e.tickArrayBitmap),{isInitialized:o,startIndex:s}=D.checkTickArrayIsInitialized(n,e.tickCurrent,e.tickSpacing);if(o){let{publicKey:c}=j(e.programId,e.id,s);return{isExist:!0,startIndex:s,nextAccountMeta:c}}let{isExist:r,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,t);if(r){let{publicKey:c}=j(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:c}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static nextInitializedTickArrayStartIndex(e,t){let n=D.mergeTickArrayBitmap(e.tickArrayBitmap),o=D.getTickArrayOffsetInBitmapByTick(e.tickCurrent,e.tickSpacing),s=t?D.searchLowBitFromStart(n,o-1,0,1,e.tickSpacing):D.searchHightBitFromStart(n,o,1024,1,e.tickSpacing);return s.length>0?{isExist:!0,nextStartIndex:s[0]}:{isExist:!1,nextStartIndex:0}}static updatePoolRewardInfos({chainTime:e,poolLiquidity:t,rewardInfos:n}){let o=[];for(let s of n){let r=ae(U({},s),{perSecond:L.x64ToDecimal(s.emissionsPerSecondX64),remainingRewards:void 0});if(r.tokenMint.equals(Ki.default))continue;if(e<=r.openTime.toNumber()||t.eq(x)){o.push(r);continue}let a=new Mi(Math.min(r.endTime.toNumber(),e)),c=a.sub(r.lastUpdateTime),u=L.mulDivFloor(c,r.emissionsPerSecondX64,t),l=r.rewardGrowthGlobalX64.add(u),b=L.mulDivFloor(c,r.emissionsPerSecondX64,be),m=r.rewardTotalEmissioned.add(b);o.push(ae(U({},r),{rewardGrowthGlobalX64:l,rewardTotalEmissioned:m,lastUpdateTime:a}))}return o}};import Fe from"bn.js";var nt=class{static getfeeGrowthInside(e,t,n){let o=new Fe(0),s=new Fe(0);e.tickCurrent>=t.tick?(o=t.feeGrowthOutsideX64A,s=t.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let r=new Fe(0),a=new Fe(0);e.tickCurrent<n.tick?(r=n.feeGrowthOutsideX64A,a=n.feeGrowthOutsideX64B):(r=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),a=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B));let c=L.wrappingSubU128(L.wrappingSubU128(e.feeGrowthGlobalX64A,o),r),u=L.wrappingSubU128(L.wrappingSubU128(e.feeGrowthGlobalX64B,s),a);return{feeGrowthInsideX64A:c,feeGrowthInsideBX64:u}}static GetPositionFees(e,t,n,o){let{feeGrowthInsideX64A:s,feeGrowthInsideBX64:r}=this.getfeeGrowthInside(e,n,o),a=L.mulDivFloor(L.wrappingSubU128(s,t.feeGrowthInsideLastX64A),t.liquidity,be),c=t.tokenFeesOwedA.add(a),u=L.mulDivFloor(L.wrappingSubU128(r,t.feeGrowthInsideLastX64B),t.liquidity,be),l=t.tokenFeesOwedB.add(u);return{tokenFeeAmountA:c,tokenFeeAmountB:l}}static GetPositionRewards(e,t,n,o){let s=[],r=this.getRewardGrowthInside(e.tickCurrent,n,o,e.rewardInfos);for(let a=0;a<r.length;a++){let c=r[a],u=t.rewardInfos[a],l=L.wrappingSubU128(c,u.growthInsideLastX64),b=L.mulDivFloor(l,t.liquidity,be),m=u.rewardAmountOwed.add(b);s.push(m)}return s}static getRewardGrowthInside(e,t,n,o){let s=[];for(let r=0;r<o.length;r++){let a=new Fe(0);t.liquidityGross.eqn(0)?a=o[r].rewardGrowthGlobalX64:e<t.tick?a=o[r].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[r]):a=t.rewardGrowthsOutsideX64[r];let c=new Fe(0);n.liquidityGross.eqn(0)||(e<n.tick?c=n.rewardGrowthsOutsideX64[r]:c=o[r].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[r])),s.push(L.wrappingSubU128(L.wrappingSubU128(o[r].rewardGrowthGlobalX64,a),c))}return s}};var $=_.from("AmmV3"),gt=class extends yt{static makeCreatePoolTransaction(c){return O(this,arguments,function*({connection:e,programId:t,owner:n,mint1:o,mint2:s,ammConfig:r,initialPrice:a}){let[u,l,b]=o.mint._bn.gt(s.mint._bn)?[s,o,new R(1).div(a)]:[o,s,a],m=B.priceToSqrtPriceX64(b,u.decimals,l.decimals),d=new se;d.add(...re());let y=yield this.makeCreatePoolInstructions({connection:e,programId:t,owner:n,mintA:u,mintB:l,ammConfigId:r.id,initialPriceX64:m});return d.add(...y.instructions),{signers:y.signers,transaction:d,mockPoolInfo:{id:y.address.poolId,mintA:{mint:u.mint,vault:y.address.mintAVault,decimals:u.decimals},mintB:{mint:l.mint,vault:y.address.mintBVault,decimals:l.decimals},ammConfig:r,observationId:y.address.observationId,creator:n,programId:t,version:6,tickSpacing:r.tickSpacing,liquidity:x,sqrtPriceX64:m,currentPrice:b,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:x,feeGrowthGlobalX64B:x,protocolFeesTokenA:x,protocolFeesTokenB:x,swapInAmountTokenA:x,swapOutAmountTokenB:x,swapInAmountTokenB:x,swapOutAmountTokenA:x,tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0}}})}static makeOpenPositionTransaction(u){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,tickLower:o,tickUpper:s,liquidity:r,slippage:a,associatedOnly:c=!0}){let l=[],b=[],m=[],{amountSlippageA:d,amountSlippageB:y}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,B.getSqrtPriceX64FromTick(o),B.getSqrtPriceX64FromTick(s),r,!0,!0,a),S=n.useSOLBalance&&t.mintA.mint.equals(N.WSOL.mint),A=n.useSOLBalance&&t.mintB.mint.equals(N.WSOL.mint),f=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:S?[]:n.tokenAccounts,owner:n.wallet,createInfo:S?{connection:e,payer:n.feePayer,amount:d,frontInstructions:l,endInstructions:b,signers:m}:void 0,associatedOnly:S?!1:c}),P=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:A?[]:n.tokenAccounts,owner:n.wallet,createInfo:A?{connection:e,payer:n.feePayer,amount:y,frontInstructions:l,endInstructions:b,signers:m}:void 0,associatedOnly:A?!1:c});$.assertArgument(f!==void 0&&P!==void 0,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let T=new se;T.add(...re());let g=this.makeOpenPositionInstructions({poolInfo:t,ownerInfo:ae(U({},n),{tokenAccountA:f,tokenAccountB:P}),tickLower:o,tickUpper:s,liquidity:r,amountSlippageA:d,amountSlippageB:y});return T.add(...l,...g.instructions,...b),{signers:[...m,...g.signers],transaction:T,address:U({},g.address)}})}static makeIncreaseLiquidityTransaction(a){return O(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:o,liquidity:s,slippage:r}){let c=[],u=[],l=[],{amountSlippageA:b,amountSlippageB:m}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,B.getSqrtPriceX64FromTick(n.tickLower),B.getSqrtPriceX64FromTick(n.tickUpper),s,!0,!0,r),d,y;t.mintA.mint.equals(new le(X.mint))&&o.useSOLBalance?d=yield this._handleTokenAccount({connection:e,side:"in",amount:b,mint:t.mintA.mint,tokenAccount:null,owner:o.wallet,payer:o.feePayer,frontInstructions:c,endInstructions:u,signers:l,bypassAssociatedCheck:!0}):d=this._selectTokenAccount({tokenAccounts:o.tokenAccounts,mint:t.mintA.mint,owner:o.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new le(X.mint))&&o.useSOLBalance?y=yield this._handleTokenAccount({connection:e,side:"in",amount:m,mint:t.mintB.mint,tokenAccount:null,owner:o.wallet,payer:o.feePayer,frontInstructions:c,endInstructions:u,signers:l,bypassAssociatedCheck:!0}):y=this._selectTokenAccount({tokenAccounts:o.tokenAccounts,mint:t.mintB.mint,owner:o.wallet,config:{associatedOnly:!1}}),$.assertArgument(!!d||!!y,"cannot found target token accounts","tokenAccounts",o.tokenAccounts);let S=new se;S.add(...re());let A=this.makeIncreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:o.wallet,tokenAccountA:d,tokenAccountB:y},liquidity:s,amountSlippageA:b,amountSlippageB:m});return S.add(...c,...A.instructions,...u),{signers:[...l,...A.signers],transaction:S,address:U({},A.address)}})}static makeDecreaseLiquidityTransaction(l){return O(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:o,liquidity:s,amountMinA:r,amountMinB:a,slippage:c,associatedOnly:u=!0}){let b=[],m=[],d=[],y,S;if(r!==void 0&&a!==void 0)y=r,S=a;else{let{amountSlippageA:K,amountSlippageB:q}=I.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,B.getSqrtPriceX64FromTick(n.tickLower),B.getSqrtPriceX64FromTick(n.tickUpper),s,!1,!0,c!=null?c:0);y=K,S=q}let A=o.useSOLBalance&&t.mintA.mint.equals(N.WSOL.mint),f=o.useSOLBalance&&t.mintB.mint.equals(N.WSOL.mint),P=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:A?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,signers:d},associatedOnly:A?!1:u}),T=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:f?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,signers:d},associatedOnly:f?!1:u}),g=[];for(let K of t.rewardInfos){let q=o.useSOLBalance&&K.tokenMint.equals(N.WSOL.mint),ee=yield this._selectOrCreateTokenAccount({mint:K.tokenMint,tokenAccounts:q?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:e,payer:o.feePayer,amount:0,frontInstructions:b,endInstructions:q?m:[],signers:d},associatedOnly:q?!1:u});g.push(ee)}$.assertArgument(!!P||!!T,"cannot found target token accounts","tokenAccounts",o.tokenAccounts);let w=new se;w.add(...re());let Q=this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:o.wallet,tokenAccountA:P,tokenAccountB:T,rewardAccounts:g},liquidity:s,amountMinA:y,amountMinB:S});return w.add(...b,...Q.instructions,...m),o.closePosition&&w.add(...this.makeClosePositionInstructions({poolInfo:t,ownerInfo:o,ownerPosition:n}).instructions),{signers:[...d,...Q.signers],transaction:w,address:U({},Q.address)}})}static makeSwapBaseInTransaction(u){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,inputMint:o,amountIn:s,amountOutMin:r,priceLimit:a,remainingAccounts:c}){let l=[],b=[],m=[],d;!a||a.equals(new R(0))?d=o.equals(t.mintA.mint)?Te.add(v):ke.sub(v):d=B.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(o),S,A;t.mintA.mint.equals(new le(X.mint))&&n.useSOLBalance?S=yield this._handleTokenAccount({connection:e,side:"in",amount:y?s:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):S=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new le(X.mint))&&n.useSOLBalance?A=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:s,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):A=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),$.assertArgument(!!S||!!A,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let f=new se;f.add(...re());let P=this.makeSwapBaseInInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:S,tokenAccountB:A},inputMint:o,amountIn:s,amountOutMin:r,sqrtPriceLimitX64:d,remainingAccounts:c});return f.add(...l,...P.instructions,...b),{signers:[...m,...P.signers],transaction:f,address:U({},P.address)}})}static makeSwapBaseOutTransaction(u){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,outputMint:o,amountOut:s,amountInMax:r,priceLimit:a,remainingAccounts:c}){let l=[],b=[],m=[],d;!a||a.equals(new R(0))?d=o.equals(t.mintB.mint)?Te.add(v):ke.sub(v):d=B.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(o),S,A;t.mintA.mint.equals(new le(X.mint))&&n.useSOLBalance?S=yield this._handleTokenAccount({connection:e,side:"in",amount:y?r:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):S=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new le(X.mint))&&n.useSOLBalance?A=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:r,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:l,endInstructions:b,signers:m,bypassAssociatedCheck:!0}):A=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),$.assertArgument(!!S||!!A,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let f=new se;f.add(...re());let P=this.makeSwapBaseOutInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:S,tokenAccountB:A},outputMint:o,amountOut:s,amountInMax:r,sqrtPriceLimitX64:d,remainingAccounts:c});return f.add(...l,...P.instructions,...b),{signers:[...m,...P.signers],transaction:f,address:U({},P.address)}})}static makeCLosePositionTransaction({poolInfo:e,ownerPosition:t,ownerInfo:n}){let o=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:t}),s=new se;return s.add(...o.instructions),{signers:o.signers,transaction:s,address:U({},o.address)}}static makeInitRewardTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:o,associatedOnly:s=!0}){$.assertArgument(o.endTime>o.openTime,"reward time error","rewardInfo",o);let a=[],c=[],u=[],l=n.useSOLBalance&&o.mint.equals(N.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o.mint,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:l?{connection:e,payer:n.feePayer,amount:new G(new R(o.perSecond.sub(o.endTime-o.openTime).toFixed(0)).gte(o.perSecond.sub(o.endTime-o.openTime))?o.perSecond.sub(o.endTime-o.openTime).toFixed(0):o.perSecond.sub(o.endTime-o.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new se;m.add(...re());let d=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:o.mint,openTime:o.openTime,endTime:o.endTime,emissionsPerSecondX64:L.decimalToX64(o.perSecond)}});return m.add(...a,...d.instructions,...c),{signers:[...u,...d.signers],transaction:m,address:U({},d.address)}})}static makeInitRewardsTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:o,associatedOnly:s=!0}){for(let m of o)$.assertArgument(m.endTime>m.openTime,"reward time error","rewardInfo",m);let a=new se;a.add(...re());let c=[],u=[],l=[],b=[];for(let m of o){let d=n.useSOLBalance&&m.mint.equals(N.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m.mint,tokenAccounts:d?[]:n.tokenAccounts,owner:n.wallet,createInfo:d?{connection:e,payer:n.feePayer,amount:new G(new R(m.perSecond.sub(m.endTime-m.openTime).toFixed(0)).gte(m.perSecond.sub(m.endTime-m.openTime))?m.perSecond.sub(m.endTime-m.openTime).toFixed(0):m.perSecond.sub(m.endTime-m.openTime).add(1).toFixed(0)),frontInstructions:c,endInstructions:u,signers:b}:void 0,associatedOnly:d?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:m.mint,openTime:m.openTime,endTime:m.endTime,emissionsPerSecondX64:L.decimalToX64(m.perSecond)}});l.push(...S.instructions)}return a.add(...c,...l,...u),{signers:[...b],transaction:a,address:{}}})}static makeSetRewardTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:o,associatedOnly:s=!0}){$.assertArgument(o.endTime>o.openTime,"reward time error","rewardInfo",o);let a=[],c=[],u=[],l=n.useSOLBalance&&o.mint.equals(N.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o.mint,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:l?{connection:e,payer:n.feePayer,amount:new G(new R(o.perSecond.sub(o.endTime-o.openTime).toFixed(0)).gte(o.perSecond.sub(o.endTime-o.openTime))?o.perSecond.sub(o.endTime-o.openTime).toFixed(0):o.perSecond.sub(o.endTime-o.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:u}:void 0,associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new se;m.add(...re());let d=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardInfo:{mint:o.mint,openTime:o.openTime,endTime:o.endTime,emissionsPerSecondX64:L.decimalToX64(o.perSecond)}});return m.add(...a,...d.instructions,...c),{signers:[...u,...d.signers],transaction:m,address:U({},d.address)}})}static makeSetRewardsTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=[],b=new se;b.add(...re());for(let m of o){$.assertArgument(m.endTime>m.openTime,"reward time error","rewardInfo",m);let d=n.useSOLBalance&&m.mint.equals(N.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m.mint,tokenAccounts:d?[]:n.tokenAccounts,owner:n.wallet,createInfo:d?{connection:e,payer:n.feePayer,amount:new G(new R(m.perSecond.sub(m.endTime-m.openTime).toFixed(0)).gte(m.perSecond.sub(m.endTime-m.openTime))?m.perSecond.sub(m.endTime-m.openTime).toFixed(0):m.perSecond.sub(m.endTime-m.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:c,signers:l}:void 0,associatedOnly:d?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:m.mint,openTime:m.openTime,endTime:m.endTime,emissionsPerSecondX64:L.decimalToX64(m.perSecond)}});u.push(...S.instructions)}return b.add(...a,...u,...c),{signers:[...l],transaction:b,address:{}}})}static makeCollectRewardTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMint:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=n.useSOLBalance&&o.equals(N.WSOL.mint),b=yield this._selectOrCreateTokenAccount({mint:o,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:l?c:[],signers:u},associatedOnly:l?!1:s});$.assertArgument(b,"no money","ownerRewardAccount",n.tokenAccounts);let m=new se;m.add(...re());let d=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:b},rewardMint:o});return m.add(...a,...d.instructions,...c),{signers:[...u,...d.signers],transaction:m,address:U({},d.address)}})}static makeCollectRewardsTransaction(r){return O(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMints:o,associatedOnly:s=!0}){let a=[],c=[],u=[],l=new se;l.add(...re());let b=[];for(let m of o){let d=n.useSOLBalance&&m.equals(N.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:m,tokenAccounts:d?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:d?c:[],signers:b},associatedOnly:d?!1:s});$.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let S=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardMint:m});u.push(...S.instructions)}return l.add(...a,...u,...c),{signers:[...b],transaction:l,address:{}}})}static makeHarvestAllRewardTransaction(s){return O(this,arguments,function*({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:o=!0}){var d,y,S;let r={};for(let A of n.tokenAccounts)o?xe(n.wallet,A.accountInfo.mint).publicKey.equals(A.pubkey)&&(r[A.accountInfo.mint.toString()]=A.pubkey):r[A.accountInfo.mint.toString()]=A.pubkey;let a=[],c=[],u=[],l=[];for(let A of Object.values(t)){if(A.positionAccount===void 0||!A.positionAccount.find(K=>!K.tokenFeeAmountA.isZero()||!K.tokenFeeAmountB.isZero()||K.rewardInfos.find(q=>!q.pendingReward.isZero())))continue;let f=A.state,P=n.useSOLBalance&&f.mintA.mint.equals(N.WSOL.mint),T=n.useSOLBalance&&f.mintB.mint.equals(N.WSOL.mint),g=(d=r[f.mintA.mint.toString()])!=null?d:yield this._selectOrCreateTokenAccount({mint:f.mintA.mint,tokenAccounts:P?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:l},associatedOnly:P?!1:o}),w=(y=r[f.mintB.mint.toString()])!=null?y:yield this._selectOrCreateTokenAccount({mint:f.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,signers:l},associatedOnly:T?!1:o});r[f.mintA.mint.toString()]=g,r[f.mintB.mint.toString()]=w;let Q=[];for(let K of f.rewardInfos){let q=n.useSOLBalance&&K.tokenMint.equals(N.WSOL.mint),ee=(S=r[K.tokenMint.toString()])!=null?S:yield this._selectOrCreateTokenAccount({mint:K.tokenMint,tokenAccounts:q?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:a,endInstructions:q?c:[],signers:l},associatedOnly:q?!1:o});r[K.tokenMint.toString()]=ee,Q.push(ee)}for(let K of A.positionAccount)u.push(...this.makeDecreaseLiquidityInstructions({poolInfo:f,ownerPosition:K,ownerInfo:{wallet:n.wallet,tokenAccountA:g,tokenAccountB:w,rewardAccounts:Q},liquidity:x,amountMinA:x,amountMinB:x}).instructions)}let b=[...a,...u,...c];return{transactions:wt({instructions:b,signers:l,payer:n.wallet}),address:{}}})}static makeCreatePoolInstructions(c){return O(this,arguments,function*({connection:e,programId:t,owner:n,mintA:o,mintB:s,ammConfigId:r,initialPriceX64:a}){let u=new Kn,l=[Vi.createAccount({fromPubkey:n,newAccountPubkey:u.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(Ut.span),space:Ut.span,programId:t})],b=ln(t,r,o.mint,s.mint).publicKey,m=Dt(t,b,o.mint).publicKey,d=Dt(t,b,s.mint).publicKey;return l.push(An(t,b,n,r,u.publicKey,o.mint,m,s.mint,d,a)),{signers:[u],instructions:l,address:{poolId:b,observationId:u.publicKey,mintAVault:m,mintBVault:d}}})}static makeOpenPositionInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:o,liquidity:s,amountSlippageA:r,amountSlippageB:a}){let c=[],u=new Kn;c.push(u);let l=D.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),b=D.getTickArrayStartIndexByTick(o,e.ammConfig.tickSpacing),{publicKey:m}=j(e.programId,e.id,l),{publicKey:d}=j(e.programId,e.id,b),{publicKey:y}=xe(t.wallet,u.publicKey),{publicKey:S}=pn(u.publicKey),{publicKey:A}=Ve(e.programId,u.publicKey),{publicKey:f}=pt(e.programId,e.id,n,o),P=fn(e.programId,t.feePayer,e.id,t.wallet,u.publicKey,y,S,f,m,d,A,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,n,o,l,b,s,r,a);return{signers:[u],instructions:[P],address:{}}}static makeIncreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:o,amountSlippageA:s,amountSlippageB:r}){let a=D.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=D.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=j(e.programId,e.id,a),{publicKey:l}=j(e.programId,e.id,c),{publicKey:b}=xe(n.wallet,t.nftMint),{publicKey:m}=Ve(e.programId,t.nftMint),{publicKey:d}=pt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];return y.push(Pn(e.programId,n.wallet,b,m,e.id,d,u,l,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,o,s,r)),{signers:[],instructions:y,address:{}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:o,amountMinA:s,amountMinB:r}){let a=D.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=D.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:u}=j(e.programId,e.id,a),{publicKey:l}=j(e.programId,e.id,c),{publicKey:b}=xe(n.wallet,t.nftMint),{publicKey:m}=Ve(e.programId,t.nftMint),{publicKey:d}=pt(e.programId,e.id,t.tickLower,t.tickUpper),y=[];for(let A=0;A<e.rewardInfos.length;A++)y.push({poolRewardVault:e.rewardInfos[A].tokenVault,ownerRewardVault:n.rewardAccounts[A]});let S=[];return S.push(Tn(e.programId,n.wallet,b,m,e.id,d,u,l,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,y,o,s,r)),{signers:[],instructions:S,address:{}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:t,ownerPosition:n}){let{publicKey:o}=xe(t.wallet,n.nftMint),{publicKey:s}=Ve(e.programId,n.nftMint),r=[];return r.push(gn(e.programId,t.wallet,n.nftMint,o,s)),{signers:[],instructions:r,address:{}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:t,inputMint:n,amountIn:o,amountOutMin:s,sqrtPriceLimitX64:r,remainingAccounts:a}){let c=e.mintA.mint.equals(n),u=[ht(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountA:t.tokenAccountB,c?t.tokenAccountB:t.tokenAccountA,c?e.mintA.vault:e.mintB.vault,c?e.mintB.vault:e.mintA.vault,a,e.observationId,o,s,r,!0)];return{signers:[],instructions:u,address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,ownerInfo:t,outputMint:n,amountOut:o,amountInMax:s,sqrtPriceLimitX64:r,remainingAccounts:a}){let c=e.mintA.mint.equals(n),u=[ht(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountB:t.tokenAccountA,c?t.tokenAccountA:t.tokenAccountB,c?e.mintB.vault:e.mintA.vault,c?e.mintA.vault:e.mintB.vault,a,e.observationId,o,s,r,!1)];return{signers:[],instructions:u,address:{}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let o=dn(e.programId,e.id,n.mint).publicKey,s=bt(e.programId).publicKey,r=[kn(e.programId,t.wallet,e.id,s,e.ammConfig.id,t.tokenAccount,n.mint,o,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:r,address:{}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let o,s;for(let c=0;c<e.rewardInfos.length;c++)e.rewardInfos[c].tokenMint.equals(n.mint)&&(o=c,s=e.rewardInfos[c].tokenVault);$.assertArgument(o!==void 0&&s!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let r=bt(e.programId).publicKey,a=[wn(e.programId,t.wallet,e.id,r,e.ammConfig.id,t.tokenAccount,s,o,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:a,address:{}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:t,rewardMint:n}){let o,s;for(let a=0;a<e.rewardInfos.length;a++)e.rewardInfos[a].tokenMint.equals(n)&&(o=a,s=e.rewardInfos[a].tokenVault);$.assertArgument(o!==void 0&&s!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let r=[Ln(e.programId,t.wallet,e.id,t.tokenAccount,s,o)];return{signers:[],instructions:r,address:{}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:n,tickUpper:o,amount:s,slippage:r,add:a}){let c=e.sqrtPriceX64,u=B.getSqrtPriceX64FromTick(n),l=B.getSqrtPriceX64FromTick(o),b=a?1-r:1+r,m=s.mul(new G(Math.floor(b*1e6))).div(new G(1e6)),d;if(c.lte(u))d=t?I.getLiquidityFromTokenAmountA(u,l,m,!a):new G(0);else if(c.lte(l)){let A=I.getLiquidityFromTokenAmountA(c,l,m,!a),f=I.getLiquidityFromTokenAmountB(u,c,m);d=t?A:f}else d=t?new G(0):I.getLiquidityFromTokenAmountB(u,l,m);let y=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,u,l,d,a,!a,r),S=I.getAmountsFromLiquidity(e.sqrtPriceX64,u,l,d,!a);return U(U({liquidity:d},y),S)}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:n,slippage:o,add:s}){let r=B.getSqrtPriceX64FromTick(t.tickLower),a=B.getSqrtPriceX64FromTick(t.tickUpper);return I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,r,a,n,s,s,o)}static getPriceAndTick({poolInfo:e,price:t,baseIn:n}){let o=n?t:new R(1).div(t),s=ve.getTickWithPriceAndTickspacing(o,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),r=B.getSqrtPriceX64FromTick(s),a=B.sqrtPriceX64ToPrice(r,e.mintA.decimals,e.mintB.decimals);return n?{tick:s,price:a}:{tick:s,price:new R(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:n}){let o=B.getSqrtPriceX64FromTick(t),s=B.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return n?{tick:t,price:s,tickSqrtPriceX64:o}:{tick:t,price:new R(1).div(s),tickSqrtPriceX64:o}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:n,currencyOut:o,slippage:s}){let r=n instanceof ue,a=(r?n.token:N.WSOL).mint,c=n.raw,u=s.numerator.toNumber()/s.denominator.toNumber(),{amountOut:l,minAmountOut:b,currentPrice:m,executionPrice:d,priceImpact:y,fee:S,remainingAccounts:A}=gt.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:a,amountIn:c,slippage:u}),f=o instanceof N?new ue(o,l):new ce(o,l),P=o instanceof N?new ue(o,b):new ce(o,b),T=new ye(r?n.token:n.currency,new G(10).pow(new G(20+(r?n.token:n.currency).decimals)),o instanceof N?o:N.WSOL,m.mul(new R(Re(10,20+(o instanceof N?o:N.WSOL).decimals))).toFixed(0)),g=new ye(r?n.token:n.currency,new G(10).pow(new G(20+(r?n.token:n.currency).decimals)),o instanceof N?o:N.WSOL,d.mul(new R(Re(10,20+(o instanceof N?o:N.WSOL).decimals))).toFixed(0)),w=r?new ue(n.token,S):new ce(n.currency,S);return{amountOut:f,minAmountOut:P,currentPrice:T,executionPrice:g,priceImpact:y,fee:w,remainingAccounts:A}}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:n,amountIn:o,slippage:s,priceLimit:r=new R(0)}){let a;r.equals(new R(0))?a=n.equals(e.mintA.mint)?Te.add(v):ke.sub(v):a=B.priceToSqrtPriceX64(r,e.mintA.decimals,e.mintB.decimals);let{expectedAmountOut:c,remainingAccounts:u,executionPrice:l,feeAmount:b}=qe.getOutputAmountAndRemainAccounts(e,t,n,o,a),m=B.sqrtPriceX64ToPrice(l,e.mintA.decimals,e.mintB.decimals),d=n.equals(e.mintA.mint)?m:new R(1).div(m),y=c.mul(new G(Math.floor((1-s)*1e10))).div(new G(1e10)),S=e.mintA.mint.equals(n)?e.currentPrice:new R(1).div(e.currentPrice),A=new R(d).sub(S).abs(),f=S,P=new Oe(new R(A).mul(Re(10,15)).toFixed(0),new R(f).mul(Re(10,15)).toFixed(0));return{amountOut:c,minAmountOut:y,currentPrice:e.currentPrice,executionPrice:d,priceImpact:P,fee:b,remainingAccounts:u}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:n,amountOut:o,slippage:s,priceLimit:r=new R(0)}){let a;r.equals(new R(0))?a=n.equals(e.mintB.mint)?Te.add(v):ke.sub(v):a=B.priceToSqrtPriceX64(r,e.mintA.decimals,e.mintB.decimals);let{expectedAmountIn:c,remainingAccounts:u,executionPrice:l,feeAmount:b}=qe.getInputAmountAndRemainAccounts(e,t,n,o,a),m=B.sqrtPriceX64ToPrice(l,e.mintA.decimals,e.mintB.decimals),d=n.equals(e.mintA.mint)?m:new R(1).div(m),y=c.mul(new G(Math.floor((1+s)*1e10))).div(new G(1e10)),S=e.mintA.mint.equals(n)?e.currentPrice:new R(1).div(e.currentPrice),A=new R(d).sub(S).abs(),f=S,P=new Oe(new R(A).mul(Re(10,15)).toFixed(0),new R(f).mul(Re(10,15)).toFixed(0));return{amountIn:c,maxAmountIn:y,currentPrice:e.currentPrice,executionPrice:d,priceImpact:P,fee:b,remainingAccounts:u}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:n,positionTickUpperIndex:o}){let s=e[t],r=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),a=this.getTickPrice({poolInfo:e,tick:o,baseIn:!0}).price.toNumber(),c=Math.max(r,s.priceMin),l=Math.min(a,s.priceMax)-c,b=a-r,m=s.priceMax-s.priceMin,d;return l<=0?d=0:b===l?d=m/l:m===l?d=l/b:d=l/m*(l/b),{feeApr:s.feeApr*d,rewardsApr:[s.rewardApr.A*d,s.rewardApr.B*d,s.rewardApr.C*d],apr:s.apr*d}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:t,mintPrice:n,rewardMintDecimals:o,liquidity:s,positionTickLowerIndex:r,positionTickUpperIndex:a,chainTime:c}){let u=t==="day"?1:t==="week"?7:t==="month"?30:0,l=e[t],b=n[e.mintA.mint.toString()],m=n[e.mintB.mint.toString()],d=e.mintA.decimals,y=e.mintB.decimals;if(!l||!b||!m)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let S=B.getSqrtPriceX64FromTick(r),A=B.getSqrtPriceX64FromTick(a),{amountSlippageA:f,amountSlippageB:P}=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,S,A,e.liquidity,!1,!1,0),{amountSlippageA:T,amountSlippageB:g}=I.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,S,A,s,!1,!1,0),w=new R(f.toString()).div(new R(10).pow(d)).mul(b.toFixed(d)).add(new R(P.toString()).div(new R(10).pow(y)).mul(m.toFixed(y))),Q=new R(T.toString()).div(new R(10).pow(d)).mul(b.toFixed(d)).add(new R(g.toString()).div(new R(10).pow(y)).mul(m.toFixed(y))),K=Q.div(w.add(Q)).div(Q),ee=new R(l.volumeFee).mul(365).div(u).mul(K).mul(100).toNumber(),Ie=3600*24*365,Ce=e.rewardInfos.map(ne=>{let de=o[ne.tokenMint.toString()],we=n[ne.tokenMint.toString()];return c<ne.openTime.toNumber()||c>ne.endTime.toNumber()||ne.perSecond.equals(0)||!we||de===void 0?0:new R(we.toFixed(de)).mul(ne.perSecond.mul(Ie)).div(new R(10).pow(de)).mul(K).mul(100).toNumber()});return{feeApr:ee,rewardsApr:Ce,apr:ee+Ce.reduce((ne,de)=>ne+de,0)}}static fetchMultiplePoolInfos(r){return O(this,arguments,function*({connection:e,poolKeys:t,ownerInfo:n,chainTime:o,batchRequest:s=!1}){var b;let a=yield Le(e,t.map(m=>new le(m.id)),{batchRequest:s}),c=[],u={},l=[];for(let m=0;m<t.length;m++){let d=t[m],y=a[m];if(y===null)continue;let S=xn.decode(y.data);u[d.id]={state:{id:new le(d.id),mintA:{mint:S.mintA,vault:S.vaultA,decimals:S.mintDecimalsA},mintB:{mint:S.mintB,vault:S.vaultB,decimals:S.mintDecimalsB},observationId:S.observationId,ammConfig:ae(U({},d.ammConfig),{id:new le(d.ammConfig.id)}),creator:S.creator,programId:y.owner,version:6,tickSpacing:S.tickSpacing,liquidity:S.liquidity,sqrtPriceX64:S.sqrtPriceX64,currentPrice:B.sqrtPriceX64ToPrice(S.sqrtPriceX64,S.mintDecimalsA,S.mintDecimalsB),tickCurrent:S.tickCurrent,observationIndex:S.observationIndex,observationUpdateDuration:S.observationUpdateDuration,feeGrowthGlobalX64A:S.feeGrowthGlobalX64A,feeGrowthGlobalX64B:S.feeGrowthGlobalX64B,protocolFeesTokenA:S.protocolFeesTokenA,protocolFeesTokenB:S.protocolFeesTokenB,swapInAmountTokenA:S.swapInAmountTokenA,swapOutAmountTokenB:S.swapOutAmountTokenB,swapInAmountTokenB:S.swapInAmountTokenB,swapOutAmountTokenA:S.swapOutAmountTokenA,tickArrayBitmap:S.tickArrayBitmap,rewardInfos:qe.updatePoolRewardInfos({chainTime:o,poolLiquidity:S.liquidity,rewardInfos:S.rewardInfos.filter(A=>!A.tokenMint.equals(le.default))}),day:d.day,week:d.week,month:d.month,tvl:d.tvl}},n&&l.push(...u[d.id].state.rewardInfos.filter(A=>A.creator.equals(n.wallet))),c.find(A=>A.equals(y.owner))||c.push(y.owner)}if(n){let m=n.tokenAccounts.filter(T=>T.accountInfo.amount.eq(new G(1))).map(T=>T.accountInfo.mint),d=[];for(let T of m)for(let g of c)d.push(Ve(g,T).publicKey);let y=yield Le(e,d,{batchRequest:s}),S={};for(let T of y){if(T===null)continue;let g=Cn.decode(T.data),w=g.poolId.toString(),Q=u[w];if(Q===void 0)continue;let K=Q.state,q=this.getTickPrice({poolInfo:K,tick:g.tickLower,baseIn:!0}),ee=this.getTickPrice({poolInfo:K,tick:g.tickUpper,baseIn:!0}),{amountA:Ie,amountB:Ce}=I.getAmountsFromLiquidity(K.sqrtPriceX64,q.tickSqrtPriceX64,ee.tickSqrtPriceX64,g.liquidity,!1),ne=1/(1-Math.sqrt(Math.sqrt(q.price.div(ee.price).toNumber())));u[w].positionAccount=[...(b=u[w].positionAccount)!=null?b:[],{poolId:g.poolId,nftMint:g.nftMint,priceLower:q.price,priceUpper:ee.price,amountA:Ie,amountB:Ce,tickLower:g.tickLower,tickUpper:g.tickUpper,liquidity:g.liquidity,feeGrowthInsideLastX64A:g.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:g.feeGrowthInsideLastX64B,tokenFeesOwedA:g.tokenFeesOwedA,tokenFeesOwedB:g.tokenFeesOwedB,rewardInfos:g.rewardInfos.map(Ne=>ae(U({},Ne),{pendingReward:new G(0)})),leverage:ne,tokenFeeAmountA:new G(0),tokenFeeAmountB:new G(0)}];let de=D.getTickArrayAddressByTick(u[w].state.programId,g.poolId,g.tickLower,u[w].state.tickSpacing),we=D.getTickArrayAddressByTick(u[w].state.programId,g.poolId,g.tickUpper,u[w].state.tickSpacing);S[`${u[w].state.programId.toString()}-${g.poolId.toString()}-${g.tickLower}`]=de,S[`${u[w].state.programId.toString()}-${g.poolId.toString()}-${g.tickUpper}`]=we}let A=Object.values(S),f=yield Le(e,A,{batchRequest:s}),P={};for(let T=0;T<A.length;T++){let g=f[T];if(g===null)continue;let w=A[T].toString();P[w]=Ze.decode(g.data)}for(let{state:T,positionAccount:g}of Object.values(u))if(!!g)for(let w of g){let Q=`${T.programId.toString()}-${T.id.toString()}-${w.tickLower}`,K=`${T.programId.toString()}-${T.id.toString()}-${w.tickUpper}`,q=P[S[Q].toString()],ee=P[S[K].toString()],Ie=q.ticks[D.getTickOffsetInArray(w.tickLower,T.tickSpacing)],Ce=ee.ticks[D.getTickOffsetInArray(w.tickUpper,T.tickSpacing)],{tokenFeeAmountA:ne,tokenFeeAmountB:de}=nt.GetPositionFees(T,w,Ie,Ce),we=nt.GetPositionRewards(T,w,Ie,Ce);w.tokenFeeAmountA=ne.gte(x)?ne:x,w.tokenFeeAmountB=de.gte(x)?de:x;for(let Ne=0;Ne<we.length;Ne++)w.rewardInfos[Ne].pendingReward=we[Ne].gte(x)?we[Ne]:x}}if(l.length>0){let m=l.map(S=>S.tokenVault),d=yield Le(e,m,{batchRequest:s}),y={};for(let S=0;S<m.length;S++){let A=m[S].toString(),f=d[S];if(f===null)continue;let P=Je.decode(f.data);y[A]=P.amount}for(let S of l){let A=y[S.tokenVault.toString()];S.remainingRewards=A!==void 0?A.sub(S.rewardTotalEmissioned):x}}return u})}static fetchMultiplePoolTickArrays(o){return O(this,arguments,function*({connection:e,poolKeys:t,batchRequest:n}){let s={},r=[];for(let u of t){let l=D.mergeTickArrayBitmap(u.tickArrayBitmap),b=D.getTickArrayStartIndexByTick(u.tickCurrent,u.tickSpacing),m=D.getInitializedTickArrayInRange(l,u.tickSpacing,b,Math.floor(Et/2));for(let d of m){let{publicKey:y}=j(u.programId,u.id,d);r.push({pubkey:y}),s[y.toString()]=u.id}}let a=yield Zt(e,r,{batchRequest:n}),c={};for(let u of a){if(!u.accountInfo)continue;let l=s[u.pubkey.toString()];if(!l)continue;c[l]===void 0&&(c[l]={});let b=Ze.decode(u.accountInfo.data);c[l][b.startTickIndex]=ae(U({},b),{address:u.pubkey})}return c})}static getWhiteListMint(n){return O(this,arguments,function*({connection:e,programId:t}){let o=yield e.getAccountInfo(bt(t).publicKey);return o?Nn.decode(o.data).whitelistMints.filter(r=>!r.equals(le.default)):[]})}};export{gt as AmmV3};
//# sourceMappingURL=ammV3.mjs.map