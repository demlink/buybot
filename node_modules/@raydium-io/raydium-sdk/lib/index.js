"use strict";var vr=Object.create;var zt=Object.defineProperty,Kr=Object.defineProperties,qr=Object.getOwnPropertyDescriptor,Fr=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertyNames,po=Object.getOwnPropertySymbols,Gr=Object.getPrototypeOf,yo=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable;var Ze=Math.pow,fo=(d,e,t)=>e in d?zt(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t,M=(d,e)=>{for(var t in e||(e={}))yo.call(e,t)&&fo(d,t,e[t]);if(po)for(var t of po(e))Yr.call(e,t)&&fo(d,t,e[t]);return d},ae=(d,e)=>Kr(d,Fr(e));var Xr=(d,e)=>{for(var t in e)zt(d,t,{get:e[t],enumerable:!0})},bo=(d,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Wr(e))!yo.call(d,i)&&i!==t&&zt(d,i,{get:()=>e[i],enumerable:!(n=qr(e,i))||n.enumerable});return d};var ye=(d,e,t)=>(t=d!=null?vr(Gr(d)):{},bo(e||!d||!d.__esModule?zt(t,"default",{value:d,enumerable:!0}):t,d)),Hr=d=>bo(zt({},"__esModule",{value:!0}),d);var E=(d,e,t)=>new Promise((n,i)=>{var r=a=>{try{s(t.next(a))}catch(m){i(m)}},o=a=>{try{s(t.throw(a))}catch(m){i(m)}},s=a=>a.done?n(a.value):Promise.resolve(a.value).then(r,o);s((t=t.apply(d,e)).next())});var Ba={};Xr(Ba,{AMM_CONFIG_SEED:()=>Qo,ASSOCIATED_TOKEN_PROGRAM_ID:()=>F.ASSOCIATED_TOKEN_PROGRAM_ID,AccountMeta:()=>S,AccountMetaReadonly:()=>w,AmmConfigLayout:()=>La,AmmV3:()=>st,BIT_PRECISION:()=>to,BNLayout:()=>Tt,Base:()=>De,BitStructure:()=>bs,Blob:()=>oi,Currency:()=>Qe,CurrencyAmount:()=>de,DEVNET_FARM_POOLS:()=>da,DEVNET_LP_TOKENS:()=>as,DEVNET_OFFICIAL_LIQUIDITY_POOLS:()=>wa,DEVNET_SPL_TOKENS:()=>ss,DataElement:()=>wr,ErrorCode:()=>zn,FARM_LEDGER_LAYOUT_V3_1:()=>ca,FARM_LEDGER_LAYOUT_V3_2:()=>lr,FARM_LEDGER_LAYOUT_V5_1:()=>ua,FARM_LEDGER_LAYOUT_V5_2:()=>dr,FARM_LEDGER_LAYOUT_V6_1:()=>pr,FARM_PROGRAMID_TO_VERSION:()=>yi,FARM_PROGRAM_ID_V3:()=>ir,FARM_PROGRAM_ID_V5:()=>or,FARM_PROGRAM_ID_V6:()=>rr,FARM_STATE_LAYOUT_V3:()=>ur,FARM_STATE_LAYOUT_V5:()=>mr,FARM_STATE_LAYOUT_V6:()=>mn,FARM_VERSION_TO_LEDGER_LAYOUT:()=>gi,FARM_VERSION_TO_PROGRAMID:()=>bi,FARM_VERSION_TO_STATE_LAYOUT:()=>Ai,FEE_RATE_DENOMINATOR:()=>fn,FETCH_TICKARRAY_COUNT:()=>Gn,FIVE:()=>is,Farm:()=>it,Fee:()=>_r,Fraction:()=>se,LIQUIDITY_FEES_DENOMINATOR:()=>Mn,LIQUIDITY_FEES_NUMERATOR:()=>_i,LIQUIDITY_PROGRAMID_TO_VERSION:()=>ki,LIQUIDITY_PROGRAM_ID_V4:()=>fr,LIQUIDITY_PROGRAM_ID_V5:()=>yr,LIQUIDITY_STATE_LAYOUT_V4:()=>br,LIQUIDITY_STATE_LAYOUT_V5:()=>Ar,LIQUIDITY_VERSION_TO_PROGRAMID:()=>wi,LIQUIDITY_VERSION_TO_SERUM_VERSION:()=>Li,LIQUIDITY_VERSION_TO_STATE_LAYOUT:()=>Vn,LOG_B_2_X32:()=>no,LOG_B_P_ERR_MARGIN_LOWER_X64:()=>io,LOG_B_P_ERR_MARGIN_UPPER_X64:()=>oo,Layout:()=>Ot,Liquidity:()=>Pe,LiquidityMath:()=>ee,LiquidityPoolStatus:()=>Rr,LogLevel:()=>Qn,Logger:()=>Q,MAINNET_FARM_POOLS:()=>ma,MAINNET_LP_TOKENS:()=>x,MAINNET_OFFICIAL_LIQUIDITY_POOLS:()=>Ta,MAINNET_SPL_TOKENS:()=>c,MARKET_STATE_LAYOUT_V2:()=>co,MARKET_STATE_LAYOUT_V3:()=>Pr,MARKET_VERSION_TO_STATE_LAYOUT:()=>xi,MAX_SQRT_PRICE_X64:()=>Xe,MAX_TICK:()=>Wt,MAX_TICK_ARRAY_START_INDEX:()=>eo,MEMO_PROGRAM_ID:()=>zr,METADATA_PROGRAM_ID:()=>Ct,MIN_SQRT_PRICE_X64:()=>Ye,MIN_TICK:()=>ht,MIN_TICK_ARRAY_START_INDEX:()=>$i,Market:()=>wt,MarketV2:()=>uo,MathUtil:()=>Y,MaxU64:()=>Wn,MaxUint128:()=>ji,ModelDataInfo:()=>Lr,ModelDataPubkey:()=>ot,NEGATIVE_ONE:()=>rt,ONE:()=>ie,OPERATION_SEED:()=>$o,ObservationInfoLayout:()=>qn,ObservationLayout:()=>Cr,OperationLayout:()=>Wi,OptionLayout:()=>Cn,POOL_REWARD_VAULT_SEED:()=>Zo,POOL_SEED:()=>zo,POOL_VAULT_SEED:()=>Jo,POSITION_SEED:()=>ci,Percent:()=>we,PoolInfoLayout:()=>qi,PoolUtils:()=>xt,PositionInfoLayout:()=>Fi,PositionRewardInfoLayout:()=>Nr,PositionUtils:()=>Yt,Price:()=>pe,ProtocolPositionLayout:()=>Ia,Q128:()=>pn,Q64:()=>Je,REAL_FARM_STATE_LAYOUT_V3:()=>sr,REAL_FARM_STATE_LAYOUT_V5:()=>ar,REAL_FARM_STATE_LAYOUT_V6:()=>cr,RENT_PROGRAM_ID:()=>Jt,ROUTE_PROGRAMID_TO_VERSION:()=>Vi,ROUTE_PROGRAM_ID_V1:()=>vt,ROUTE_VERSION_TO_LIQUIDITY_VERSION:()=>Mi,ROUTE_VERSION_TO_PROGRAMID:()=>Ui,RewardInfo:()=>Dr,Rounding:()=>Pn,Route:()=>bt,SERUM_PROGRAMID_TO_VERSION:()=>hi,SERUM_PROGRAM_ID_V3:()=>Sr,SERUM_VERSION_TO_PROGRAMID:()=>Ri,SOL:()=>Pt,SPL_ACCOUNT_LAYOUT:()=>ze,SPL_MINT_LAYOUT:()=>na,SYSTEM_PROGRAM_ID:()=>Ae,SYSVAR_CLOCK_PUBKEY:()=>ge.SYSVAR_CLOCK_PUBKEY,SYSVAR_RENT_PUBKEY:()=>ge.SYSVAR_RENT_PUBKEY,Spl:()=>te,SqrtPriceMath:()=>X,Structure:()=>Dn,SwapMath:()=>gt,TEN:()=>et,TESTNET_FARM_POOLS:()=>la,TESTNET_LP_TOKENS:()=>us,TESTNET_OFFICIAL_LIQUIDITY_POOLS:()=>ka,TESTNET_SPL_TOKENS:()=>cs,THREE:()=>ns,TICK_ARRAY_BITMAP_SIZE:()=>Kn,TICK_ARRAY_SEED:()=>jo,TICK_ARRAY_SIZE:()=>Re,TICK_SPACINGS:()=>ha,TOKEN_PROGRAM_ID:()=>F.TOKEN_PROGRAM_ID,TWO:()=>ts,TickArrayLayout:()=>qt,TickLayout:()=>Or,TickMath:()=>Rt,TickQuery:()=>yn,TickUtils:()=>$,Token:()=>C,TokenAmount:()=>W,TokenList:()=>ei,Trade:()=>vi,TradeV2:()=>bn,U64Resolution:()=>Ft,UInt:()=>hn,Union:()=>Nn,Utils1216:()=>pt,WSOL:()=>Se,WideBits:()=>rn,WrappedLayout:()=>nt,ZERO:()=>v,_100:()=>$n,_1000:()=>os,_10000:()=>rs,_100_PERCENT:()=>ii,_FARM_PROGRAM_ID_V3:()=>di,_FARM_PROGRAM_ID_V5:()=>pi,_FARM_PROGRAM_ID_V6:()=>fi,_LIQUIDITY_PROGRAM_ID_V4:()=>Pi,_LIQUIDITY_PROGRAM_ID_V5:()=>Ti,_ROUTE_PROGRAM_ID_V1:()=>Ei,_SERUM_PROGRAM_ID_V3:()=>Ii,addComputations:()=>Me,array:()=>$s,bits:()=>xn,blob:()=>me,bool:()=>sn,chunkArray:()=>jn,closePositionInstruction:()=>Xi,collectRewardInstruction:()=>Zi,createPoolInstruction:()=>Gi,cstr:()=>Ys,currencyEquals:()=>tt,decodeBool:()=>Go,decreaseLiquidityInstruction:()=>Qi,divCeil:()=>wn,encodeBool:()=>Yo,f32:()=>Ks,f32be:()=>qs,f64:()=>Fs,f64be:()=>Ws,findProgramAddress:()=>ne,forecastTransactionSize:()=>ft,formatLayout:()=>Ni,getATAAddress:()=>We,getDxByDyBaseIn:()=>Di,getDyByDxBaseIn:()=>Ci,getMultipleAccountsInfo:()=>ve,getMultipleAccountsInfoWithCustomFlags:()=>Dt,getPdaAmmConfigId:()=>ra,getPdaMetadataKey:()=>li,getPdaOperationAccount:()=>un,getPdaPersonalPositionAddress:()=>kt,getPdaPoolId:()=>ui,getPdaPoolRewardVaulId:()=>mi,getPdaPoolVaultId:()=>On,getPdaProtocolPositionAddress:()=>cn,getPdaTickArrayAddress:()=>Ie,getStablePrice:()=>Oi,greedy:()=>As,i128:()=>si,i16ToBytes:()=>ia,i32ToBytes:()=>an,i64:()=>Hs,increaseLiquidityInstruction:()=>Hi,initRewardInstruction:()=>zi,initStableModelLayout:()=>vn,inspectAll:()=>Zr,inspectBN:()=>Co,inspectCurrency:()=>ms,inspectPublicKey:()=>Bo,inspectToken:()=>ls,intersection:()=>jr,jsonInfo2PoolKeys:()=>Ve,ns64:()=>Os,ns64be:()=>vs,nu64:()=>Ts,nu64be:()=>Rs,offset:()=>Bn,openPositionInstruction:()=>Yi,option:()=>Qs,parseBigNumberish:()=>V,parseSimulateLogToJson:()=>jt,parseSimulateValue:()=>Le,poolKeys2JsonInfo:()=>Jn,poolTypeV6:()=>Ut,publicKey:()=>R,rustEnum:()=>js,s16:()=>Bs,s16be:()=>_s,s24:()=>Cs,s24be:()=>Es,s32:()=>Ue,s32be:()=>Vs,s40:()=>Ds,s40be:()=>Us,s48:()=>Ns,s48be:()=>Ms,s8:()=>xs,seq:()=>G,setRewardInstruction:()=>Ji,simulateMultipleInstruction:()=>Zt,simulateTransaction:()=>Do,splitNumber:()=>Mo,splitTxAndSigners:()=>St,str:()=>Zs,struct:()=>D,swapInstruction:()=>Fn,tagged:()=>Js,tenExponentiate:()=>kn,u128:()=>K,u16:()=>mt,u16ToBytes:()=>ai,u16be:()=>ks,u24:()=>gs,u24be:()=>ws,u32:()=>Oe,u32ToBytes:()=>oa,u32be:()=>Ls,u40:()=>Ss,u40be:()=>Is,u48:()=>Ps,u48be:()=>hs,u64:()=>A,u8:()=>U,union:()=>ea,unionLayoutDiscriminator:()=>Gs,uniq:()=>es,unwarpSol:()=>sa,utf8:()=>Xs,validateAndParsePublicKey:()=>ut,vec:()=>zs,vecU8:()=>Xo,xor:()=>$r,zeros:()=>ta});module.exports=Hr(Ba);var Vt=require("@solana/spl-token"),_n=require("@solana/web3.js");var Uo=ye(require("big.js")),nn=ye(require("bn.js"));var Zn=require("@solana/web3.js"),Io=require("bn.js");var ct=require("@solana/web3.js");var ko=require("@solana/web3.js");var Xn="1.1.0-beta.6";var Oa=require("@colors/colors"),Ao=!1,go=!1,Sn={debug:1,default:2,info:2,warning:3,error:4,off:5},So={},Hn;function Qr(){try{let d=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(t){d.push(e)}}),d.length)throw new Error("missing "+d.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(d){if(d instanceof Error)return d.message}return""}var Po=Qr(),Qn=(r=>(r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF",r))(Qn||{}),zn=(b=>(b.UNKNOWN_ERROR="UNKNOWN_ERROR",b.NOT_IMPLEMENTED="NOT_IMPLEMENTED",b.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",b.NETWORK_ERROR="NETWORK_ERROR",b.RPC_ERROR="RPC_ERROR",b.TIMEOUT="TIMEOUT",b.BUFFER_OVERRUN="BUFFER_OVERRUN",b.NUMERIC_FAULT="NUMERIC_FAULT",b.MISSING_NEW="MISSING_NEW",b.INVALID_ARGUMENT="INVALID_ARGUMENT",b.MISSING_ARGUMENT="MISSING_ARGUMENT",b.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",b.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",b))(zn||{}),To="0123456789abcdef";function wo(d,e=!1){let t=d;try{if(d instanceof Uint8Array){let n="";for(let i=0;i<d.length;i++)n+=To[d[i]>>4],n+=To[d[i]&15];t=`Uint8Array(0x${n})`}else if(d instanceof ko.PublicKey)t=`PublicKey(${d.toBase58()})`;else if(d instanceof Object&&!e){let n={};Object.entries(d).forEach(([i,r])=>{n[i]=wo(r,!0)}),t=JSON.stringify(n)}else e||(t=JSON.stringify(d))}catch(n){t=JSON.stringify(d.toString())}return t}var ke=class{constructor(e){this.version=Xn;this.moduleName=e}_log(e,t){let n=e.toLowerCase();Sn[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!((So[this.moduleName]||Sn.default)>Sn[n])&&console.log(...t)}debug(...e){this._log(ke.levels.DEBUG,["[DEBUG]".blue,...e])}info(...e){this._log(ke.levels.INFO,["[INFO]".green,...e])}warn(...e){this._log(ke.levels.WARNING,["[WARN]".yellow,...e])}makeError(e,t,n){if(go)return this.makeError("censored error",t,{});t||(t=ke.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.entries(n).forEach(([s,a])=>{i.push(`${s}=${wo(a)})`)}),i.push(`code=${t}`),i.push(`module=${this.moduleName}`),i.push(`version=${this.version}`);let r=e;i.length&&(e+=" ("+i.join(", ")+")");let o=new Error(e);return o.reason=r,o.code=t,Object.entries(n).forEach(([s,a])=>{o[s]=a}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,ke.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Po&&this.throwError("platform missing String.prototype.normalize",ke.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Po})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,ke.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,ke.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",ke.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",ke.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ke.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Hn||(Hn=new ke(Xn)),Hn}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ao){if(!e)return;this.globalLogger().throwError("error censorship permanent",ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}go=!!e,Ao=!!t}static setLogLevel(e,t){let n=Sn[t.toLowerCase()];if(n==null){ke.globalLogger().warn("invalid log level - "+t);return}So[e]=n}static from(e){return new ke(e)}},Q=ke;Q.errors=zn,Q.levels=Qn;var F=require("@solana/spl-token"),ge=require("@solana/web3.js"),Lo=Q.from("common/pubkey"),Ae=ct.SystemProgram.programId,zr=new ct.PublicKey("Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),Jt=new ct.PublicKey("SysvarRent111111111111111111111111111111111"),Ct=new ct.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function ut(d){if(d instanceof ct.PublicKey)return d;if(typeof d=="string")try{return new ct.PublicKey(d)}catch(e){return Lo.throwArgumentError("invalid public key","publicKey",d)}return Lo.throwArgumentError("invalid public key","publicKey",d)}function ne(d,e){let[t,n]=ct.PublicKey.findProgramAddressSync(d,e);return{publicKey:t,nonce:n}}function S(d,e){return{pubkey:d,isWritable:!0,isSigner:e}}function w(d,e){return{pubkey:d,isWritable:!1,isSigner:e}}var Jr=[W,Zn.PublicKey,se,Io.BN,Qe,de,pe,we];function ho(d){return typeof d=="object"&&d!==null&&!Jr.some(e=>typeof e=="object"&&d instanceof e)}function Ve(d){return typeof d=="string"?ut(d):Array.isArray(d)?d.map(e=>Ve(e)):ho(d)?Object.fromEntries(Object.entries(d).map(([e,t])=>[e,Ve(t)])):d}function Jn(d){return d instanceof Zn.PublicKey?d.toBase58():Array.isArray(d)?d.map(e=>Jn(e)):ho(d)?Object.fromEntries(Object.entries(d).map(([e,t])=>[e,Jn(t)])):d}var Ro=require("@solana/web3.js"),xo=ye(require("bn.js"));function Bo(){Ro.PublicKey.prototype.inspect=function(){return`<PublicKey: ${this.toString()}>`}}function Co(){xo.default.prototype.inspect=function(){return`<${this.red?"BN-R":"BN"}: ${this.toString()}>`}}function Zr(){Bo(),Co()}function jn(d,e=1,t=[]){let n=[...d];if(e<=0)return t;for(;n.length;)t.push(n.splice(0,e));return t}function jr(d,...e){return d.filter(t=>e.every(n=>n.includes(t)))}function $r(d,...e){return d.filter(t=>e.every(n=>!n.includes(t)))}function es(d){return[...new Set(d)]}var je=require("@solana/web3.js");var Fe=Q.from("common/web3");function ve(d,e,t){return E(this,null,function*(){let{batchRequest:n,commitment:i}=M({batchRequest:!1},t),r=jn(e,100),o=new Array(r.length).fill([]);if(n){let s=r.map(m=>({methodName:"getMultipleAccounts",args:d._buildArgs([m.map(f=>f.toBase58())],i,"base64")}));o=(yield d._rpcBatchRequest(s)).map(m=>m.error?Fe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:m.error.message}):m.result.value.map(u=>{if(u){let{data:f,executable:l,lamports:b,owner:y,rentEpoch:p}=u;return f.length!==2&&f[1]!=="base64"?Fe.throwError("info must be base64 encoded",Q.errors.RPC_ERROR):{data:Buffer.from(f[0],"base64"),executable:l,lamports:b,owner:new je.PublicKey(y),rentEpoch:p}}else return null}))}else try{o=yield Promise.all(r.map(s=>d.getMultipleAccountsInfo(s,i)))}catch(s){if(s instanceof Error)return Fe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:s.message})}return o.flat()})}function Dt(d,e,t){return E(this,null,function*(){let n=yield ve(d,e.map(i=>i.pubkey),t);return e.map((i,r)=>ae(M({},i),{accountInfo:n[r]}))})}function ft(d,e){if(d.length<1)return Fe.throwArgumentError("no instructions provided","instructions",d);if(e.length<1)return Fe.throwArgumentError("no signers provided","signers",e);let t=new je.Transaction({recentBlockhash:"11111111111111111111111111111111",feePayer:e[0]});t.add(...d);try{return t.serialize({verifySignatures:!1}),!0}catch(n){return!1}}function Zt(d,e,t,n=!0){return E(this,null,function*(){let i=new je.PublicKey("RaydiumSimuLateTransaction11111111111111111"),r=[],o=new je.Transaction;o.feePayer=i;for(let m of e)ft([...o.instructions,m],[i])||(r.push(o),o=new je.Transaction,o.feePayer=i),o.add(m);o.instructions.length>0&&r.push(o);let s=[];try{if(s=yield Do(d,r,n),s.find(m=>m.err!==null))throw Error("rpc simulateTransaction error")}catch(m){if(m instanceof Error)return Fe.throwError("failed to simulate for instructions",Q.errors.RPC_ERROR,{message:m.message})}let a=[];for(let m of s)if(Fe.debug("simulate result:",m),m.logs){let u=m.logs.filter(f=>f&&f.includes(t));Fe.debug("filteredLog:",a),Fe.assertArgument(u.length!==0,"simulate log not match keyword","keyword",t),a.push(...u)}return a})}function jt(d,e){let t=d.match(/{["\w:,]+}/g);return!t||t.length!==1?Fe.throwArgumentError("simulate log fail to match json","keyword",e):t[0]}function Le(d,e){let n=new RegExp(`"${e}":(\\d+)`,"g").exec(d);return!n||n.length!==2?Fe.throwArgumentError("simulate log fail to match key","key",e):n[1]}function Do(d,e,t){return E(this,null,function*(){let n=[];if(t){let i=yield d.getLatestBlockhash(),r=[];for(let m of e){m.recentBlockhash=i.blockhash,m.lastValidBlockHeight=i.lastValidBlockHeight;let f=m._compile().serialize(),b=m._serialize(f).toString("base64");r.push(b)}let o=r.map(m=>({methodName:"simulateTransaction",args:d._buildArgs([m],void 0,"base64")})),s=[],a=20;for(let m=0;m<Math.ceil(o.length/a);m++)s.push(o.slice(m*a,(m+1)*a));n=yield(yield Promise.all(s.map(m=>E(this,null,function*(){return(yield d._rpcBatchRequest(m)).map(u=>u.result.value)})))).flat()}else try{n=yield Promise.all(e.map(i=>E(this,null,function*(){return yield(yield d.simulateTransaction(i)).value})))}catch(i){if(i instanceof Error)return Fe.throwError("failed to get info for multiple accounts",Q.errors.RPC_ERROR,{message:i.message})}return n})}function St({instructions:d,signers:e,payer:t}){let n={};for(let o of e)n[o.publicKey.toString()]=o;let i=[],r=[];for(let o of d){let s=[...r,o],a=new Set(s.map(u=>u.keys.filter(f=>f.isSigner).map(f=>f.pubkey.toString())).flat()),m=[...a.values()].map(u=>new je.PublicKey(u));ft(s,[t,...m])?r.push(o):(i.push({transaction:new je.Transaction().add(...r),signer:[...a.values()].map(u=>n[u]).filter(u=>u!==void 0)}),r=[o])}if(r.length>0){let o=new Set(r.map(s=>s.keys.filter(a=>a.isSigner).map(a=>a.pubkey.toString())).flat());i.push({transaction:new je.Transaction().add(...r),signer:[...o.values()].map(s=>n[s]).filter(s=>s!==void 0)})}return i}var $t=ye(require("bn.js"));var $e=ye(require("bn.js")),Pn=(n=>(n[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP",n))(Pn||{}),v=new $e.default(0),ie=new $e.default(1),ts=new $e.default(2),ns=new $e.default(3),is=new $e.default(5),et=new $e.default(10),$n=new $e.default(100),os=new $e.default(1e3),rs=new $e.default(1e4);var Tn=Q.from("entity/bignumber"),No=9007199254740991;function V(d){return d instanceof $t.default?d:typeof d=="string"?d.match(/^-?[0-9]+$/)?new $t.default(d):Tn.throwArgumentError("invalid BigNumberish string","value",d):typeof d=="number"?d%1?Tn.throwArgumentError("BigNumberish number underflow","value",d):d>=No||d<=-No?Tn.throwArgumentError("BigNumberish number overflow","value",d):new $t.default(String(d)):typeof d=="bigint"?new $t.default(d.toString()):Tn.throwArgumentError("invalid BigNumberish value","value",d)}function kn(d){return et.pow(V(d))}function wn(d,e){let t=d.divmod(e);return t.mod.isZero()?t.div:t.div.isNeg()?t.div.isubn(1):t.div.iaddn(1)}var Pt={symbol:"SOL",name:"Solana",decimals:9},Se={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}};var c={WSOL:M({},Se),BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},x={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:c.FIDA,quote:c.RAY,decimals:c.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:c.OXY,quote:c.RAY,decimals:c.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:c.MAPS,quote:c.RAY,decimals:c.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:c.KIN,quote:c.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:c.RAY,quote:c.USDT,decimals:c.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:c.WSOL,quote:c.USDC,decimals:c.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:c.YFI,quote:c.USDC,decimals:c.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:c.SRM,quote:c.USDC,decimals:c.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:c.FTT,quote:c.USDC,decimals:c.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:c.BTC,quote:c.USDC,decimals:c.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:c.SUSHI,quote:c.USDC,decimals:c.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:c.TOMO,quote:c.USDC,decimals:c.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:c.LINK,quote:c.USDC,decimals:c.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:c.ETH,quote:c.USDC,decimals:c.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:c.xCOPE,quote:c.USDC,decimals:c.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:c.WSOL,quote:c.USDT,decimals:c.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:c.YFI,quote:c.USDT,decimals:c.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:c.SRM,quote:c.USDT,decimals:c.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:c.FTT,quote:c.USDT,decimals:c.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:c.BTC,quote:c.USDT,decimals:c.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:c.SUSHI,quote:c.USDT,decimals:c.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:c.TOMO,quote:c.USDT,decimals:c.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:c.LINK,quote:c.USDT,decimals:c.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:c.ETH,quote:c.USDT,decimals:c.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:c.YFI,quote:c.SRM,decimals:c.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:c.FTT,quote:c.SRM,decimals:c.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:c.BTC,quote:c.SRM,decimals:c.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:c.SUSHI,quote:c.SRM,decimals:c.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:c.TOMO,quote:c.SRM,decimals:c.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:c.LINK,quote:c.SRM,decimals:c.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:c.ETH,quote:c.SRM,decimals:c.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:c.SRM,quote:c.WSOL,decimals:c.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:c.STEP,quote:c.USDC,decimals:c.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:c.MEDIA,quote:c.USDC,decimals:c.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:c.ROPE,quote:c.USDC,decimals:c.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:c.MER,quote:c.USDC,decimals:c.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:c.COPE,quote:c.USDC,decimals:c.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:c.ALEPH,quote:c.USDC,decimals:c.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:c.TULIP,quote:c.USDC,decimals:c.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:c.WOO,quote:c.USDC,decimals:c.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:c.SNY,quote:c.USDC,decimals:c.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:c.BOP,quote:c.RAY,decimals:c.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:c.SLRS,quote:c.USDC,decimals:c.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:c.SAMO,quote:c.RAY,decimals:c.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:c.renBTC,quote:c.USDC,decimals:c.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:c.renDOGE,quote:c.USDC,decimals:c.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:c.RAY,quote:c.USDC,decimals:c.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:c.RAY,quote:c.SRM,decimals:c.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:c.RAY,quote:c.ETH,decimals:c.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:c.RAY,quote:c.WSOL,decimals:c.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:c.DXL,quote:c.USDC,decimals:c.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:c.LIKE,quote:c.USDC,decimals:c.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:c.mSOL,quote:c.USDC,decimals:c.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:c.mSOL,quote:c.WSOL,decimals:c.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:c.MER,quote:c.PAI,decimals:c.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:c.PORT,quote:c.USDC,decimals:c.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:c.MNGO,quote:c.USDC,decimals:c.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:c.ATLAS,quote:c.USDC,decimals:c.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:c.POLIS,quote:c.USDC,decimals:c.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:c.ATLAS,quote:c.RAY,decimals:c.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:c.POLIS,quote:c.RAY,decimals:c.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:c.ALEPH,quote:c.RAY,decimals:c.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:c.TULIP,quote:c.RAY,decimals:c.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:c.SLRS,quote:c.RAY,decimals:c.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:c.MER,quote:c.RAY,decimals:c.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:c.MEDIA,quote:c.RAY,decimals:c.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:c.SNY,quote:c.RAY,decimals:c.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:c.LIKE,quote:c.RAY,decimals:c.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:c.COPE,quote:c.RAY,decimals:c.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:c.ETH,quote:c.WSOL,decimals:c.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:c.stSOL,quote:c.USDC,decimals:c.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:c.GRAPE,quote:c.USDC,decimals:c.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:c.LARIX,quote:c.USDC,decimals:c.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:c.RIN,quote:c.USDC,decimals:c.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:c.APEX,quote:c.USDC,decimals:c.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:c.mSOL,quote:c.RAY,decimals:c.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:c.MNDE,quote:c.mSOL,decimals:c.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:c.LARIX,quote:c.RAY,decimals:c.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:c.LIQ,quote:c.USDC,decimals:c.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:c.WAG,quote:c.USDC,decimals:c.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:c.ETH,quote:c.mSOL,decimals:c.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:c.mSOL,quote:c.USDT,decimals:c.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:c.BTC,quote:c.mSOL,decimals:c.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:c.SLIM,quote:c.WSOL,decimals:c.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:c.AURY,quote:c.USDC,decimals:c.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:c.PRT,quote:c.WSOL,decimals:c.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:c.LIQ,quote:c.RAY,decimals:c.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:c.SYP,quote:c.WSOL,decimals:c.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:c.SYP,quote:c.RAY,decimals:c.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:c.SYP,quote:c.USDC,decimals:c.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:c.FAB,quote:c.USDC,decimals:c.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:c.WOOF,quote:c.RAY,decimals:c.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:c.WOOF,quote:c.USDC,decimals:c.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:c.SLND,quote:c.USDC,decimals:c.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:c.FRKT,quote:c.WSOL,decimals:c.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:c.weWETH,quote:c.WSOL,decimals:c.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:c.weWETH,quote:c.USDC,decimals:c.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:c.weUNI,quote:c.USDC,decimals:c.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:c.weSUSHI,quote:c.USDC,decimals:c.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:c.CYS,quote:c.USDC,decimals:c.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:c.SAMO,quote:c.USDC,decimals:c.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:c.ABR,quote:c.USDC,decimals:c.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:c.IN,quote:c.USDC,decimals:c.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:c.weDYDX,quote:c.USDC,decimals:c.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:c.STARS,quote:c.USDC,decimals:c.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:c.weAXS,quote:c.USDC,decimals:c.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:c.weSHIB,quote:c.USDC,decimals:c.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:c.SBR,quote:c.USDC,decimals:c.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:c.OXS,quote:c.USDC,decimals:c.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:c.CWAR,quote:c.USDC,decimals:c.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:c.UPS,quote:c.USDC,decimals:c.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:c.weSAND,quote:c.USDC,decimals:c.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:c.weMANA,quote:c.USDC,decimals:c.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:c.CAVE,quote:c.USDC,decimals:c.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:c.GENE,quote:c.USDC,decimals:c.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:c.GENE,quote:c.RAY,decimals:c.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:c.APT,quote:c.USDC,decimals:c.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:c.GOFX,quote:c.USDC,decimals:c.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:c.SONAR,quote:c.USDC,decimals:c.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:c.JSOL,quote:c.WSOL,decimals:c.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:c.JSOL,quote:c.USDC,decimals:c.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:c.SHILL,quote:c.USDC,decimals:c.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:c.DFL,quote:c.USDC,decimals:c.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:c.BOKU,quote:c.USDC,decimals:c.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:c.MIMO,quote:c.WSOL,decimals:c.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:c.wbWBNB,quote:c.USDC,decimals:c.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:c.wePEOPLE,quote:c.USDC,decimals:c.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:c.ISOLA,quote:c.USDT,decimals:c.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:c.SPWN,quote:c.USDC,decimals:c.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:c.STR,quote:c.USDC,decimals:c.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:c.SOLC,quote:c.USDT,decimals:c.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:c.VI,quote:c.USDC,decimals:c.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:c.KKO,quote:c.USDC,decimals:c.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:c.XTAG,quote:c.USDC,decimals:c.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:c.TTT,quote:c.USDC,decimals:c.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:c.RUN,quote:c.USDC,decimals:c.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:c.CRWNY,quote:c.USDC,decimals:c.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:c.CRWNY,quote:c.RAY,decimals:c.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:c.BLOCK,quote:c.USDC,decimals:c.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:c.REAL,quote:c.USDC,decimals:c.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:c.FRKT,quote:c.USDC,decimals:c.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:c.MBS,quote:c.USDC,decimals:c.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:c.PRISM,quote:c.USDC,decimals:c.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:c.CHICKS,quote:c.USDC,decimals:c.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:c.MEAN,quote:c.RAY,decimals:c.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:c.TINY,quote:c.USDC,decimals:c.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:c.SCY,quote:c.USDC,decimals:c.SCY.decimals,version:4}};var ss={WSOL:M({},Se)},as={};var cs={WSOL:M({},Se)},us={};var Ln=Q.from("token/util"),ei=class{constructor(e){this.tokenList=e;this.filterByMint=e=>this.tokenList.filter(t=>t.mint===e);this.filterUniqueByMint=(e,t="all")=>{let n=this.tokenList.filter(r=>r.mint===e);if(n.length===0)return Ln.throwArgumentError("No token found","mint",e);if(n.length>1)return Ln.throwArgumentError(`Multiple tokens found: ${n.length}`,"mint",e);let i=n[0];return t==="spl"&&"version"in i?Ln.throwArgumentError("invalid SPL token mint","mint",e):t==="lp"&&!("version"in i)?Ln.throwArgumentError("invalid LP token mint","mint",e):i};this.getList=()=>this.tokenList}};var ti=class{constructor(e,t="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=t,this.name=n}},Qe=ti;Qe.SOL=new ti(Pt.decimals,Pt.symbol,Pt.name);function ms(){Qe.prototype.inspect=function(){return`<Currency: decimals=${this.decimals}, name=${this.name}, symbol=${this.symbol}>`}}var ni=class extends Qe{constructor(t,n,i="UNKNOWN",r="UNKNOWN"){super(n,i,r);this.mint=ut(t)}equals(t){return this===t?!0:this.mint.equals(t.mint)}},C=ni;C.WSOL=new ni(Se.mint,Se.decimals,Pt.symbol,Pt.name);function ls(){C.prototype.inspect=function(){return`<Token: mint=${this.mint.toBase58()}, decimals=${this.decimals}, name=${this.name}, symbol=${this.symbol}>`}}function tt(d,e){return d instanceof C&&e instanceof C?d.equals(e):d instanceof C||e instanceof C?!1:d===e}var _o=ye(require("big.js")),Eo=ye(require("decimal.js-light"));var Oo=ye(require("toformat")),ds=Oo.default,en=ds;var In=Q.from("entity/fraction"),Nt=en(_o.default),tn=en(Eo.default),ps={[0]:tn.ROUND_DOWN,[1]:tn.ROUND_HALF_UP,[2]:tn.ROUND_UP},fs={[0]:Nt.roundDown,[1]:Nt.roundHalfUp,[2]:Nt.roundUp},se=class{constructor(e,t=ie){this.numerator=V(e),this.denominator=V(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new se(this.denominator,this.numerator)}add(e){let t=e instanceof se?e:new se(V(e));return this.denominator.eq(t.denominator)?new se(this.numerator.add(t.numerator),this.denominator):new se(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof se?e:new se(V(e));return this.denominator.eq(t.denominator)?new se(this.numerator.sub(t.numerator),this.denominator):new se(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof se?e:new se(V(e));return new se(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof se?e:new se(V(e));return new se(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},n=1){In.assert(Number.isInteger(e),`${e} is not an integer.`),In.assert(e>0,`${e} is not positive.`),tn.set({precision:e+1,rounding:ps[n]});let i=new tn(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},n=1){return In.assert(Number.isInteger(e),`${e} is not an integer.`),In.assert(e>=0,`${e} is negative.`),Nt.DP=e,Nt.RM=fs[n],new Nt(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}};var yt=Q.from("entity/amount"),Vo=en(Uo.default);function Mo(d,e){let t="0",n="0";if(d.includes(".")){let i=d.split(".");if(i.length===2)[t,n]=i,n=n.padEnd(e,"0");else return yt.throwArgumentError("invalid number string","num",d)}else t=d;return[t,n.slice(0,e)||n]}var de=class extends se{constructor(t,n,i=!0){let r=new nn.default(0),o=et.pow(new nn.default(t.decimals));if(i)r=V(n);else{let s=new nn.default(0),a=new nn.default(0);if(typeof n=="string"||typeof n=="number"||typeof n=="bigint"){let[m,u]=Mo(n.toString(),t.decimals);s=V(m),a=V(u)}s=s.mul(o),r=s.add(a)}super(r,o);this.currency=t}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(t){return yt.assert(tt(this.currency,t.currency),"gt currency not equals"),this.raw.gt(t.raw)}lt(t){return yt.assert(tt(this.currency,t.currency),"lt currency not equals"),this.raw.lt(t.raw)}add(t){return yt.assert(tt(this.currency,t.currency),"add currency not equals"),new de(this.currency,this.raw.add(t.raw))}sub(t){return yt.assert(tt(this.currency,t.currency),"sub currency not equals"),new de(this.currency,this.raw.sub(t.raw))}toSignificant(t=this.currency.decimals,n,i=0){return super.toSignificant(t,n,i)}toFixed(t=this.currency.decimals,n,i=0){return yt.assert(t<=this.currency.decimals,"decimals overflow"),super.toFixed(t,n,i)}toExact(t={groupSeparator:""}){return Vo.DP=this.currency.decimals,new Vo(this.numerator.toString()).div(this.denominator.toString()).toFormat(t)}},W=class extends de{constructor(t,n,i=!0){super(t,n,i);this.token=t}add(t){return yt.assert(tt(this.token,t.token),"add token not equals"),new W(this.token,this.raw.add(t.raw))}subtract(t){return yt.assert(tt(this.token,t.token),"sub token not equals"),new W(this.token,this.raw.sub(t.raw))}};var ii=new se($n),we=class extends se{toSignificant(e=5,t,n){return this.mul(ii).toSignificant(e,t,n)}toFixed(e=2,t,n){return this.mul(ii).toFixed(e,t,n)}};var ys=Q.from("entity/price"),pe=class extends se{constructor(t,n,i,r){super(r,n);this.baseCurrency=t,this.quoteCurrency=i,this.scalar=new se(kn(t.decimals),kn(i.decimals))}get raw(){return new se(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new pe(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(t){ys.assert(tt(this.quoteCurrency,t.baseCurrency),"mul currency not equals");let n=super.mul(t);return new pe(this.baseCurrency,n.denominator,t.quoteCurrency,n.numerator)}toSignificant(t=this.quoteCurrency.decimals,n,i){return this.adjusted.toSignificant(t,n,i)}toFixed(t=this.quoteCurrency.decimals,n,i){return this.adjusted.toFixed(t,n,i)}};var Wo=require("@solana/web3.js"),_t=ye(require("bn.js"));var B=require("@solana/buffer-layout"),Ot=B.Layout,vo=B.Structure,Ko=B.Union,bs=B.BitStructure,hn=B.UInt,oi=B.Blob,As=B.greedy,Rn=B.u8,mt=B.u16,gs=B.u24,on=B.u32,Ss=B.u40,Ps=B.u48,Ts=B.nu64,ks=B.u16be,ws=B.u24be,Ls=B.u32be,Is=B.u40be,hs=B.u48be,Rs=B.nu64be,xs=B.s8,Bs=B.s16,Cs=B.s24,Ue=B.s32,Ds=B.s40,Ns=B.s48,Os=B.ns64,_s=B.s16be,Es=B.s24be,Vs=B.s32be,Us=B.s40be,Ms=B.s48be,vs=B.ns64be,Ks=B.f32,qs=B.f32be,Fs=B.f64,Ws=B.f64be;var qo=B.seq,Fo=B.union,Gs=B.unionLayoutDiscriminator,me=B.blob,Ys=B.cstr,Xs=B.utf8,xn=B.bits,Bn=B.offset;var Tt=class extends Ot{constructor(t,n,i){super(t,i);this.blob=me(t),this.signed=n}decode(t,n=0){let i=new _t.default(this.blob.decode(t,n),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(t,n,i=0){return typeof t=="number"&&(t=new _t.default(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),n,i)}},rn=class extends Ot{constructor(t){super(8,t);this._lower=xn(on(),!1),this._upper=xn(on(),!1)}addBoolean(t){this._lower.fields.length<32?this._lower.addBoolean(t):this._upper.addBoolean(t)}decode(t,n=0){let i=this._lower.decode(t,n),r=this._upper.decode(t,n+this._lower.span);return M(M({},i),r)}encode(t,n,i=0){return this._lower.encode(t,n,i)+this._upper.encode(t,n,i+this._lower.span)}};function U(d){return new hn(1,d)}function Oe(d){return new hn(4,d)}function A(d){return new Tt(8,!1,d)}function K(d){return new Tt(16,!1,d)}function Hs(d){return new Tt(8,!0,d)}function si(d){return new Tt(16,!0,d)}var nt=class extends Ot{constructor(t,n,i,r){super(t.span,r);this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}};function R(d){return new nt(me(32),e=>new Wo.PublicKey(e),e=>e.toBuffer(),d)}var Cn=class extends Ot{constructor(t,n){super(-1,n);this.layout=t,this.discriminator=Rn()}encode(t,n,i=0){return t==null?this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(t,n,i+1)+1)}decode(t,n=0){let i=this.discriminator.decode(t,n);if(i===0)return null;if(i===1)return this.layout.decode(t,n+1);throw new Error("Invalid option "+this.property)}getSpan(t,n=0){let i=this.discriminator.decode(t,n);if(i===0)return 1;if(i===1)return this.layout.getSpan(t,n+1)+1;throw new Error("Invalid option "+this.property)}};function Qs(d,e){return new Cn(d,e)}function sn(d){return new nt(Rn(),Go,Yo,d)}function Go(d){if(d===0)return!1;if(d===1)return!0;throw new Error("Invalid bool: "+d)}function Yo(d){return d?1:0}function zs(d,e){let t=on("length"),n=D([t,G(d,Bn(t,-t.span),"values")]);return new nt(n,({values:i})=>i,i=>({values:i}),e)}function Js(d,e,t){let n=D([A("tag"),e.replicate("data")]);function i({tag:r,data:o}){if(!r.eq(d))throw new Error("Invalid tag, expected: "+d.toString("hex")+", got: "+r.toString("hex"));return o}return new nt(n,i,r=>({tag:d,data:r}),t)}function Xo(d){let e=on("length"),t=D([e,me(Bn(e,-e.span),"data")]);return new nt(t,({data:n})=>n,n=>({data:n}),d)}function Zs(d){return new nt(Xo(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),d)}function js(d,e){let t=Fo(Rn(),e);return d.forEach((n,i)=>t.addVariant(i,n,n.property)),t}function $s(d,e,t){let n=D([G(d,e,"values")]);return new nt(n,({values:i})=>i,i=>({values:i}),t)}var Dn=class extends vo{decode(e,t){return super.decode(e,t)}};function D(d,e,t){return new Dn(d,e,t)}var Nn=class extends Ko{encodeInstruction(e){let t=Math.max(...Object.values(this.registry).map(i=>i.span)),n=Buffer.alloc(t);return n.slice(0,this.encode(e,n))}decodeInstruction(e){return this.decode(e)}};function ea(d,e,t){return new Nn(d,e,t)}var ri=class extends oi{decode(e,t){let n=super.decode(e,t);if(!n.every(i=>i===0))throw new Error("nonzero padding bytes");return n}};function ta(d){return new ri(d)}function G(d,e,t){let n,i=typeof e=="number"?e:(0,_t.isBN)(e)?e.toNumber():new Proxy(e,{get(r,o){if(!n){let s=Reflect.get(r,"count");n=(0,_t.isBN)(s)?s.toNumber():s,Reflect.set(r,"count",n)}return Reflect.get(r,o)},set(r,o,s){return o==="count"&&(n=s),Reflect.set(r,o,s)}});return qo(d,i,t)}var na=D([Oe("mintAuthorityOption"),R("mintAuthority"),A("supply"),U("decimals"),U("isInitialized"),Oe("freezeAuthorityOption"),R("freezeAuthority")]),ze=D([R("mint"),R("owner"),A("amount"),Oe("delegateOption"),R("delegate"),U("state"),Oe("isNativeOption"),A("isNative"),A("delegatedAmount"),Oe("closeAuthorityOption"),R("closeAuthority")]);var Ge=require("@solana/spl-token"),Et=require("@solana/web3.js"),er=ye(require("bn.js"));var Ho=require("@solana/web3.js");function ai(d){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,d,!1),new Uint8Array(e)}function ia(d){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,d,!1),new Uint8Array(e)}function oa(d){let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,d,!1),new Uint8Array(e)}function an(d){let e=new ArrayBuffer(4);return new DataView(e).setInt32(0,d,!1),new Uint8Array(e)}var Qo=Buffer.from("amm_config","utf8"),zo=Buffer.from("pool","utf8"),Jo=Buffer.from("pool_vault","utf8"),Zo=Buffer.from("pool_reward_vault","utf8"),ci=Buffer.from("position","utf8"),jo=Buffer.from("tick_array","utf8"),$o=Buffer.from("operation","utf8");function ra(d,e){return ne([Qo,ai(e)],d)}function ui(d,e,t,n){return ne([zo,e.toBuffer(),t.toBuffer(),n.toBuffer()],d)}function On(d,e,t){return ne([Jo,e.toBuffer(),t.toBuffer()],d)}function mi(d,e,t){return ne([Zo,e.toBuffer(),t.toBuffer()],d)}function Ie(d,e,t){return ne([jo,e.toBuffer(),an(t)],d)}function cn(d,e,t,n){return ne([ci,e.toBuffer(),an(t),an(n)],d)}function kt(d,e){return ne([ci,e.toBuffer()],d)}function We(d,e){return ne([d.toBuffer(),F.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],new Ho.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}function li(d){return ne([Buffer.from("metadata","utf8"),Ct.toBuffer(),d.toBuffer()],Ct)}function un(d){return ne([$o],d)}var te=class{static getAssociatedTokenAccount({mint:e,owner:t}){return We(t,e).publicKey}static makeCreateAssociatedTokenAccountInstruction({mint:e,associatedAccount:t,owner:n,payer:i}){return(0,Ge.createAssociatedTokenAccountInstruction)(i,t,n,e)}static makeCreateWrappedNativeAccountInstructions(o){return E(this,arguments,function*({connection:e,owner:t,payer:n,amount:i,commitment:r}){let s=[],a=yield e.getMinimumBalanceForRentExemption(ze.span,r),m=V(i).add(new er.default(a)),u=Et.Keypair.generate();return s.push(Et.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:u.publicKey,lamports:m.toNumber(),space:ze.span,programId:F.TOKEN_PROGRAM_ID})),s.push(this.makeInitAccountInstruction({mint:ut(Se.mint),tokenAccount:u.publicKey,owner:t})),{newAccount:u,instructions:s}})}static insertCreateWrappedNativeAccountInstructions(a){return E(this,arguments,function*({connection:e,owner:t,payer:n,amount:i,instructions:r,signers:o,commitment:s}){let{newAccount:m,instructions:u}=yield this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:i,commitment:s});return r.push(...u),o.push(m),m.publicKey})}static makeInitMintInstruction({mint:e,decimals:t,mintAuthority:n,freezeAuthority:i=null}){return(0,Ge.createInitializeMintInstruction)(e,t,n,i)}static makeMintToInstruction({mint:e,dest:t,authority:n,amount:i,multiSigners:r=[]}){return(0,Ge.createMintToInstruction)(e,t,n,BigInt(String(i)),r)}static makeInitAccountInstruction({mint:e,tokenAccount:t,owner:n}){return(0,Ge.createInitializeAccountInstruction)(t,e,n)}static makeTransferInstruction({source:e,destination:t,owner:n,amount:i,multiSigners:r=[]}){return(0,Ge.createTransferInstruction)(e,t,n,BigInt(String(i)),r)}static makeCloseAccountInstruction({tokenAccount:e,owner:t,payer:n,multiSigners:i=[]}){return(0,Ge.createCloseAccountInstruction)(e,n,t,i)}static createInitAccountInstruction(e,t,n,i){let r=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ge.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=U("instruction"),s=Buffer.alloc(o.span);return o.encode(1,s),new Et.TransactionInstruction({keys:r,programId:e,data:s})}};var De=class{static _selectTokenAccount(e){let{tokenAccounts:t,mint:n,owner:i,config:r}=e,{associatedOnly:o}=M({associatedOnly:!0},r),s=t.filter(({accountInfo:m})=>m.mint.equals(n)).sort((m,u)=>m.accountInfo.amount.lt(u.accountInfo.amount)?1:-1),a=te.getAssociatedTokenAccount({mint:n,owner:i});for(let m of s){let{pubkey:u}=m;if(o){if(a.equals(u))return u}else return u}return null}static _handleTokenAccount(e){return E(this,null,function*(){let{connection:t,side:n,amount:i,mint:r,tokenAccount:o,owner:s,payer:a=s,frontInstructions:m,endInstructions:u,signers:f,bypassAssociatedCheck:l}=e,b=te.getAssociatedTokenAccount({mint:r,owner:s});if(C.WSOL.mint.equals(r)){let y=yield te.insertCreateWrappedNativeAccountInstructions({connection:t,owner:s,payer:a,instructions:m,signers:f,amount:i});return u&&u.push(te.makeCloseAccountInstruction({tokenAccount:y,owner:s,payer:a})),y}else if(!o||n==="out"&&!b.equals(o)&&!l)return m.push(te.makeCreateAssociatedTokenAccountInstruction({mint:r,associatedAccount:b,owner:s,payer:a})),b;return o})}static _selectOrCreateTokenAccount(e){return E(this,null,function*(){var m,u;let{mint:t,tokenAccounts:n,createInfo:i,associatedOnly:r,owner:o}=e,s=te.getAssociatedTokenAccount({mint:t,owner:o}),a=n.filter(f=>f.accountInfo.mint.equals(t)&&(!r||f.pubkey.equals(s))).sort((f,l)=>f.accountInfo.amount.lt(l.accountInfo.amount)?1:-1);if(i===void 0||a.length>0)return a.length>0?a[0].pubkey:void 0;if(r){if(i.frontInstructions.push(te.makeCreateAssociatedTokenAccountInstruction({mint:t,associatedAccount:s,owner:o,payer:i.payer})),t.equals(C.WSOL.mint)){let f=yield te.insertCreateWrappedNativeAccountInstructions({connection:i.connection,owner:o,payer:i.payer,instructions:i.frontInstructions,signers:i.signers,amount:(m=i.amount)!=null?m:0});i.endInstructions&&i.endInstructions.push(te.makeCloseAccountInstruction({tokenAccount:f,owner:o,payer:i.payer})),i.amount&&i.frontInstructions.push(te.makeTransferInstruction({source:f,destination:s,owner:o,amount:i.amount}))}return i.endInstructions&&i.endInstructions.push(te.makeCloseAccountInstruction({tokenAccount:s,owner:o,payer:i.payer})),s}else if(t.equals(C.WSOL.mint)){let f=yield te.insertCreateWrappedNativeAccountInstructions({connection:i.connection,owner:o,payer:i.payer,instructions:i.frontInstructions,signers:i.signers,amount:(u=i.amount)!=null?u:0});return i.endInstructions&&i.endInstructions.push(te.makeCloseAccountInstruction({tokenAccount:f,owner:o,payer:i.payer})),f}else{let f=_n.Keypair.generate(),l=yield i.connection.getMinimumBalanceForRentExemption(Vt.AccountLayout.span),b=_n.SystemProgram.createAccount({fromPubkey:o,newAccountPubkey:f.publicKey,lamports:l,space:Vt.AccountLayout.span,programId:Vt.TOKEN_PROGRAM_ID}),y=te.createInitAccountInstruction(Vt.TOKEN_PROGRAM_ID,t,f.publicKey,o);return i.frontInstructions.push(b,y),i.signers.push(f),i.endInstructions&&i.endInstructions.push(te.makeCloseAccountInstruction({tokenAccount:f.publicKey,owner:o,payer:i.payer})),f.publicKey}})}};var tr=require("@solana/web3.js"),nr=require("bn.js");function sa({ownerInfo:d,tokenAccounts:e}){let t=new tr.PublicKey(Se.mint),n=e.filter(o=>o.accountInfo.mint.equals(t)).map(o=>({amount:o.accountInfo.amount,tx:te.makeCloseAccountInstruction({tokenAccount:o.pubkey,owner:d.wallet,payer:d.payer})})),i=St({instructions:n.map(o=>o.tx),signers:[],payer:d.wallet}),r=n.map(o=>o.amount).reduce((o,s)=>o.add(s),new nr.BN(0));return{transactions:i,amount:r}}var ce=require("@solana/web3.js"),xe=ye(require("bn.js"));var En=require("@solana/web3.js"),di="EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q",ir=new En.PublicKey(di),pi="9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z",or=new En.PublicKey(pi),fi="FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG",rr=new En.PublicKey(fi),yi={[di]:3,[pi]:5,[fi]:6},bi={3:ir,5:or,6:rr};var sr=D([A("state"),A("nonce"),R("lpVault"),R("rewardVault"),R(),R(),A(),A(),A("totalReward"),K("perShareReward"),A("lastSlot"),A("perSlotReward")]),ar=D([A("state"),A("nonce"),R("lpVault"),R("rewardVaultA"),A("totalRewardA"),K("perShareRewardA"),A("perSlotRewardA"),U("option"),R("rewardVaultB"),me(7),A("totalRewardB"),K("perShareRewardB"),A("perSlotRewardB"),A("lastSlot"),R()]),aa=D([A("rewardState"),A("rewardOpenTime"),A("rewardEndTime"),A("rewardLastUpdateTime"),A("totalReward"),A("totalRewardEmissioned"),A("rewardClaimed"),A("rewardPerSecond"),K("accRewardPerShare"),R("rewardVault"),R("rewardMint"),R("rewardSender"),A("rewardType"),G(A(),15,"padding")]),cr=D([A(),A("state"),A("nonce"),A("validRewardTokenNum"),K("rewardMultiplier"),A("rewardPeriodMax"),A("rewardPeriodMin"),A("rewardPeriodExtend"),R("lpMint"),R("lpVault"),G(aa,5,"rewardInfos"),R("creator"),R(),G(A(),32,"padding")]),ur=new Proxy(sr,{get(d,e,t){return e==="decode"?(...n)=>{let i=d.decode(...n);return ae(M({},i),{version:3,rewardInfos:[{rewardVault:i.rewardVault,totalReward:i.totalReward,perSlotReward:i.perSlotReward,perShareReward:i.perShareReward}]})}:Reflect.get(d,e,t)}}),mr=new Proxy(ar,{get(d,e,t){return e==="decode"?(...n)=>{let i=d.decode(...n);return ae(M({},i),{version:5,rewardInfos:[{rewardVault:i.rewardVaultA,totalReward:i.totalRewardA,perSlotReward:i.perSlotRewardA,perShareReward:i.perShareRewardA},{rewardVault:i.rewardVaultB,totalReward:i.totalRewardB,perSlotReward:i.perSlotRewardB,perShareReward:i.perShareRewardB}]})}:Reflect.get(d,e,t)}}),mn=new Proxy(cr,{get(d,e,t){return e==="decode"?(...n)=>{let i=d.decode(...n);return ae(M({},i),{version:6,rewardInfos:i.rewardInfos.map(r=>{var o;return ae(M({},r),{rewardType:((o=Object.entries(Ut).find(s=>String(s[1])===r.rewardType.toString()))!=null?o:["Standard SPL"])[0]})})})}:Reflect.get(d,e,t)}}),ca=D([A("state"),R("id"),R("owner"),A("deposited"),G(A(),1,"rewardDebts")]),lr=D([A("state"),R("id"),R("owner"),A("deposited"),G(K(),1,"rewardDebts"),G(A(),17)]),ua=D([A("state"),R("id"),R("owner"),A("deposited"),G(A(),2,"rewardDebts")]),dr=D([A("state"),R("id"),R("owner"),A("deposited"),G(K(),2,"rewardDebts"),G(A(),17)]),pr=D([A(),A("state"),R("id"),R("owner"),A("deposited"),G(K(),5,"rewardDebts"),G(A(),16)]),Ai={3:ur,5:mr,6:mn},gi={3:lr,5:dr,6:pr};var j=Q.from("Farm"),Ut={"Standard SPL":0,"Option tokens":1},it=class extends De{static getProgramId(e){let t=bi[e];return j.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let n=ut(e).toBase58(),i=yi[n];return j.assertArgument(!!i,"invalid program id","programId",n),i}static getStateLayout(e){let t=Ai[e];return j.assertArgument(!!t,"invalid version","version",e),t}static getLedgerLayout(e){let t=gi[e];return j.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e),ledger:this.getLedgerLayout(e)}}static getAssociatedAuthority({programId:e,poolId:t}){return ne([t.toBuffer()],e)}static getAssociatedLedgerAccount({programId:e,poolId:t,owner:n}){let{publicKey:i}=ne([t.toBuffer(),n.toBuffer(),Buffer.from(it.getVersion(e)===6?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],e);return i}static getAssociatedLedgerPoolAccount({programId:e,poolId:t,mint:n,type:i}){let{publicKey:r}=ne([t.toBuffer(),n.toBuffer(),Buffer.from(i==="lpVault"?"lp_vault_associated_seed":i==="rewardVault"?"reward_vault_associated_seed":"","utf-8")],e);return r}static makeDepositInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===3?this.makeDepositInstructionV3(e):n===5?this.makeDepositInstructionV5(e):n===6?this.makeDepositInstructionV6(e):j.throwArgumentError("invalid version","poolKeys.version",n)}static makeDepositInstructionV3({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(e.rewardInfos.length===1,"lengths not equal 1","poolKeys.rewardInfos",e.rewardInfos),j.assertArgument(t.rewardTokenAccounts.length===1,"lengths not equal 1","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:10,amount:V(n)},r);let o=[S(e.id,!1),w(e.authority,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1),S(e.lpVault,!1),S(t.rewardTokenAccounts[0],!1),S(e.rewardInfos[0].rewardVault,!1),w(ge.SYSVAR_CLOCK_PUBKEY,!1),w(F.TOKEN_PROGRAM_ID,!1)];if(t.auxiliaryLedgers)for(let s of t.auxiliaryLedgers)o.push(S(s,!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeDepositInstructionV5({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(t.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:11,amount:V(n)},r);let o=[S(e.id,!1),w(e.authority,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1),S(e.lpVault,!1),S(t.rewardTokenAccounts[0],!1),S(e.rewardInfos[0].rewardVault,!1),w(ge.SYSVAR_CLOCK_PUBKEY,!1),w(F.TOKEN_PROGRAM_ID,!1)];for(let s=1;s<e.rewardInfos.length;s++)o.push(S(t.rewardTokenAccounts[s],!1)),o.push(S(e.rewardInfos[s].rewardVault,!1));if(t.auxiliaryLedgers)for(let s of t.auxiliaryLedgers)o.push(S(s,!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeDepositInstructionV6({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(t.rewardTokenAccounts.length!==0,"lengths equal zero","userKeys.rewardTokenAccounts",t.rewardTokenAccounts),j.assertArgument(t.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:1,amount:V(n)},r);let o=[w(F.TOKEN_PROGRAM_ID,!1),w(Ae,!1),S(e.id,!1),w(e.authority,!1),S(e.lpVault,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1)];for(let s=0;s<e.rewardInfos.length;s++)o.push(S(e.rewardInfos[s].rewardVault,!1)),o.push(S(t.rewardTokenAccounts[s],!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeWithdrawInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===3?this.makeWithdrawInstructionV3(e):n===5?this.makeWithdrawInstructionV5(e):n===6?this.makeWithdrawInstructionV6(e):j.throwArgumentError("invalid version","poolKeys.version",n)}static makeWithdrawInstructionV3({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(e.rewardInfos.length===1,"lengths not equal 1","poolKeys.rewardInfos",e.rewardInfos),j.assertArgument(t.rewardTokenAccounts.length===1,"lengths not equal 1","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:11,amount:V(n)},r);let o=[S(e.id,!1),w(e.authority,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1),S(e.lpVault,!1),S(t.rewardTokenAccounts[0],!1),S(e.rewardInfos[0].rewardVault,!1),w(ge.SYSVAR_CLOCK_PUBKEY,!1),w(F.TOKEN_PROGRAM_ID,!1)];if(t.auxiliaryLedgers)for(let s of t.auxiliaryLedgers)o.push(S(s,!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeWithdrawInstructionV5({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(t.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:12,amount:V(n)},r);let o=[S(e.id,!1),w(e.authority,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1),S(e.lpVault,!1),S(t.rewardTokenAccounts[0],!1),S(e.rewardInfos[0].rewardVault,!1),w(ge.SYSVAR_CLOCK_PUBKEY,!1),w(F.TOKEN_PROGRAM_ID,!1)];for(let s=1;s<e.rewardInfos.length;s++)o.push(S(t.rewardTokenAccounts[s],!1)),o.push(S(e.rewardInfos[s].rewardVault,!1));if(t.auxiliaryLedgers)for(let s of t.auxiliaryLedgers)o.push(S(s,!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeWithdrawInstructionV6({poolKeys:e,userKeys:t,amount:n}){j.assertArgument(t.rewardTokenAccounts.length!==0,"lengths equal zero","userKeys.rewardTokenAccounts",t.rewardTokenAccounts),j.assertArgument(t.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",t.rewardTokenAccounts);let i=D([U("instruction"),A("amount")]),r=Buffer.alloc(i.span);i.encode({instruction:2,amount:V(n)},r);let o=[w(F.TOKEN_PROGRAM_ID,!1),S(e.id,!1),w(e.authority,!1),S(e.lpVault,!1),S(t.ledger,!1),w(t.owner,!0),S(t.lpTokenAccount,!1)];for(let s=0;s<e.rewardInfos.length;s++)o.push(S(e.rewardInfos[s].rewardVault,!1)),o.push(S(t.rewardTokenAccounts[s],!1));return new ce.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeCreateAssociatedLedgerAccountInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===3?this.makeCreateAssociatedLedgerAccountInstructionV3(e):n===5?this.makeCreateAssociatedLedgerAccountInstructionV5(e):j.throwArgumentError("invalid version","poolKeys.version",n)}static makeCreateAssociatedLedgerAccountInstructionV3({poolKeys:e,userKeys:t}){let n=D([U("instruction")]),i=Buffer.alloc(n.span);n.encode({instruction:9},i);let r=[S(e.id,!1),S(t.ledger,!1),w(t.owner,!0),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1)];return new ce.TransactionInstruction({programId:e.programId,keys:r,data:i})}static makeCreateAssociatedLedgerAccountInstructionV5({poolKeys:e,userKeys:t}){let n=D([U("instruction")]),i=Buffer.alloc(n.span);n.encode({instruction:10},i);let r=[S(e.id,!1),S(t.ledger,!1),w(t.owner,!0),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1)];return new ce.TransactionInstruction({programId:e.programId,keys:r,data:i})}static makeCreateFarmInstruction({connection:e,userKeys:t,poolInfo:n}){let{version:i}=n;return i===6?this.makeCreateFarmInstructionV6({connection:e,userKeys:t,poolInfo:n}):j.throwArgumentError("invalid version","version",i)}static makeCreateFarmInstructionV6(i){return E(this,arguments,function*({connection:e,userKeys:t,poolInfo:n}){var k,I,N;let r=ce.Keypair.generate(),o=yield e.getMinimumBalanceForRentExemption(mn.span),s=[],a=[],m=[r];s.push(ce.SystemProgram.createAccount({fromPubkey:(k=t.payer)!=null?k:t.owner,newAccountPubkey:r.publicKey,lamports:o,space:mn.span,programId:n.programId}));let{publicKey:u,nonce:f}=it.getAssociatedAuthority({programId:n.programId,poolId:r.publicKey}),l=it.getAssociatedLedgerPoolAccount({programId:n.programId,poolId:r.publicKey,mint:n.lpMint,type:"lpVault"}),b=[],y=[];for(let h of n.rewardInfos){j.assertArgument(h.rewardOpenTime<h.rewardEndTime,"start time error","rewardInfo.rewardOpenTime",h.rewardOpenTime),j.assertArgument(Ut[h.rewardType]!==void 0,"reward type error","rewardInfo.rewardType",h.rewardType),j.assertArgument(h.rewardPerSecond>0,"rewardPerSecond error","rewardInfo.rewardPerSecond",h.rewardPerSecond),b.push({isSet:new xe.default(1),rewardPerSecond:V(h.rewardPerSecond),rewardOpenTime:V(h.rewardOpenTime),rewardEndTime:V(h.rewardEndTime),rewardType:V(Ut[h.rewardType])});let _;h.rewardMint.equals(ce.PublicKey.default)?(_=yield te.insertCreateWrappedNativeAccountInstructions({connection:e,owner:t.owner,payer:(I=t.payer)!=null?I:t.owner,instructions:s,signers:m,amount:V(h.rewardEndTime).sub(V(h.rewardOpenTime)).mul(V(h.rewardPerSecond))}),a.push(te.makeCloseAccountInstruction({tokenAccount:_,owner:t.owner,payer:(N=t.payer)!=null?N:t.owner}))):_=this._selectTokenAccount({tokenAccounts:t.tokenAccounts,mint:h.rewardMint,owner:t.owner,config:{associatedOnly:!1}}),j.assertArgument(_!==null,"cannot found target token accounts","tokenAccounts",t.tokenAccounts);let q=h.rewardMint.equals(ce.PublicKey.default)?C.WSOL.mint:h.rewardMint;y.push({rewardMint:q,rewardVault:it.getAssociatedLedgerPoolAccount({programId:n.programId,poolId:r.publicKey,mint:q,type:"rewardVault"}),userRewardToken:_})}let p=this._selectTokenAccount({tokenAccounts:t.tokenAccounts,mint:n.lockInfo.lockMint,owner:t.owner,config:{associatedOnly:!1}});j.assertArgument(p!==null,"cannot found lock vault","tokenAccounts",t.tokenAccounts);let g=D([A("isSet"),A("rewardPerSecond"),A("rewardOpenTime"),A("rewardEndTime"),A("rewardType")]),P=D([U("instruction"),A("nonce"),G(g,5,"rewardTimeInfo")]),T=Buffer.alloc(P.span);P.encode({instruction:0,nonce:new xe.default(f),rewardTimeInfo:b},T);let L=[w(F.TOKEN_PROGRAM_ID,!1),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1),S(r.publicKey,!1),w(u,!1),S(l,!1),w(n.lpMint,!1),S(n.lockInfo.lockVault,!1),w(n.lockInfo.lockMint,!1),S(p!=null?p:ce.PublicKey.default,!1),w(t.owner,!0)];for(let h of y)L.push({pubkey:h.rewardMint,isSigner:!1,isWritable:!1},{pubkey:h.rewardVault,isSigner:!1,isWritable:!0},{pubkey:h.userRewardToken,isSigner:!1,isWritable:!0});return s.push(new ce.TransactionInstruction({programId:n.programId,keys:L,data:T})),{newAccounts:m,instructions:[...s,...a]}})}static makeRestartFarmInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===6?this.makeRestartFarmInstructionV6(e):j.throwArgumentError("invalid version","version",n)}static makeRestartFarmInstructionV6(r){return E(this,arguments,function*({connection:e,poolKeys:t,userKeys:n,newRewardInfo:i}){var g,P,T;j.assertArgument(i.rewardOpenTime<i.rewardEndTime,"start time error","newRewardInfo",i);let o=i.rewardMint.equals(ce.PublicKey.default)?C.WSOL.mint:i.rewardMint,s=t.rewardInfos.find(L=>L.rewardMint.equals(o));j.assertArgument(s,"configuration does not exist","rewardInfo",s);let a=(g=s==null?void 0:s.rewardVault)!=null?g:ce.PublicKey.default,m=[],u=[],f=[],l;i.rewardMint.equals(ce.PublicKey.default)?(l=yield te.insertCreateWrappedNativeAccountInstructions({connection:e,owner:n.owner,payer:(P=n.payer)!=null?P:n.owner,instructions:m,signers:f,amount:V(i.rewardEndTime).sub(V(i.rewardOpenTime)).mul(V(i.rewardPerSecond))}),u.push(te.makeCloseAccountInstruction({tokenAccount:l,owner:n.owner,payer:(T=n.payer)!=null?T:n.owner}))):l=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:i.rewardMint,owner:n.owner,config:{associatedOnly:!1}}),j.assertArgument(l!==null,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let b=D([U("instruction"),A("rewardReopenTime"),A("rewardEndTime"),A("rewardPerSecond")]),y=Buffer.alloc(b.span);b.encode({instruction:3,rewardReopenTime:V(i.rewardOpenTime),rewardEndTime:V(i.rewardEndTime),rewardPerSecond:V(i.rewardPerSecond)},y);let p=[w(F.TOKEN_PROGRAM_ID,!1),S(t.id,!1),w(t.lpVault,!1),S(a,!1),S(l,!1),w(n.owner,!0)];return m.push(new ce.TransactionInstruction({programId:t.programId,keys:p,data:y})),{newAccounts:f,instructions:[...m,...u]}})}static makeCreatorWithdrawFarmRewardInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===6?this.makeCreatorWithdrawFarmRewardInstructionV6(e):j.throwArgumentError("invalid version","version",n)}static makeCreatorWithdrawFarmRewardInstructionV6(r){return E(this,arguments,function*({connection:e,poolKeys:t,userKeys:n,withdrawMint:i}){var p,g,P,T;let o=t.rewardInfos.find(L=>L.rewardMint.equals(i.equals(ce.PublicKey.default)?C.WSOL.mint:i));j.assertArgument(o!==void 0,"withdraw mint error","poolKeys.rewardInfos",t.rewardInfos);let s=(p=o==null?void 0:o.rewardVault)!=null?p:ce.PublicKey.default,a=[],m=[],u=[],f;if(i.equals(ce.PublicKey.default))f=yield te.insertCreateWrappedNativeAccountInstructions({connection:e,owner:n.owner,payer:(g=n.payer)!=null?g:n.owner,instructions:a,signers:u,amount:0}),m.push(te.makeCloseAccountInstruction({tokenAccount:f,owner:n.owner,payer:(P=n.payer)!=null?P:n.owner}));else{let L=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:i,owner:n.owner});L===null?(f=We(n.owner,i).publicKey,a.push(te.makeCreateAssociatedTokenAccountInstruction({mint:i,associatedAccount:f,owner:n.owner,payer:(T=n.payer)!=null?T:n.owner}))):f=L}let l=D([U("instruction")]),b=Buffer.alloc(l.span);l.encode({instruction:5},b);let y=[w(F.TOKEN_PROGRAM_ID,!1),S(t.id,!1),w(t.authority,!1),w(t.lpVault,!1),S(s,!1),S(f,!1),w(n.owner,!0)];return a.push(new ce.TransactionInstruction({programId:t.programId,keys:y,data:b})),{newAccounts:u,instructions:[...a,...m]}})}static makeFarmCreatorAddRewardTokenInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===6?this.makeFarmCreatorAddRewardTokenInstructionV6(e):j.throwArgumentError("invalid version","version",n)}static makeFarmCreatorAddRewardTokenInstructionV6(r){return E(this,arguments,function*({connection:e,poolKeys:t,userKeys:n,newRewardInfo:i}){var p,g;let o=it.getAssociatedLedgerPoolAccount({programId:t.programId,poolId:t.id,mint:i.rewardMint,type:"rewardVault"}),s=[],a=[],m=[],u;i.rewardMint.equals(ce.PublicKey.default)?(u=yield te.insertCreateWrappedNativeAccountInstructions({connection:e,owner:n.owner,payer:(p=n.payer)!=null?p:n.owner,instructions:s,signers:m,amount:V(i.rewardEndTime).sub(V(i.rewardOpenTime)).mul(V(i.rewardPerSecond))}),a.push(te.makeCloseAccountInstruction({tokenAccount:u,owner:n.owner,payer:(g=n.payer)!=null?g:n.owner}))):u=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:i.rewardMint,owner:n.owner,config:{associatedOnly:!1}}),j.assertArgument(u!==null,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let f=i.rewardMint.equals(ce.PublicKey.default)?C.WSOL.mint:i.rewardMint,l=D([U("instruction"),A("isSet"),A("rewardPerSecond"),A("rewardOpenTime"),A("rewardEndTime"),A("rewardType")]),b=Buffer.alloc(l.span);l.encode({instruction:4,isSet:new xe.default(1),rewardPerSecond:V(i.rewardPerSecond),rewardOpenTime:V(i.rewardOpenTime),rewardEndTime:V(i.rewardEndTime),rewardType:V(Ut[i.rewardType])},b);let y=[w(F.TOKEN_PROGRAM_ID,!1),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1),S(t.id,!1),w(t.authority,!1),w(f,!1),S(o,!1),S(u,!1),w(n.owner,!0)];return s.push(new ce.TransactionInstruction({programId:t.programId,keys:y,data:b})),{newAccounts:m,instructions:[...s,...a]}})}static fetchMultipleInfo(r){return E(this,arguments,function*({connection:e,pools:t,owner:n,config:i}){let o=[],s={};for(let u of t)s[u.id.toString()]=u,o.push({pubkey:u.id,version:u.version,key:"state",poolId:u.id}),o.push({pubkey:u.lpVault,version:u.version,key:"lpVault",poolId:u.id}),n&&o.push({pubkey:this.getAssociatedLedgerAccount({programId:u.programId,poolId:u.id,owner:n}),version:u.version,key:"ledger",poolId:u.id});let a={},m=yield Dt(e,o,i);for(let{pubkey:u,version:f,key:l,poolId:b,accountInfo:y}of m){let p=b.toBase58();if(l==="state"){let g=this.getStateLayout(f);if(!y||!y.data||y.data.length!==g.span)return j.throwArgumentError("invalid farm state account info","pools.id",u);a[p]=ae(M({},a[p]),{apiPoolInfo:s[p],state:g.decode(y.data)})}else if(l==="lpVault"){if(!y||!y.data||y.data.length!==ze.span)return j.throwArgumentError("invalid farm lp vault account info","pools.lpVault",u);a[p]=ae(M({},a[p]),{lpVault:ze.decode(y.data)})}else if(l==="ledger"){let g=this.getLedgerLayout(f);y&&y.data&&(j.assertArgument(y.data.length===g.span,"invalid farm ledger account info","ledger",u),a[p]=ae(M({},a[p]),{ledger:g.decode(y.data)}))}}for(let[u,{state:f,ledger:l}]of Object.entries(a))if(l){let b;f.version===6?b=f.rewardMultiplier:b=f.rewardInfos.length===1?et.pow(new xe.default(9)):et.pow(new xe.default(15));let y=f.rewardInfos.map((p,g)=>{let P=l.rewardDebts[g];return l.deposited.mul(f.version===6?p.accRewardPerShare:p.perShareReward).div(b).sub(P)});a[u].wrapped=ae(M({},a[u].wrapped),{pendingRewards:y})}return a})}static fetchMultipleInfoAndUpdate(r){return E(this,arguments,function*({connection:e,pools:t,owner:n,config:i}){var y;let o=!1,s=!1,a=[],m={};for(let p of t)m[p.id.toString()]=p,p.version===6?s=!0:o=!0,a.push({pubkey:p.id,version:p.version,key:"state",poolId:p.id}),a.push({pubkey:p.lpVault,version:p.version,key:"lpVault",poolId:p.id}),n&&a.push({pubkey:this.getAssociatedLedgerAccount({programId:p.programId,poolId:p.id,owner:n}),version:p.version,key:"ledger",poolId:p.id});let u={},f=yield Dt(e,a,i);for(let{pubkey:p,version:g,key:P,poolId:T,accountInfo:L}of f){let k=T.toBase58();if(P==="state"){let I=this.getStateLayout(g);if(!L||!L.data||L.data.length!==I.span)return j.throwArgumentError("invalid farm state account info","pools.id",p);u[k]=ae(M({},u[k]),{apiPoolInfo:m[k],state:I.decode(L.data)})}else if(P==="lpVault"){if(!L||!L.data||L.data.length!==ze.span)return j.throwArgumentError("invalid farm lp vault account info","pools.lpVault",p);u[k]=ae(M({},u[k]),{lpVault:ze.decode(L.data)})}else if(P==="ledger"){let I=this.getLedgerLayout(g);L&&L.data&&(j.assertArgument(L.data.length===I.span,"invalid farm ledger account info","ledger",p),u[k]=ae(M({},u[k]),{ledger:I.decode(L.data)}))}}let l=s||o?yield e.getSlot():0,b=s&&(y=yield e.getBlockTime(l))!=null?y:0;for(let p of Object.keys(u))u[p].state=it.updatePoolInfo(u[p].state,u[p].lpVault,l,b);for(let[p,{state:g,ledger:P}]of Object.entries(u))if(P){let T;g.version===6?T=g.rewardMultiplier:T=g.rewardInfos.length===1?et.pow(new xe.default(9)):et.pow(new xe.default(15));let L=g.rewardInfos.map((k,I)=>{let N=P.rewardDebts[I];return P.deposited.mul(g.version===6?k.accRewardPerShare:k.perShareReward).div(T).sub(N)});u[p].wrapped=ae(M({},u[p].wrapped),{pendingRewards:L})}return u})}static updatePoolInfo(e,t,n,i){if(e.version===3||e.version===5){if(e.lastSlot.gte(new xe.default(n)))return e;let r=new xe.default(n).sub(e.lastSlot);e.lastSlot=new xe.default(n);for(let o of e.rewardInfos){if(t.amount.eq(new xe.default(0)))continue;let s=o.perSlotReward.mul(r);o.perShareReward=o.perShareReward.add(s.mul(new xe.default(10).pow(new xe.default(e.version===3?9:15))).div(t.amount)),o.totalReward=o.totalReward.add(s)}}else if(e.version===6)for(let r of e.rewardInfos){if(r.rewardState.eq(new xe.default(0)))continue;let o=xe.default.min(new xe.default(i),r.rewardEndTime);if(r.rewardOpenTime.gte(o))continue;let a=o.sub(r.rewardLastUpdateTime).mul(r.rewardPerSecond),m=r.totalReward.sub(r.totalRewardEmissioned);m.lt(a)?(a=m,r.rewardLastUpdateTime=r.rewardLastUpdateTime.add(m.div(r.rewardPerSecond))):r.rewardLastUpdateTime=o,!t.amount.eq(new xe.default(0))&&(r.accRewardPerShare=r.accRewardPerShare.add(a.mul(e.rewardMultiplier).div(t.amount)),r.totalRewardEmissioned=r.totalRewardEmissioned.add(a))}return e}static makeHarvestAllRewardTransaction(r){return E(this,arguments,function*({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:i=!0}){var b,y;let o={};for(let p of n.tokenAccounts)i?We(n.wallet,p.accountInfo.mint).publicKey.equals(p.pubkey)&&(o[p.accountInfo.mint.toString()]=p.pubkey):o[p.accountInfo.mint.toString()]=p.pubkey;let s=[],a=[],m=[],u=[];for(let{lpVault:p,wrapped:g,apiPoolInfo:P}of Object.values(t)){if(g===void 0||g.pendingRewards.find(N=>N.gt(v))===void 0)continue;let T=p.mint,L=n.useSOLBalance&&T.equals(C.WSOL.mint),k=(b=o[T.toString()])!=null?b:yield this._selectOrCreateTokenAccount({mint:T,tokenAccounts:L?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,signers:u},associatedOnly:L?!1:i});o[T.toString()]=k;let I=[];for(let N of P.rewardInfos){let h=n.useSOLBalance&&N.rewardMint.equals(C.WSOL.mint),_=(y=o[N.rewardMint.toString()])!=null?y:yield this._selectOrCreateTokenAccount({mint:N.rewardMint,tokenAccounts:h?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,endInstructions:h?a:[],signers:u},associatedOnly:h?!1:i});o[N.rewardMint.toString()]=_,I.push(_)}m.push(this.makeWithdrawInstruction({poolKeys:P,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:P.programId,poolId:P.id,owner:n.wallet}),lpTokenAccount:k,rewardTokenAccounts:I,owner:n.wallet},amount:0}))}let f=[...s,...m,...a];return{transactions:St({instructions:f,signers:u,payer:n.wallet}),address:{}}})}};var ma=[{id:"AvbVWpBi2e4C9HPmZgShGdPoNydG4Yw8GJvG9HUcLgce",lp:x.RAY_USDT_V4,version:3},{id:"4EwbZo8BZXP5313z5A2H11MRBP15M5n6YxfmkjXESKAW",lp:c.RAY,version:3},{id:"XnRBbNMf6YcWvC1u2vBXXuMcagmRBRLu1y84mpqnKwW",lp:x.xCOPE_USDC_V4,version:5},{id:"8xhjCzfzVcP79jE7jXR2xtNaSL6aJYoDRLVT9FMjpRTC",lp:x.STEP_USDC_V4,version:5},{id:"Ef1gD9JMzWF6PNw2uc4744zouh57GyWAeVTjHHbQ2nsu",lp:x.MEDIA_USDC_V4,version:5},{id:"AxVvbT9fDFEkmdLwKUJRY5HsG2RXAZbe1dRAgJ2bDDwg",lp:x.COPE_USDC_V4,version:5},{id:"D4pYuD4tbir9KBsb7Kr63v9e86JY2UoUZeFK9eHKQFZM",lp:x.MER_USDC_V4,version:5},{id:"BLy8KuRck5bcJkQdMDLSZnL1Ka4heAZSGiwTJfEfY727",lp:x.ROPE_USDC_V4,version:5},{id:"JAP8SFagJBm6vt2LoFGNeSJ1hKDZ2p3yXb3CvBx11How",lp:x.ALEPH_USDC_V4,version:5},{id:"7U8Z6TWQMtsMcHV2htALnF9VQonnD1MrVm17YtmGEGEw",lp:x.TULIP_USDC_V4,version:5},{id:"31QSh1TwgoA9GbvkgfEEwKEm11t8CR4KiQr6WCyJr7EN",lp:x.SNY_USDC_V4,version:5},{id:"EEe8b72w5q6T86nYRNJdFcY25tznPzrd1jGjuxZ7f9mX",lp:x.BOP_RAY_V4,version:5},{id:"5PVVwSqwzkCvuiKEZwWkM35ApBnoWqF8XopsVZjPwA8z",lp:x.SLRS_USDC_V4,version:5},{id:"Bw932pURVJRYjEJwRZGWjfUNpeyz18kjMNdb833eMxoj",lp:x.SAMO_RAY_V4,version:5},{id:"BRM5bdX2mjmFGg2RAent1Whd61o9asQD16BXsC6QvEni",lp:x.LIKE_USDC_V4,version:5},{id:"HUDr9BDaAGqi37xbQHzxCyXvfMCKPTPNF8g9c9bPu1Fu",lp:x.RAY_SOL_V4,version:3},{id:"CHYrUBX2RKX8iBg7gYTkccoGNBzP44LdaazMHCLcdEgS",lp:x.RAY_USDC_V4,version:3},{id:"B6fbnZZ7sbKHR18ffEDD5Nncgp54iKN1GbCgjTRdqhS1",lp:x.RAY_ETH_V4,version:3},{id:"5DFbcYNLLy5SJiBpCCDzNSs7cWCsUbYnCkLXzcPQiKnR",lp:x.RAY_SRM_V4,version:3},{id:"GzEDEkHSFFfxKMu3Toww1nrEjtbQGJKRPNRK1Pfd59Zn",lp:x.MNGO_USDC_V4,version:5},{id:"CM9XTJfXEHceGPXhmXxheR87Ng9CZ4jiBoTVQHhs9DVN",lp:x.COPE_RAY_V4,version:5},{id:"AMcVWK66iexwwCHn8drxywdNr2UgH3vmRzLXQFdErGmL",lp:x.LIKE_RAY_V4,version:5},{id:"DJfvL6srBht8XFMWYuuKHYGainqvwXyA5icVsDne3pwN",lp:x.MEDIA_RAY_V4,version:5},{id:"21xhrT4j8QnaBvj3QjhP5kZu8sXJMCE7hzHKGtWEkdKr",lp:x.MER_RAY_V4,version:5},{id:"J61AnYYSwjtJ4wDqEqqWSBuZbiR2SDDrtF7FFobutM6a",lp:x.SLRS_RAY_V4,version:5},{id:"JEC3P83x2GEijYDwXiksuh5H6YrQt5xW6MC2GDKkMoe",lp:x.SNY_RAY_V4,version:5},{id:"BmbG9hv5PazcW3rYWvatA6HpNPkozEdkWBiU64pZxuwr",lp:x.TULIP_RAY_V4,version:5},{id:"4wvZ9SwWaHKTpshQbCSKQoPosZp9KGwUzuQdESi39qPn",lp:x.ALEPH_RAY_V4,version:5},{id:"BnYoq5y2MoH4TsBHeEZrEPowhwebHxQq7nJW1vTjPTWu",lp:x.RAY_SRM_V4,version:5},{id:"93wRz2LeQ3TJoair827VTng62MjCzYDgJjG9Q5GmQ3Pd",lp:x.ATLAS_USDC_V4,version:5},{id:"7qcihXTsRW5wS5BgK7iuD84W43ECByoJP45R3hu2r6mF",lp:x.POLIS_USDC_V4,version:5},{id:"BHHhNLdJn69K1XPJcpcw4MBY3TPetpLxhj8s4K4ydsDV",lp:x.ATLAS_RAY_V4,version:5},{id:"HHm8Pgnzc56fTUYkicPv4DqGYp5fcPZFV1V1uhixSrMk",lp:x.POLIS_RAY_V4,version:5},{id:"8GBa1cK1NxevoxiRNK6YW9tWuo2xftcA3as9Cu4nhFL7",lp:x.GRAPE_USDC_V4,version:5},{id:"HzxveT6pUMwYByqnScvTbpUv4avzkUDrDpS9D7DToEry",lp:x.LARIX_USDC_V4,version:5},{id:"Fbwy4XWMjXuP1nXg4xph4RJ9E9twVXeknXokF38PVgG1",lp:x.LARIX_RAY_V4,version:5},{id:"5gzQgxaKAU13SZeffmjjE2y9HwMJ42FxQkqJhJ5nqHeh",lp:x.stSOL_USDC_V4,version:5},{id:"914jyHBQFiroKFVCpKkzjGSaZyr4gMwgxE7snbNfGjnL",lp:x.BTC_mSOL_V4,version:5},{id:"54vUWjEmg9wfCsZF7wwq2HJu5BU3cfDFAQQQgXPECcwE",lp:x.ETH_mSOL_V4,version:5},{id:"HxhxYASqdLcR6yehT9hB9HUpgcF1R2t9HtkHdngGZ2Dh",lp:x.mSOL_USDT_V4,version:5},{id:"97N6tPMVCrAunC9embwTcffye9xC95fA5y3LauhNZ444",lp:x.MNDE_mSOL_V4,version:5},{id:"DjtZxyFBgifzpaZEzfsWXogNX5zUCnTRXJqarGe9CiSv",lp:x.mSOL_USDC_V4,version:5},{id:"7wNhbTS6XQczXs52wcVmfiodRMPfycB3YaG52dWWY6SD",lp:x.mSOL_RAY_V4,version:5},{id:"CzKUrVbP7hH8EjcHNc55ZFW33rJyLQ2r52bxCzaGTpz",lp:x.LIQ_USDC_V4,version:5},{id:"5XdeFdcJoCAPMfgYndMPcsijFBKFp2cPSCjrCZzmpTE5",lp:x.LIQ_RAY_V4,version:5},{id:"Gf3qFzKnGvMCVMQZERW2Qso5uEYxd9B9kWZZHsrMmmHj",lp:x.SYP_RAY_V4,version:5},{id:"2pQQnoNpm5LoG6sZs5toNBXi4m1Pj3ExXdggPQYyiP2x",lp:x.SYP_SOL_V4,version:5},{id:"Byt2kL5qi45pMpdAsNNciKZ8HLp7oU5jizCbyARLtQJy",lp:x.SYP_USDC_V4,version:5},{id:"8W2TqGCiFiqR1JD4sbW8uTRjV2HvFjLhkZ2tAQTYE4Gc",lp:x.WOOF_RAY_V4,version:5},{id:"FgApVk6mASrkuWNxmsFvsaAYkFKqdiwMTvYZK36A2DaC",lp:x.KIN_RAY_V4,version:5},{id:"AwUDfg4NYbLQRAcFipoJwyZTpqNvw5v6C7EypryL12Y6",lp:x.STARS_USDC_V4,version:5},{id:"Gi3Z6TXeH1ZhCCbwg6oJL8SE4LcmxmGRNhhfA6NZhwTK",lp:x.weWETH_SOL_V4,version:5},{id:"8JJSdD1ca5SDtGCEm3yBbQKek2FvJ1EbNt9q2ET3E9Jt",lp:x.weWETH_USDC_V4,version:5},{id:"6X495xkPWkw9SQFYf7yL1K8QooZyaeEQ6u7yMWNNZxNV",lp:x.weUNI_USDC_V4,version:5},{id:"AuyqPBiY6sNUpH6jx415NGcdvNdYbkbYsyVabUqEVdkj",lp:x.weSUSHI_USDC_V4,version:5},{id:"7fe8QcJ6W2kHKL1h1HMYYJoGXz2LUcwCjkxX6MX35orK",lp:x.weAXS_USDC_V4,version:5},{id:"C8BjS9DGDvC2zS3n6fTvm1rjPbA33uZ7CAvEUZ3tg7aM",lp:x.weDYDX_USDC_V4,version:5},{id:"CZZnmfvSgNVUiDBG4wN2NNcaYbsKDN4kLsc3SN8DMw6i",lp:x.weSHIB_USDC_V4,version:5},{id:"FAKzZoGVCEBDRuHN4gDswAx7PsocCorDqH6dQaxnyorT",lp:x.weSAND_USDC_V4,version:5},{id:"EBS8tc4proQE2Fj6HxU4piiZP8oiDrvyJUijDCX7P7QN",lp:x.weMANA_USDC_V4,version:5},{id:"6AxxjJhAz6APspTQM4vVCHgfzEyZgBTCogJLdai7bXYE",lp:x.wbWBNB_USDC_V4,version:5},{id:"3HGPRHH3XFFu972MR1EdS65qc1nN9sM7miZtFTi6QcEd",lp:x.wePEOPLE_USDC_V4,version:5},{id:"27bysJaX5eu5Urb5kftR66otiVc6DKK7TnifKwnpNzYu",lp:x.SRM_USDC_V4,version:5},{id:"FDnxy4NkJVG3GNMMrtUZmUmoYeYE34YRDwCYTi1yBTM",lp:x.CAVE_USDC_V4,version:5},{id:"DDRNVVJBEXEemcprVVUcrTbYnR88JyN6jjT2ypgAQHC8",lp:x.GENE_USDC_V4,version:5},{id:"GVfLbXA3dpEHPvc4do9HvMZ8TACxm3x54BVrHPMEixcr",lp:x.GENE_RAY_V4,version:5},{id:"7NZ18KhsSdJBQkJEJwhEHfdaPRNdbMd17CMoxsKxavEo",lp:x.CWAR_USDC_V4,version:5},{id:"5Mdq5o3KKPyeVVBsbnivVk9qCATjfEQ22oysXVsd2DvJ",lp:x.SONAR_USDC_V4,version:5},{id:"7W8BKbMgcVpGYvTgEK758pJgDRZJ9WafKfgkV1XCkP33",lp:x.APT_USDC_V4,version:5},{id:"CgokwBwwdYsgo8hbUMtJ3GoNM3bVjvMcmaPrVvCw4sBi",lp:x.SHILL_USDC_V4,version:5},{id:"AWbmotuJS7NLBmra9ctbfVR1BnoHmiG1HGW6hm49TuRZ",lp:x.DFL_USDC_V4,version:5},{id:"665VvECKsLpXN4fLy8GYbyQpGJRNkxRx56X93U9FVSbv",lp:x.BOKU_USDC_V4,version:5},{id:"7yk1XUWmZpWMCoFpUT985z61UNTypyBGgZF3JpKgcwmL",lp:x.MIMO_SOL_V4,version:5},{id:"E5L4Bx3Lsif7bDb9XMWi5guHUt4kkYpbqQ4CbmnRjHs1",lp:x.XTAG_USDC_V4,version:5},{id:"HtvQ5AEvu8sDM7C1oB4r5fJ5E2Q1wsJ4TADwNMqR9ccF",lp:x.TTT_USDC_V4,version:5},{id:"GUzaohfNuFbBqQTnPgPSNciv3aUvriXYjQduRE3ZkqFw",lp:x.SOL_USDC_V4,version:5},{id:"5r878BSWPtoXgnqaeFJi7BCycKZ5CodBB2vS9SeiV8q",lp:x.SOL_USDT_V4,version:5},{id:"3J3SYLeFZWKnUCsrPzikw9bcD9vRs7YNGfmg7ZSg3tsK",lp:x.RUN_USDC_V4,version:5},{id:"BYmeWrwA4ixvJhNrxWzQsA3Fsz6EtUDJTo39WYZ6o1FS",lp:x.CRWNY_RAY_V4,version:5},{id:"6VNF4rF7ESUohzNeRf3aTg61dyFjbab749RGUHCTDFQL",lp:x.CRWNY_USDC_V4,version:5},{id:"7RQDGZ1cvHcREu211R35WSKHFjTxM5dmJHeFAWag29BA",lp:x.REAL_USDC_V4,version:5},{id:"ELovJ3jDKMiWhCUCdZzPfTeVmQwhj4cvYuGwS8FfhEtJ",lp:x.BLOCK_USDC_V4,version:5},{id:"36Rf8dzq5gy4Ew2bLQEgKoCKVTku4EJPLqFYG6mzFrkr",lp:x.FRKT_SOL_V4,version:5},{id:"HXpQJeAcBCKfGY6YhZgBocZGgV4xApPVK7r8CPXfvCin",lp:x.FRKT_USDC_V4,version:5},{id:"Eqn7unnxmneDuTuXQ7EAN1wBkHMFD4LgCCAkCdPA9KbV",lp:x.MBS_USDC_V4,version:5},{id:"DtU5pZB99rVtxe5qe5hQa2rRpw7poFiqaHvMAbPgT2TM",lp:x.PRISM_USDC_V4,version:5},{id:"Gue2c9J2aRtY3aJ1HEwabQznwg2MUt9d9kUyr6otujR",lp:x.CHICKS_USDC_V4,version:5},{id:"Ej7iBkW79EdF26RxaRQfGo58PqRdzHzRmE4C2e3z3dPY",lp:x.MEAN_RAY_V4,version:5},{id:"Bd1hAsMAghtCjK38Ut4m938Ep7zyEp2TydQ7G35nPvUj",lp:x.TINY_USDC_V4,version:5},{id:"2G7qTQzw3KXm7WEMJf2izqFQWh8CLZ1wFbQVP5qo3ME9",lp:x.SCY_USDC_V4,version:5}],la=[],da=[];var Si=require("@solana/web3.js"),Pi="675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",fr=new Si.PublicKey(Pi),Ti="5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h",yr=new Si.PublicKey(Ti),ki={[Pi]:4,[Ti]:5},wi={4:fr,5:yr},Li={4:3,5:3};var br=D([A("status"),A("nonce"),A("maxOrder"),A("depth"),A("baseDecimal"),A("quoteDecimal"),A("state"),A("resetFlag"),A("minSize"),A("volMaxCutRatio"),A("amountWaveRatio"),A("baseLotSize"),A("quoteLotSize"),A("minPriceMultiplier"),A("maxPriceMultiplier"),A("systemDecimalValue"),A("minSeparateNumerator"),A("minSeparateDenominator"),A("tradeFeeNumerator"),A("tradeFeeDenominator"),A("pnlNumerator"),A("pnlDenominator"),A("swapFeeNumerator"),A("swapFeeDenominator"),A("baseNeedTakePnl"),A("quoteNeedTakePnl"),A("quoteTotalPnl"),A("baseTotalPnl"),K("quoteTotalDeposited"),K("baseTotalDeposited"),K("swapBaseInAmount"),K("swapQuoteOutAmount"),A("swapBase2QuoteFee"),K("swapQuoteInAmount"),K("swapBaseOutAmount"),A("swapQuote2BaseFee"),R("baseVault"),R("quoteVault"),R("baseMint"),R("quoteMint"),R("lpMint"),R("openOrders"),R("marketId"),R("marketProgramId"),R("targetOrders"),R("withdrawQueue"),R("lpVault"),R("owner"),A("lpReserve"),G(A(),3,"padding")]),Ar=D([A("accountType"),A("status"),A("nonce"),A("maxOrder"),A("depth"),A("baseDecimal"),A("quoteDecimal"),A("state"),A("resetFlag"),A("minSize"),A("volMaxCutRatio"),A("amountWaveRatio"),A("baseLotSize"),A("quoteLotSize"),A("minPriceMultiplier"),A("maxPriceMultiplier"),A("systemDecimalsValue"),A("abortTradeFactor"),A("priceTickMultiplier"),A("priceTick"),A("minSeparateNumerator"),A("minSeparateDenominator"),A("tradeFeeNumerator"),A("tradeFeeDenominator"),A("pnlNumerator"),A("pnlDenominator"),A("swapFeeNumerator"),A("swapFeeDenominator"),A("baseNeedTakePnl"),A("quoteNeedTakePnl"),A("quoteTotalPnl"),A("baseTotalPnl"),A("poolOpenTime"),A("punishPcAmount"),A("punishCoinAmount"),A("orderbookToInitTime"),K("swapBaseInAmount"),K("swapQuoteOutAmount"),K("swapQuoteInAmount"),K("swapBaseOutAmount"),A("swapQuote2BaseFee"),A("swapBase2QuoteFee"),R("baseVault"),R("quoteVault"),R("baseMint"),R("quoteMint"),R("lpMint"),R("modelDataAccount"),R("openOrders"),R("marketId"),R("marketProgramId"),R("targetOrders"),R("owner"),G(A(),64,"padding")]),Vn={4:br,5:Ar};var he=require("@solana/web3.js"),_e=ye(require("bn.js"));var gr=require("@solana/web3.js"),Ii="9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",Sr=new gr.PublicKey(Ii),hi={[Ii]:3},Ri={3:Sr};var Pr=D([me(5),me(8),R("ownAddress"),A("vaultSignerNonce"),R("baseMint"),R("quoteMint"),R("baseVault"),A("baseDepositsTotal"),A("baseFeesAccrued"),R("quoteVault"),A("quoteDepositsTotal"),A("quoteFeesAccrued"),A("quoteDustThreshold"),R("requestQueue"),R("eventQueue"),R("bids"),R("asks"),A("baseLotSize"),A("quoteLotSize"),A("feeRateBps"),A("referrerRebatesAccrued"),me(7)]),xi={3:Pr};var Tr=require("@solana/web3.js");var Un=Q.from("Serum"),wt=class{static getProgramId(e){let t=Ri[e];return Un.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=hi[t];return Un.assertArgument(!!n,"invalid program id","programId",t),n}static getStateLayout(e){let t=xi[e];return Un.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:t}){let n=[t.toBuffer()],i=0,r;for(;i<100;){try{let o=n.concat(Buffer.from([i]),Buffer.alloc(7));r=Tr.PublicKey.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;i++;continue}return{publicKey:r,nonce:i}}return Un.throwArgumentError("unable to find a viable program address nonce","params",{programId:e,marketId:t})}};var kr=require("@solana/web3.js");var ot=new kr.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),It=5e4,wr=D([A("x"),A("y"),A("price")]),Lr=D([A("accountType"),A("status"),A("multiplier"),A("validDataCount"),G(wr,It,"DataElement")]);function pa(d,e){return[0,It-2]}function fa(d){return[0,It-2]}function ya(d){return[0,It-2]}function ba(d,e,t){let[n,i]=pa(e,t),r=n,o=i,s=0,a=e*d.multiplier/t;for(;r<=o;){if(s=Math.floor((o+r)/2),s===0||s>=It-2)return[s,s,!1];let m=d.DataElement[s].x*d.multiplier/d.DataElement[s].y,u=d.DataElement[s-1].x*d.multiplier/d.DataElement[s-1].y,f=d.DataElement[s+1].x*d.multiplier/d.DataElement[s+1].y;if(a===m)return[s,s,!0];if(a===u)return[s-1,s-1,!0];if(a===f)return[s+1,s+1,!0];if(a<u)o=s-1;else{if(a>u&&a<m)return[s-1,s,!0];if(a>m&&a<f)return[s,s+1,!0];r=s+1}}return[s,s,!1]}function Bi(d,e,t){let[n,i,r]=ba(d,e,t);if(!r)return 0;if(n===i){let o=d.DataElement[n].x;return e*d.multiplier/o}else{let o=d.DataElement[n].x,s=d.DataElement[n].y,a=d.DataElement[i].x,m=d.DataElement[i].y,u=t*(a*s-o*m),f=o*u,l=(a-o)*(e*s-o*t)*m,b=f+l;return e*d.multiplier*u/b}}function Lt(d,e,t){return e*d.multiplier/t}function Ir(d,e,t){return e*t/d.multiplier}function Aa(d,e){let[t,n]=fa(e),i=t,r=n,o=0,s=e;for(;i<r;){if(o=Math.floor((r+i)/2),o<=0||o>It-2)return[o,o,!1];let a=d.DataElement[o].x,m=d.DataElement[o-1].x,u=d.DataElement[o+1].x;if(s===a)return[o,o,!0];if(s===m)return[o-1,o-1,!0];if(s===u)return[o+1,o+1,!0];if(s<m)r=o-1;else{if(s>m&&s<a)return[o-1,o,!0];if(s>a&&s<u)return[o,o+1,!0];i=o+1}}return[o,o,!1]}function ga(d,e){let[t,n]=ya(e),i=t,r=n,o=0,s=e;for(;i<=r;){if(o=Math.floor((r+i)/2),o<=0||o>=It-2)return[o,o,!1];let a=d.DataElement[o].y,m=d.DataElement[o-1].y,u=d.DataElement[o+1].y;if(s===a)return[o,o,!0];if(s===m)return[o-1,o-1,!0];if(s===u)return[o+1,o+1,!0];if(s<u)i=o+1;else{if(s<m&&s>a)return[o-1,o,!0];if(s<a&&s>u)return[o,o+1,!0];r=o-1}}return[o,o,!1]}function hr(d,e,t,n){let i=n?e+t:e-t,[r,o,s]=Aa(d,i);if(!s)return[0,0,!1,s];if(r===o)return[d.DataElement[o].price,d.DataElement[o].y,!1,s];{let a=d.DataElement[r].x,m=d.DataElement[o].x,u=d.DataElement[r].price,f=d.DataElement[o].price,l=d.DataElement[r].y,b=d.DataElement[o].y;if(e>=a&&e<=m)return n?[f,b,!0,s]:[u,l,!0,s];{let y,p;return n?(y=u+(f-u)*(e-a)/(m-a),p=l-(i-a)*d.multiplier/f):(y=u+(f-u)*(e-a)/(m-a),p=b+(m-i)*d.multiplier/u),[y,p,!1,s]}}}function Sa(d,e,t,n){let i=n?e-t:e+t,[r,o,s]=ga(d,i);if(!s)return[0,0,!1,s];if(r===o)return[d.DataElement[o].price,d.DataElement[o].x,!1,s];{let a=d.DataElement[r].x,m=d.DataElement[o].x,u=d.DataElement[r].price,f=d.DataElement[o].price,l=d.DataElement[r].y,b=d.DataElement[o].y;if(e>=b&&e<=l)return n?[f,m,!0,s]:[u,a,!0,s];{let y,p;return n?(y=u+(f-u)*(l-e)/(l-b),p=a+f*(l-i)/d.multiplier):(y=u+(f-u)*(l-e)/(l-b),p=m-u*(i-b)/d.multiplier),[y,p,!1,s]}}}function Pa(d,e){let t=hr(d,e,0,!1);return t[3]?t[0]:0}function Ci(d,e,t,n){let i=Bi(d,e,t),r=Lt(d,e,i),o=Lt(d,t,i),s=Lt(d,n,i),a=!0,[m,u,f,l]=hr(d,r,s,a);if(!l)return 0;if(f)return n*d.multiplier/m;{let b=o-u;return Ir(d,b,i)}}function Di(d,e,t,n){let i=Bi(d,e,t),r=Lt(d,e,i),o=Lt(d,t,i),s=Lt(d,n,i),a=!1,[m,u,f,l]=Sa(d,o,s,a);if(!l)return 0;if(f)return n*m/d.multiplier;{let b=r-u;return Ir(d,b,i)}}function Ni(d){let e=Lr.decode(d);return{accountType:e.accountType.toNumber(),status:e.status.toNumber(),multiplier:e.multiplier.toNumber(),validDataCount:e.validDataCount.toNumber(),DataElement:e.DataElement.map(t=>({x:t.x.toNumber(),y:t.y.toNumber(),price:t.price.toNumber()}))}}function Oi(d,e,t,n){let i=Pa(d,Lt(d,e,Bi(d,e,t)))/d.multiplier;return n?i:1/i}var O=Q.from("Liquidity"),ln={accountType:0,status:0,multiplier:0,validDataCount:0,DataElement:[]};function vn(d){return E(this,null,function*(){if(ln.validDataCount===0&&d){let e=yield d.getAccountInfo(ot);e&&(ln=Ni(e==null?void 0:e.data))}})}var Rr=(a=>(a[a.Uninitialized=0]="Uninitialized",a[a.Initialized=1]="Initialized",a[a.Disabled=2]="Disabled",a[a.RemoveLiquidityOnly=3]="RemoveLiquidityOnly",a[a.LiquidityOnly=4]="LiquidityOnly",a[a.OrderBook=5]="OrderBook",a[a.Swap=6]="Swap",a[a.WaitingForStart=7]="WaitingForStart",a))(Rr||{}),_i=new _e.default(25),Mn=new _e.default(1e4),Mt=class extends De{static getProgramId(e){let t=wi[e];return O.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=ki[t];return O.assertArgument(!!n,"invalid program id","programId",t),n}static getSerumVersion(e){let t=Li[e];return O.assertArgument(!!t,"invalid version","version",e),t}static getStateLayout(e){let t=Vn[e];return O.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedId({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("amm_associated_seed","utf-8")],e);return n}static getAssociatedAuthority({programId:e}){return ne([Buffer.from([97,109,109,32,97,117,116,104,111,114,105,116,121])],e)}static getAssociatedBaseVault({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("coin_vault_associated_seed","utf-8")],e);return n}static getAssociatedQuoteVault({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("pc_vault_associated_seed","utf-8")],e);return n}static getAssociatedLpMint({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("lp_mint_associated_seed","utf-8")],e);return n}static getAssociatedLpVault({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("temp_lp_token_associated_seed","utf-8")],e);return n}static getAssociatedTargetOrders({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("target_associated_seed","utf-8")],e);return n}static getAssociatedWithdrawQueue({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("withdraw_associated_seed","utf-8")],e);return n}static getAssociatedOpenOrders({programId:e,marketId:t}){let{publicKey:n}=ne([e.toBuffer(),t.toBuffer(),Buffer.from("open_order_associated_seed","utf-8")],e);return n}static getAssociatedPoolKeys({version:e,marketVersion:t,marketId:n,baseMint:i,quoteMint:r,baseDecimals:o,quoteDecimals:s,programId:a,marketProgramId:m}){let u=this.getAssociatedId({programId:a,marketId:n}),f=this.getAssociatedLpMint({programId:a,marketId:n}),{publicKey:l,nonce:b}=this.getAssociatedAuthority({programId:a}),y=this.getAssociatedBaseVault({programId:a,marketId:n}),p=this.getAssociatedQuoteVault({programId:a,marketId:n}),g=this.getAssociatedLpVault({programId:a,marketId:n}),P=this.getAssociatedOpenOrders({programId:a,marketId:n}),T=this.getAssociatedTargetOrders({programId:a,marketId:n}),L=this.getAssociatedWithdrawQueue({programId:a,marketId:n}),{publicKey:k}=wt.getAssociatedAuthority({programId:m,marketId:n});return{id:u,baseMint:i,quoteMint:r,lpMint:f,baseDecimals:o,quoteDecimals:s,lpDecimals:o,version:e,programId:a,authority:l,nonce:b,baseVault:y,quoteVault:p,lpVault:g,openOrders:P,targetOrders:T,withdrawQueue:L,marketVersion:t,marketProgramId:m,marketId:n,marketAuthority:k}}static makeAddLiquidityInstruction(e){let{poolKeys:t,userKeys:n,baseAmountIn:i,quoteAmountIn:r,fixedSide:o}=e,{version:s}=t;if(s===4||s===5){let a=D([U("instruction"),A("baseAmountIn"),A("quoteAmountIn"),A("fixedSide")]),m=Buffer.alloc(a.span);a.encode({instruction:3,baseAmountIn:V(i),quoteAmountIn:V(r),fixedSide:V(o==="base"?0:1)},m);let u=[w(F.TOKEN_PROGRAM_ID,!1),S(t.id,!1),w(t.authority,!1),w(t.openOrders,!1),S(t.targetOrders,!1),S(t.lpMint,!1),S(t.baseVault,!1),S(t.quoteVault,!1)];return s===5&&u.push(S(ot,!1)),u.push(w(t.marketId,!1),S(n.baseTokenAccount,!1),S(n.quoteTokenAccount,!1),S(n.lpTokenAccount,!1),w(n.owner,!0),w(t.marketEventQueue,!1)),new he.TransactionInstruction({programId:t.programId,keys:u,data:m})}return O.throwArgumentError("invalid version","poolKeys.version",s)}static makeAddLiquidityTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountInA:r,amountInB:o,fixedSide:s,config:a}=e,{lpMint:m}=n,{tokenAccounts:u,owner:f,payer:l=f}=i;O.debug("amountInA:",r),O.debug("amountInB:",o),O.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","amountInA & amountInB",{amountInA:r.toFixed(),amountInB:o.toFixed()});let{bypassAssociatedCheck:b}=M({bypassAssociatedCheck:!1},a),y=r instanceof W?r.token:C.WSOL,p=o instanceof W?o.token:C.WSOL,g=this._selectTokenAccount({tokenAccounts:u,mint:y.mint,owner:f,config:{associatedOnly:!1}}),P=this._selectTokenAccount({tokenAccounts:u,mint:p.mint,owner:f,config:{associatedOnly:!1}});O.assertArgument(!!g||!!P,"cannot found target token accounts","tokenAccounts",u);let T=this._selectTokenAccount({tokenAccounts:u,mint:m,owner:f}),L=[y,p],k=[g,P],I=[r.raw,o.raw],[N]=this._getAmountsSide(r,o,n),h="base";if(N==="quote")if(L.reverse(),k.reverse(),I.reverse(),s==="a")h="quote";else if(s==="b")h="base";else return O.throwArgumentError("invalid fixedSide","fixedSide",s);else if(N==="base")if(s==="a")h="base";else if(s==="b")h="quote";else return O.throwArgumentError("invalid fixedSide","fixedSide",s);else return O.throwArgumentError("invalid fixedSide","fixedSide",s);let[_,q]=L,[J,re]=k,[Z,ue]=I,le=[],fe=[],qe=[],An=yield this._handleTokenAccount({connection:t,side:"in",amount:Z,mint:_.mint,tokenAccount:J,owner:f,payer:l,frontInstructions:le,endInstructions:fe,signers:qe,bypassAssociatedCheck:b}),gn=yield this._handleTokenAccount({connection:t,side:"in",amount:ue,mint:q.mint,tokenAccount:re,owner:f,payer:l,frontInstructions:le,endInstructions:fe,signers:qe,bypassAssociatedCheck:b}),Qt=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:m,tokenAccount:T,owner:f,payer:l,frontInstructions:le,endInstructions:fe,signers:qe,bypassAssociatedCheck:b});le.push(this.makeAddLiquidityInstruction({poolKeys:n,userKeys:{baseTokenAccount:An,quoteTokenAccount:gn,lpTokenAccount:Qt,owner:f},baseAmountIn:Z,quoteAmountIn:ue,fixedSide:h}));let lo=new he.Transaction;return lo.add(...le,...fe),{transaction:lo,signers:qe}})}static makeRemoveLiquidityInstruction(e){let{poolKeys:t,userKeys:n,amountIn:i}=e,{version:r}=t;if(r===4||r===5){let o=D([U("instruction"),A("amountIn")]),s=Buffer.alloc(o.span);o.encode({instruction:4,amountIn:V(i)},s);let a=[w(F.TOKEN_PROGRAM_ID,!1),S(t.id,!1),w(t.authority,!1),S(t.openOrders,!1),S(t.targetOrders,!1),S(t.lpMint,!1),S(t.baseVault,!1),S(t.quoteVault,!1)];return r===5?a.push(S(ot,!1)):(a.push(S(t.withdrawQueue,!1)),a.push(S(t.lpVault,!1))),a.push(w(t.marketProgramId,!1),S(t.marketId,!1),S(t.marketBaseVault,!1),S(t.marketQuoteVault,!1),w(t.marketAuthority,!1),S(n.lpTokenAccount,!1),S(n.baseTokenAccount,!1),S(n.quoteTokenAccount,!1),w(n.owner,!0),S(t.marketEventQueue,!1),S(t.marketBids,!1),S(t.marketAsks,!1)),new he.TransactionInstruction({programId:t.programId,keys:a,data:s})}return O.throwArgumentError("invalid version","poolKeys.version",r)}static makeRemoveLiquidityTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountIn:r,config:o}=e,{baseMint:s,quoteMint:a,lpMint:m}=n,{tokenAccounts:u,owner:f,payer:l=f}=i;O.debug("amountIn:",r),O.assertArgument(!r.isZero(),"amount must greater than zero","amountIn",r.toFixed()),O.assertArgument(r instanceof W&&r.token.mint.equals(m),"amountIn's token not match lpMint","amountIn",r);let b=this._selectTokenAccount({tokenAccounts:u,mint:m,owner:f,config:{associatedOnly:!1}});if(!b)return O.throwArgumentError("cannot found lpTokenAccount","tokenAccounts",u);let y=this._selectTokenAccount({tokenAccounts:u,mint:s,owner:f}),p=this._selectTokenAccount({tokenAccounts:u,mint:a,owner:f}),{bypassAssociatedCheck:g}=M({bypassAssociatedCheck:!1},o),P=[],T=[],L=[],k=b,I=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:s,tokenAccount:y,owner:f,payer:l,frontInstructions:P,endInstructions:T,signers:L,bypassAssociatedCheck:g}),N=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:a,tokenAccount:p,owner:f,payer:l,frontInstructions:P,endInstructions:T,signers:L,bypassAssociatedCheck:g});P.push(he.ComputeBudgetProgram.requestUnits({units:4e5,additionalFee:0})),P.push(this.makeRemoveLiquidityInstruction({poolKeys:n,userKeys:{lpTokenAccount:k,baseTokenAccount:I,quoteTokenAccount:N,owner:f},amountIn:r.raw}));let h=new he.Transaction;return h.add(...P,...T),{transaction:h,signers:L}})}static makeSwapInstruction(e){let{poolKeys:t,userKeys:n,amountIn:i,amountOut:r,fixedSide:o}=e,{version:s}=t;return s===4||s===5?o==="in"?this.makeSwapFixedInInstruction({poolKeys:t,userKeys:n,amountIn:i,minAmountOut:r},s):o==="out"?this.makeSwapFixedOutInstruction({poolKeys:t,userKeys:n,maxAmountIn:i,amountOut:r},s):O.throwArgumentError("invalid params","params",e):O.throwArgumentError("invalid version","poolKeys.version",s)}static makeSwapFixedInInstruction({poolKeys:e,userKeys:t,amountIn:n,minAmountOut:i},r){let o=D([U("instruction"),A("amountIn"),A("minAmountOut")]),s=Buffer.alloc(o.span);o.encode({instruction:9,amountIn:V(n),minAmountOut:V(i)},s);let a=[w(F.TOKEN_PROGRAM_ID,!1),S(e.id,!1),w(e.authority,!1),S(e.openOrders,!1)];return r===4&&a.push(S(e.targetOrders,!1)),a.push(S(e.baseVault,!1),S(e.quoteVault,!1)),r===5&&a.push(S(ot,!1)),a.push(w(e.marketProgramId,!1),S(e.marketId,!1),S(e.marketBids,!1),S(e.marketAsks,!1),S(e.marketEventQueue,!1),S(e.marketBaseVault,!1),S(e.marketQuoteVault,!1),w(e.marketAuthority,!1),S(t.tokenAccountIn,!1),S(t.tokenAccountOut,!1),w(t.owner,!0)),new he.TransactionInstruction({programId:e.programId,keys:a,data:s})}static makeSwapFixedOutInstruction({poolKeys:e,userKeys:t,maxAmountIn:n,amountOut:i},r){let o=D([U("instruction"),A("maxAmountIn"),A("amountOut")]),s=Buffer.alloc(o.span);o.encode({instruction:11,maxAmountIn:V(n),amountOut:V(i)},s);let a=[w(F.TOKEN_PROGRAM_ID,!1),S(e.id,!1),w(e.authority,!1),S(e.openOrders,!1),S(e.targetOrders,!1),S(e.baseVault,!1),S(e.quoteVault,!1)];return r===5&&a.push(S(ot,!1)),a.push(w(e.marketProgramId,!1),S(e.marketId,!1),S(e.marketBids,!1),S(e.marketAsks,!1),S(e.marketEventQueue,!1),S(e.marketBaseVault,!1),S(e.marketQuoteVault,!1),w(e.marketAuthority,!1),S(t.tokenAccountIn,!1),S(t.tokenAccountOut,!1),w(t.owner,!0)),new he.TransactionInstruction({programId:e.programId,keys:a,data:s})}static makeSwapTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,amountIn:r,amountOut:o,fixedSide:s,config:a}=e,{tokenAccounts:m,owner:u,payer:f=u}=i;O.debug("amountIn:",r),O.debug("amountOut:",o),O.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:r.toFixed(),amountOut:o.toFixed()});let{bypassAssociatedCheck:l}=M({bypassAssociatedCheck:!1},a),b=r instanceof W?r.token:C.WSOL,y=o instanceof W?o.token:C.WSOL,p=this._selectTokenAccount({tokenAccounts:m,mint:b.mint,owner:u,config:{associatedOnly:!1}}),g=this._selectTokenAccount({tokenAccounts:m,mint:y.mint,owner:u}),[P,T]=[r.raw,o.raw],L=[],k=[],I=[],N=yield this._handleTokenAccount({connection:t,side:"in",amount:P,mint:b.mint,tokenAccount:p,owner:u,payer:f,frontInstructions:L,endInstructions:k,signers:I,bypassAssociatedCheck:l}),h=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:y.mint,tokenAccount:g,owner:u,payer:f,frontInstructions:L,endInstructions:k,signers:I,bypassAssociatedCheck:l});L.push(this.makeSwapInstruction({poolKeys:n,userKeys:{tokenAccountIn:N,tokenAccountOut:h,owner:u},amountIn:P,amountOut:T,fixedSide:s}));let _=new he.Transaction;return _.add(...L,...k),{transaction:_,signers:I}})}static makeCreatePoolInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===4?this.makeCreatePoolInstructionV4(e):O.throwArgumentError("invalid version","poolKeys.version",n)}static makeCreatePoolInstructionV4({poolKeys:e,userKeys:t}){let n=D([U("instruction"),U("nonce")]),i=Buffer.alloc(n.span);n.encode({instruction:10,nonce:e.nonce},i);let r=[w(F.TOKEN_PROGRAM_ID,!1),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1),S(e.targetOrders,!1),S(e.withdrawQueue,!1),w(e.authority,!1),S(e.lpMint,!1),w(e.baseMint,!1),w(e.quoteMint,!1),S(e.baseVault,!1),S(e.quoteVault,!1),S(e.lpVault,!1),w(e.marketId,!1),S(t.payer,!0)];return new he.TransactionInstruction({programId:e.programId,keys:r,data:i})}static makeCreatePoolTransaction(e){let t=new he.Transaction,n=[];return t.add(this.makeCreatePoolInstruction(e)),{transaction:t,signers:n}}static makeInitPoolInstruction(e){let{poolKeys:t}=e,{version:n}=t;return n===4?this.makeInitPoolInstructionV4(e):O.throwArgumentError("invalid version","poolKeys.version",n)}static makeInitPoolInstructionV4({poolKeys:e,userKeys:t,startTime:n}){let i=D([U("instruction"),U("nonce"),A("startTime")]),r=Buffer.alloc(i.span);i.encode({instruction:0,nonce:e.nonce,startTime:V(n)},r);let o=[w(F.TOKEN_PROGRAM_ID,!1),w(Ae,!1),w(ge.SYSVAR_RENT_PUBKEY,!1),S(e.id,!1),w(e.authority,!1),S(e.openOrders,!1),S(e.lpMint,!1),w(e.baseMint,!1),w(e.quoteMint,!1),w(e.baseVault,!1),w(e.quoteVault,!1),S(e.withdrawQueue,!1),S(e.targetOrders,!1),S(t.lpTokenAccount,!1),w(e.lpVault,!1),w(e.marketProgramId,!1),w(e.marketId,!1),S(t.payer,!0)];return new he.TransactionInstruction({programId:e.programId,keys:o,data:r})}static makeInitPoolTransaction(e){return E(this,null,function*(){let{connection:t,poolKeys:n,userKeys:i,baseAmount:r,quoteAmount:o,startTime:s=0,config:a}=e,{baseMint:m,quoteMint:u,lpMint:f,baseVault:l,quoteVault:b}=n,{tokenAccounts:y,owner:p,payer:g=p}=i,{bypassAssociatedCheck:P}=M({bypassAssociatedCheck:!1},a),T=this._selectTokenAccount({tokenAccounts:y,mint:m,owner:p,config:{associatedOnly:!1}}),L=this._selectTokenAccount({tokenAccounts:y,mint:u,owner:p,config:{associatedOnly:!1}});O.assertArgument(!!T||!!L,"cannot found target token accounts","tokenAccounts",y);let k=this._selectTokenAccount({tokenAccounts:y,mint:f,owner:p}),I=[],N=[],h=[],_=yield this._handleTokenAccount({connection:t,side:"in",amount:r.raw,mint:m,tokenAccount:T,owner:p,payer:g,frontInstructions:I,endInstructions:N,signers:h,bypassAssociatedCheck:P}),q=yield this._handleTokenAccount({connection:t,side:"in",amount:o.raw,mint:u,tokenAccount:L,owner:p,payer:g,frontInstructions:I,endInstructions:N,signers:h,bypassAssociatedCheck:P}),J=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:f,tokenAccount:k,owner:p,payer:g,frontInstructions:I,endInstructions:N,signers:h,bypassAssociatedCheck:P});I.push(te.makeTransferInstruction({source:_,destination:l,owner:p,amount:r.raw})),I.push(te.makeTransferInstruction({source:q,destination:b,owner:p,amount:o.raw})),I.push(this.makeInitPoolInstruction({poolKeys:n,userKeys:{lpTokenAccount:J,payer:g},startTime:s}));let re=new he.Transaction;return re.add(...I,...N),{transaction:re,signers:h}})}static makeSimulatePoolInfoInstruction({poolKeys:e}){let t=D([U("instruction"),U("simulateType")]),n=Buffer.alloc(t.span);t.encode({instruction:12,simulateType:0},n);let i=[w(e.id,!1),w(e.authority,!1),w(e.openOrders,!1),w(e.baseVault,!1),w(e.quoteVault,!1),w(e.lpMint,!1),w(e.marketId,!1),w(e.marketEventQueue,!1)];return new he.TransactionInstruction({programId:e.programId,keys:i,data:n})}static isV4(e){return e.withdrawQueue!==void 0}static fetchAllPoolKeys(e,t){return E(this,null,function*(){let n=Object.keys(Vn).map(m=>{let u=Number(m),f=this.getSerumVersion(u),l=wt.getProgramId(f);return{version:u,programId:this.getProgramId(u),serumVersion:f,serumProgramId:l,stateLayout:this.getStateLayout(u)}}),i=[];try{i=yield Promise.all(n.map(({programId:m,version:u,serumVersion:f,serumProgramId:l,stateLayout:b})=>e.getProgramAccounts(m,{filters:[{dataSize:b.span}]}).then(y=>y.map(p=>ae(M({},p),{version:u,programId:m,serumVersion:f,serumProgramId:l,stateLayout:b})))))}catch(m){if(m instanceof Error)return O.throwError("failed to fetch all liquidity pools",Q.errors.RPC_ERROR,{message:m.message})}let r=i.flat(),o=[];for(let{pubkey:m,account:u,version:f,programId:l,serumVersion:b,serumProgramId:y,stateLayout:p}of r){O.assertArgument(!!u,"empty state account info","pool.id",m);let{data:g}=u;O.assertArgument(g.length===p.span,"invalid state data length","pool.id",m);let P=p.decode(g),{status:T,baseMint:L,quoteMint:k,baseDecimal:I,quoteDecimal:N,lpMint:h,openOrders:_,targetOrders:q,baseVault:J,quoteVault:re,marketId:Z}=P,ue,le;if(this.isV4(P)?(ue=P.withdrawQueue,le=P.lpVault):(ue=he.PublicKey.default,le=he.PublicKey.default),T.isZero())continue;let fe=Mt.getAssociatedPoolKeys({version:f,marketVersion:b,marketId:Z,baseMint:L,baseDecimals:I.toNumber(),quoteMint:k,quoteDecimals:N.toNumber(),programId:l,marketProgramId:y});o.push({id:m,baseMint:L,quoteMint:k,baseDecimals:fe.baseDecimals,quoteDecimals:fe.quoteDecimals,lpDecimals:fe.lpDecimals,lpMint:h,version:f,programId:l,authority:fe.authority,openOrders:_,targetOrders:q,baseVault:J,quoteVault:re,withdrawQueue:ue,lpVault:le,marketVersion:b,marketProgramId:y,marketId:Z,marketAuthority:fe.marketAuthority})}let s=[];try{s=yield ve(e,o.map(({marketId:m})=>m),t)}catch(m){if(m instanceof Error)return O.throwError("failed to fetch markets",Q.errors.RPC_ERROR,{message:m.message})}O.assertArgument(s.length===o.length,"markets count not equal to pools","markets.length",s.length);let a=[];for(let m in s){let u=o[m],f=s[m],{id:l,marketVersion:b}=u;if(!f)return O.throwArgumentError("empty market account info","pool.id",l);let{data:y}=f,{state:p}=wt.getLayouts(b);O.assertArgument(y.length===p.span,"invalid market data length","pool.id",l);let{baseVault:g,quoteVault:P,bids:T,asks:L,eventQueue:k}=p.decode(y);a.push(ae(M({},u),{marketBaseVault:g,marketQuoteVault:P,marketBids:T,marketAsks:L,marketEventQueue:k}))}return a})}static fetchInfo(n){return E(this,arguments,function*({connection:e,poolKeys:t}){let i=yield this.fetchMultipleInfo({connection:e,pools:[t]});return O.assertArgument(i.length===1,`fetchInfo failed, ${i.length} pools found`,"poolKeys.id",t.id),i[0]})}static fetchMultipleInfo(i){return E(this,arguments,function*({connection:e,pools:t,config:n}){yield vn(e);let r=t.map(a=>this.makeSimulatePoolInfoInstruction({poolKeys:a}));return(yield Zt(e,r,"GetPoolData")).map(a=>{let m=jt(a,"GetPoolData"),u=new _e.default(Le(m,"status")),f=Number(Le(m,"coin_decimals")),l=Number(Le(m,"pc_decimals")),b=Number(Le(m,"lp_decimals")),y=new _e.default(Le(m,"pool_coin_amount")),p=new _e.default(Le(m,"pool_pc_amount")),g=new _e.default(Le(m,"pool_lp_supply")),P="0";try{P=Le(m,"pool_open_time")}catch(T){}return{status:u,baseDecimals:f,quoteDecimals:l,lpDecimals:b,baseReserve:y,quoteReserve:p,lpSupply:g,startTime:new _e.default(P)}})})}static getEnabledFeatures(e){let{status:t}=e,n=t.toNumber();if(n===0)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===1)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===2)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===3)return{swap:!1,addLiquidity:!1,removeLiquidity:!0};if(n===4)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===5)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===6)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===7){let{startTime:i}=e;return Date.now()/1e3<i.toNumber()?{swap:!1,addLiquidity:!0,removeLiquidity:!0}:{swap:!0,addLiquidity:!0,removeLiquidity:!0}}else return{swap:!1,addLiquidity:!1,removeLiquidity:!1}}static includesToken(e,t){let{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)||e.mint.equals(i)}static _getTokenSide(e,t){let{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)?"base":e.mint.equals(i)?"quote":O.throwArgumentError("token not match with pool","params",{token:e.mint,baseMint:n,quoteMint:i})}static _getTokensSide(e,t,n){let{baseMint:i,quoteMint:r}=n,o=this._getTokenSide(e,n),s=this._getTokenSide(t,n);return O.assertArgument(o!==s,"tokens not match with pool","params",{tokenA:e.mint,tokenB:t.mint,baseMint:i,quoteMint:r}),[o,s]}static _getAmountSide(e,t){let n=e instanceof W?e.token:C.WSOL;return this._getTokenSide(n,t)}static _getAmountsSide(e,t,n){let i=e instanceof W?e.token:C.WSOL,r=t instanceof W?t.token:C.WSOL;return this._getTokensSide(i,r,n)}static computeAnotherAmount({poolKeys:e,poolInfo:t,amount:n,anotherCurrency:i,slippage:r}){let{baseReserve:o,quoteReserve:s}=t;O.debug("baseReserve:",o.toString()),O.debug("quoteReserve:",s.toString());let a=n instanceof W?n.token:n.currency;O.debug("currencyIn:",a),O.debug("amount:",n.toFixed()),O.debug("anotherCurrency:",i),O.debug("slippage:",`${r.toSignificant()}%`);let m=this._getAmountSide(n,e);O.debug("input side:",m);let u=v;n.isZero()||(u=m==="base"?wn(n.raw.mul(s),o):wn(n.raw.mul(o),s));let l=new we(ie).add(r).mul(u).quotient,b=i instanceof C?new W(i,u):new de(i,u),y=i instanceof C?new W(i,l):new de(i,l);return O.debug("anotheAmount:",b.toFixed()),O.debug("maxAnotheAmount:",y.toFixed()),{anotherAmount:b,maxAnotherAmount:y}}static _computePriceImpact(e,t,n){let i=e.raw.mul(t),r=i.sub(n).div(i);return new we(r.numerator,r.denominator)}static getRate(e){let{baseReserve:t,quoteReserve:n,baseDecimals:i,quoteDecimals:r}=e;return new pe(new Qe(i),t,new Qe(r),n)}static computeAmountIn({poolKeys:e,poolInfo:t,amountOut:n,currencyIn:i,slippage:r}){let{baseReserve:o,quoteReserve:s}=t;O.debug("baseReserve:",o.toString()),O.debug("quoteReserve:",s.toString());let a=n instanceof W?n.token:n.currency;O.debug("currencyOut:",a),O.debug("amountOut:",n.toFixed()),O.debug("currencyIn:",i),O.debug("slippage:",`${r.toSignificant()}%`);let m=[o,s],u=this._getAmountSide(n,e);u==="base"&&m.reverse(),O.debug("output side:",u);let[f,l]=m,b=new pe(i,f,a,l);O.debug("currentPrice:",`1 ${i.symbol} \u2248 ${b.toFixed()} ${a.symbol}`),O.debug("currentPrice invert:",`1 ${a.symbol} \u2248 ${b.invert().toFixed()} ${i.symbol}`);let y=v,p=n.raw;if(!p.isZero()){p.gt(l)&&(p=l.sub(ie));let N=l.sub(p);y=f.mul(p).div(N).mul(Mn).div(Mn.sub(_i))}let P=new we(ie).add(r).mul(y).quotient,T=i instanceof C?new W(i,y):new de(i,y),L=i instanceof C?new W(i,P):new de(i,P);O.debug("amountIn:",T.toFixed()),O.debug("maxAmountIn:",L.toFixed());let k=null;!y.isZero()&&!p.isZero()&&(k=new pe(i,y,a,p),O.debug("executionPrice:",`1 ${i.symbol} \u2248 ${k.toFixed()} ${a.symbol}`),O.debug("executionPrice invert:",`1 ${a.symbol} \u2248 ${k.invert().toFixed()} ${i.symbol}`));let I=this._computePriceImpact(b,y,p);return O.debug("priceImpact:",`${I.toSignificant()}%`),{amountIn:T,maxAmountIn:L,currentPrice:b,executionPrice:k,priceImpact:I}}},Pe=Mt;Pe.computeAmountOut=({poolKeys:e,poolInfo:t,amountIn:n,currencyOut:i,slippage:r})=>{let o=n instanceof W?n.token:C.WSOL,s=i instanceof C?i:C.WSOL;O.assertArgument(Mt.includesToken(o,e)&&Mt.includesToken(s,e),"token not match with pool","poolKeys",{poolKeys:e,tokenIn:o,tokenOut:s});let{baseReserve:a,quoteReserve:m}=t;O.debug("baseReserve:",a.toString()),O.debug("quoteReserve:",m.toString());let u=n instanceof W?n.token:n.currency;O.debug("currencyIn:",u),O.debug("amountIn:",n.toFixed()),O.debug("currencyOut:",i),O.debug("slippage:",`${r.toSignificant()}%`);let f=[a,m],l=Mt._getAmountSide(n,e);l==="quote"&&f.reverse(),O.debug("input side:",l);let[b,y]=f,p;if(e.version===4)p=new pe(u,b,i,y);else{let Z=Oi(ln,a.toNumber(),m.toNumber(),!1);l==="quote"?p=new pe(u,new _e.default(Z*1e6),i,new _e.default(1e6)):p=new pe(u,new _e.default(1e6),i,new _e.default(Z*1e6))}O.debug("currentPrice:",`1 ${u.symbol} \u2248 ${p.toFixed()} ${i.symbol}`),O.debug("currentPrice invert:",`1 ${i.symbol} \u2248 ${p.invert().toFixed()} ${u.symbol}`);let g=n.raw,P=v,T=v;if(!g.isZero())if(e.version===4){T=g.mul(_i).div(Mn);let Z=g.sub(T),ue=b.add(Z);P=y.mul(Z).div(ue)}else{T=g.mul(new _e.default(2)).div(new _e.default(1e4));let Z=g.sub(T);l==="quote"?P=new _e.default(Ci(ln,m.toNumber(),a.toNumber(),Z.toNumber())):P=new _e.default(Di(ln,m.toNumber(),a.toNumber(),Z.toNumber()))}let k=new we(ie).add(r).invert().mul(P).quotient,I=i instanceof C?new W(i,P):new de(i,P),N=i instanceof C?new W(i,k):new de(i,k);O.debug("amountOut:",I.toFixed()),O.debug("minAmountOut:",N.toFixed());let h=new pe(u,g.sub(T),i,P);!g.isZero()&&!P.isZero()&&(h=new pe(u,g.sub(T),i,P),O.debug("executionPrice:",`1 ${u.symbol} \u2248 ${h.toFixed()} ${i.symbol}`),O.debug("executionPrice invert:",`1 ${i.symbol} \u2248 ${h.invert().toFixed()} ${u.symbol}`));let _=h.denominator.mul(p.numerator),q=h.numerator.mul(p.denominator).sub(_).abs(),J=new we(q,_);O.debug("priceImpact:",`${J.toSignificant()}%`);let re=u instanceof C?new W(u,T):new de(u,T);return{amountOut:I,minAmountOut:N,currentPrice:p,executionPrice:h,priceImpact:J,fee:re}};var Ta=["2dRNngAm729NzLbb1pzgHtfHvPqR4XHFmFyYK78EfEeX","B5ZguAWAGC3GXVtJZVfoMtzvEvDnDKBPCevsUKMy4DTZ","5VyLSjUvaRxsubirbvbfJMbrKZRx1b7JZzuCAfyqgimf","6kmMMacvoCKBkBrqssLEdFuEZu2wqtLdNQxh9VjtzfwT","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","83xxjVczDseaCzd7D61BRo7LcP7cMXut5n7thhB4rL4d","8tzS7SkUZyHPQY7gLqsMCXZ5EDCgjESUHcB17tiR1h3Z","4C2Mz1bVqe42QDDTyJ4HFCFFGsH5YDzo91Cen5w5NGun","6kbC5epG18DF2DwPEW34tBy5pGFS7pEGALR3v5MGxgc5","5dHEPTgvscKkAc54R77xUeGdgShdG9Mf6gJ9bwBqyb3V","8mBJC9qdPNDyrpAbrdwGbBpEAjPqwtvZQVmbnKFXXY2P","Hr8i6MAm4W5Lwb2fB2CD44A2t3Ag3gGc1rmd6amrWsWC","AoPebtuJC4f2RweZSxcVCcdeTgaEXY64Uho8b5HdPxAR","3mYsmBQLB8EZSjRwtWjPbbE8LiM1oCCtNZZKiVBKsePa","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","81PmLJ8j2P8CC5EJAAhWGYA4HgJvoKs4Y94ALZF2uKKG","af8HJg2ffWoKJ6vKvkWJUJ9iWbRR83WgXs8HPs26WGr","4fgubfZVL6L8tc5x1j65S14P2Tnxr1YayKtKavQV5MBo","AMMwkf57c7ZsbbDCXvBit9zFehMr1xRn8ZzaT1iDF18o","DWvhPYVogsEKEsehHApUtjhP1UFtApkAPFJqFh2HPmWz","GjrXcSvwzGrz1RwKYGVWdbZyXzyotgichSHB95moDmf8","E9EvurfzdSQaqCFBUaD4MgV93htuRQ93sghm922Pik88","He3iAEV5rYjv6Xf7PxKro19eVrC3QAcdic5CF2D2obPt","GDVhJmDTdSExwHeMT5RvUBUNKLwwXNKhH8ndm1tpTv6B","21r2zeCacmm5YvbGoPZh9ZoGREuodhcbQHaP5tZmzY14","DvxLb4NnQUYq1gErk35HVt9g8kxjNbviJfiZX1wqraMv","BLVjPTgzyfiKSgDujTNKKNzW2GXx7HhdMxgr2LQ2g83s","DkMAuUCQHC6BNgVnjtM5ZTKm1T8MsriQ6bL3Umi6NBtG","796pvggjoDCPUtUSVFSCLqPRyes5YPvRiu4zFWX582wf","3XwxHcbyqcd1xkdczaPv3TNCZsevELD4Zux3pu4sF2D8","EvWJC2mnmu9C9aQrsJLXw8FhUcwBzFEUQsP1E5Y6a5N7","4Sx1NLrQiK4b9FdLKe2DhQ9FHvRzJhzKN3LoD6BrEPnf","94CQopiGxxUXf2avyMZhAFaBdNatd62ttYGoTVQBRGdi","BuS4ScFcZjEBixF1ceCTiXs4rqt4WDfXLoth7VcM2Eoj","BkfGDk676QFtTiGxn7TtEpHayJZRr6LgNk9uTV2MH4bR","DiWxV1SPXPNJRCt5Ao1mJRAxjw97hJVyj8qGzZwFbAFb","GDHXjn9wF2zxW35DBkCegWQdoTfFBC9LXt7D5ovJxQ5B","96hPvuJ3SRT82m7BAc7G1AUVPVcoj8DABAa5gT7wjgzX","DSkXJYPZqJ3yHQECyVyh3xiE3HBrt7ARmepwNDA9rREn","5TgJXpv6H3KJhHCuP7KoDLSCmi8sM8nABizP7CmYAKm1","SJmR8rJgzzCi4sPjGnrNsqY4akQb3jn5nsxZBhyEifC","7XXKU8oGDbeGrkPyK5yHKzdsrMJtB7J2TMugjbrXEhB5","EyDgEU9BdG7m6ZK4bYERxbN4NCJ129WzPtv23dBkfsLg","61JtCkTQKSeBU8ztEScByZiBhS6KAHSXfQduVyA4s1h7","34oD4akb2DeNcCw1smKHPsD3iqQQQWmNy3cY81nz7HP8","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","GaqgfieVmnmY4ZsZHHA6L5RSVzCGL3sKx4UgHBaYNy8m","8iQFhWyceGREsWnLM8NkG9GC8DvZunGZyMzuyUScgkMK","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","asdEJnE7osjgnSyQkSZJ3e5YezbmXuDQPiyeyiBxoUm","GmaDNMWsTYWjaXVBjJTHNmCWAKU6cn5hhtWWYEZt4odo","ZfvDXXUhZDzDVsapffUyXHj9ByCoPjP4thL6YXcZ9ix","EGyhb2uLAsRUbRx9dNFBjMVYnFaASWMvD6RE1aEf2LxL","6GUF8Qb5FWmifzYpRdKomFNbSQAsLShhT45GbTGg34VJ","6nJes56KF999Q8VtQTrgWEHJGAfGMuJktGb8x2uWff2u","34tFULRrRwh4bMcBLPtJaNqqe5pVgGZACi5sR8Xz95KC","2bnZ1edbvK3CK3LTNZ5jH9anvXYCmzPR4W2HQ6Ngsv5K","9xyCzsHi1wUWva7t5Z8eAvZDRmUCVhRrbaFfm3VbU4Mf","F73euqPynBwrgcZn3fNSEneSnYasDQohPM5aZazW9hp2","5tho4By9RsqTF1rbm9Akiepik3kZBT7ffUzGg8bL1mD","8Fr3wxZXLtiSozqms5nF4XXGHNSNqcMC6K6MvRqEfk4a","Dm1Q15216uRARmQTbo6VfnyEGVzRvLTm4TfCWWX4MF3F","J3CoGcJqHquUdSgS7qAwdGbp3so4EpLX8eVDdGuauvi","BKLCqnuk4qc5iHWuJuewMxuvsNZXuTBSUyRT5ftnRb6H","5ZPBHzMr19iQjBaDgFDYGAx2bxaQ3TzWmSS7zAGrHtQJ","Am9FpX73ctZ3HzohcRdyCCv84iT7nugevqLjY5yTSUQP","DGSnfcE1kw4uDC6jgrsZ3s5CMfsWKN7JNjDNasHdvKfq","8hvVAhShYLPThcxrxwMNAWmgRCSjtxygj11EGHp2WHz8","9Hm8QX7ZhE9uB8L2arChmmagZZBtBmnzBbpfxzkQp85D","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","vVXfY15WdPsCmLvbiP4hWWECPFeAvPTuPNq3Q4BXfhy","A21ui9aYTSs3CbkscaY6irEMQx3Z59dLrRuZQTt2hJwQ","7qZJTK5NatxQJRTxZvHi3gRu4cZZsKr8ZPzs7BA5JMTC","43UHp4TuwQ7BYsaULN1qfpktmg7GWs9GpR8TDb8ovu9c","6gpZ9JkLoYvpA5cwdyPZFsDw6tkbPyyXM5FqRqHxMCny","2kPA9XUuHUifcCYTnjSuN7ZrC3ma8EKPrtzUhC86zj3m","EBqQdu9rGe6j3WGJQSyTvDjUMWcRd6uLcxSS4TbFT31t","33dWwj33J3NUzoTmkMAUq1VdXZL89qezxkdaHdN88vK2","FEFzBbbEK8yDigqyJPgJKMR5X1xZARC25QTCskvudjuK","Ghj3v2qYbSp6XqmH4NV4KRu4Rrgqoh2Ra7L9jEdsbNzF","BhuMVCzwFVZMSuc1kBbdcAnXwFg9p4HJp7A9ddwYjsaF","ynV2H2b7FcRBho2TvE25Zc4gDeuu2N45rUw9DuJYjJ9","8idN93ZBpdtMp4672aS4GGMDy7LdVWCCXH7FKFdMw9P4","Ek8uoHjADzbNk2yr2HysybwFk1h2j9XXDsWAjAJN38n1","7rVAbPFzqaBmydukTDFAuBiuyBrTVhpa5LpfDRrjX9mr","HuMDhYhW1BmBjXoJZBdjqaqoD3ehQeCUMbDSiZsaXSDU","D95EzH4ZsGLikvYzp7kmz1RM1xNMo1MXXiXaedQesA2m","3hhSfFhbk7Kd8XrRYKCcGAyUVYRaW9MLhcqAaU9kx6SA","2Tv6eMih3iqxHrLAWn372Nba4A8FT8AxFSbowBmmTuAd","7eM9KWYiJmNfDfeztMoEZE1KPyWD54LRxM9GmRY9ske6","3HYhQC6ne6SAPVT5sPTKawRUxv9ZpYyLuk1ifrw8baov","EZRHhpvAP4zEX1wZtTQcf6NP4FLWjs9c6tMRBqfrXgFD","GRM4jGMtx64sEocBFz6ZgdogF2fyTWiixht8thZoHjkK","H3dhkXcC5MRN7VRXNbWVSvogH8mUQPzpn8PYQL7HfBVg","4yrHms7ekgTBgJg77zJ33TsWrraqHsCXDtuSZqUsuGHb","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","8J5fa8WBGaDSv8AUpgtqdh9HM5AZuSf2ijvSkKoaCXCi","9SWy6nbSVZ44XuixEvHpona663pZPpVgzXQ3N7muG4ou","661trVCzDWp114gy4PEK4etbjb3u3RNaP4aENa5uN8Vp","7oYaghDwJ6ZbZwzdzcPqQtW6r4cojSLJDKB6U7tqAK1x","GQJjrG6f8HbxkE3ZVSRpzoyWhQ2RiivT68BybVK9DxME","5DECiJuqwmeCptoBEpyJtXKrVfiUrG9nBbBGkxGkPYyF","CbGQojcizFEHn3woL7NPu3P9BLL1SWz5a8zkL9gks24q","CWQVga1qUbpZXjrWQRj6U6tmL3HhrFiAT11VYnB8d3CF","HopVRTvFvRe1ED3dRCQrt1h5onkMvY3tKUHRVQMc7MMH","SU7vPveBjEuR5tgQwidRqqTxn1WwraHpydHHBpM2W96","5cmAS6Mj4pG2Vp9hhyu3kpK9yvC7P6ejh9HiobpTE6Jc","8ekXiGjEjtWzd2us3rAsusKv7kKEhPENV7nvzS7RGRYY","13uCPybNakXHGVd2DDVB7o2uwXuf9GqPFkvJMVgKy6UJ","FSSRqrGrDjDXnojhSDrDBknJeQ83pyACemnaMLaZDD1U","3cmPpX8kKzEra2umtLCDxMfjma82ELtAMaSYVmdaNLxi","7Z1c6GHutf3q2MNheyFE8KMNVEALuiPaqoEMyjbCbuku","2PfKnjEfoUoVDbDS1YwvZ8HuPGBCpN831mnTuqTAJZjH","Enq8vJucRbkzKA1i1PahJNhMyUTzoVL5Cs8n5rC3NLGn","8FrCybrh7UFznP1hVHg8kXZ8bhii37c7BGzmjkdcsGJp","4crhN3D8R5rnZd66q9b32P7K649e5XdzCfPMPiTzBceH","zoouer92idprkptX76yvhp4stK2keTzJpMNkeLqtxAx","CrWbfKwyAaUfYctXWF9iaDUP4AH5t6k6bbaWnXBL8nHm","D8pasgJWjP9wy39fzeD8BUjQMvYCZxABzPcnuoDSLHBB","7e8GrkwsRm5sS5UaKobLJUNu9esmrzg37dqX6aQyuver","FTyJCLwQ3YvVfanJp8mtC2eqmvZPpzSpmNLqWpaPaXbC","8GJdzPuEBPP3BHJpcspBcfpRZV4moZMFwhTAuXebaPL8","FsERtRjCEQNyND3ccnMGrd61ntPmJ3tbZs4vvcCzMr1L","DqYSvijBXydSx9GfvVDjEzUg5StLLrkqZVPzsU2FeVZ2","Fb1WR1kYvG1tHu4pwAxXQpdKT8Grh9i7ES9rZusLg7D6","GfvqUB36CPfqZDz5ntQ2YsoKRwg1MCewmurhc7jw3P5s","Hv1BFhyADPjYXTqEeMgwzoybnNwYrHXNv7U2VjcAuEDr","FvN7dJz7GX1XB1BTk6jD5rEKRxQc3ZwNkWJKai5sBJWS","MphbxYtji1FSkm7G2FNGpUUz5AWn7iRPNFAvEqD4mzE","783kPvwHwDXaU32kV8NK5dB4JVeMWQwe8a3WUNZFpupr","E9Z2JeEKS2WGGyA18mGU33rnQskK9moPhM4tdzrv24fh","Bhw7DbVwWMcTBXoKaWgsCaofL6QqmQQ65FCSGfgCEawm","69Mo81rUPDgru4UbigPQovx7cYBxpEm44qQok8wcut4M","HcqHvH27wk42L1ND5YPhLDJu7oGsU7HGSreMiXdq5LNK","zuivKkgkNFFkV9jfNpsU1p5tWNbDWUEx5XX16m4k2Ej","4ELBQuq3ivhLamfCT36As5sXLkQDWRJw1pJ9JVFLp6gK","HARRXESCwid3xMi2qThag1PXzmp6rDhAzMR9THhFRQGf","CfBSfVTcYFJsD8vZ2fTiMGkUYFim2rv8weAoqHxUU2pn","A7ZxDrK9LSkVXhfRTu2pRCinwYfdxW2kK6DaJk12jRWw","4ZYiiVakejxGyJ3tuBzYWoHyEV1rk7Hm7viydG6DNaUN","6eRECBcCVP82AvAd6Di4rZApa2btLf8RDUqrTigt4hS4"],ka=[],wa=[];var xr=require("@solana/web3.js"),Ei="routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS",vt=new xr.PublicKey(Ei),Vi={[Ei]:1},Ui={1:vt},Mi={1:4};var lt=require("@solana/web3.js"),dn=require("lodash");var Be=Q.from("Route"),bt=class extends De{static getProgramId(e){let t=Ui[e];return Be.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){let t=e.toBase58(),n=Vi[t];return Be.assertArgument(!!n,"invalid program id","programId",t),n}static getLiquidityVersion(e){let t=Mi[e];return Be.assertArgument(!!t,"invalid version","version",e),t}static getAssociatedMiddleStatusAccount({programId:e,fromPoolId:t,middleMint:n,owner:i}){let{publicKey:r}=ne([t.toBuffer(),n.toBuffer(),i.toBuffer()],e);return r}static makeSwapInstruction(e){let{fixedSide:t}=e;return t==="in"?[this.makeSwapInFixedInInstruction(e),this.makeSwapOutFixedInInstruction(e)]:Be.throwArgumentError("invalid params","params",e)}static makeSwapInFixedInInstruction({fromPoolKeys:e,toPoolKeys:t,userKeys:n,amountIn:i,amountOut:r}){let o=D([U("instruction"),A("amountIn"),A("amountOut")]),s=Buffer.alloc(o.span),a;return e.version===4?(o.encode({instruction:0,amountIn:V(i),amountOut:V(r)},s),a=[w(Ae,!1),w(F.TOKEN_PROGRAM_ID,!1),w(e.programId,!1),S(e.id,!1),w(t.id,!1),w(e.authority,!1),S(e.openOrders,!1),S(e.baseVault,!1),S(e.quoteVault,!1),w(e.marketProgramId,!1),S(e.marketId,!1),S(e.marketBids,!1),S(e.marketAsks,!1),S(e.marketEventQueue,!1),S(e.marketBaseVault,!1),S(e.marketQuoteVault,!1),w(e.marketAuthority,!1),S(n.inTokenAccount,!1),S(n.middleTokenAccount,!1),S(n.middleStatusAccount,!1),w(n.owner,!0)]):(o.encode({instruction:2,amountIn:V(i),amountOut:V(r)},s),a=[w(Ae,!1),w(F.TOKEN_PROGRAM_ID,!1),w(e.programId,!1),S(e.id,!1),w(t.id,!1),w(e.authority,!1),S(e.openOrders,!1),S(e.baseVault,!1),S(e.quoteVault,!1),w(ot,!1),w(e.marketProgramId,!1),S(e.marketId,!1),S(e.marketBids,!1),S(e.marketAsks,!1),S(e.marketEventQueue,!1),S(e.id,!1),S(e.id,!1),S(e.id,!1),S(n.inTokenAccount,!1),S(n.middleTokenAccount,!1),S(n.middleStatusAccount,!1),w(n.owner,!0)]),new lt.TransactionInstruction({programId:vt,keys:a,data:s})}static makeSwapOutFixedInInstruction({fromPoolKeys:e,toPoolKeys:t,userKeys:n}){let i=D([U("instruction")]),r=Buffer.alloc(i.span),o;return t.version===4?(i.encode({instruction:1},r),o=[w(F.TOKEN_PROGRAM_ID,!1),w(t.programId,!1),w(e.id,!1),S(t.id,!1),w(t.authority,!1),S(t.openOrders,!1),S(t.baseVault,!1),S(t.quoteVault,!1),w(t.marketProgramId,!1),S(t.marketId,!1),S(t.marketBids,!1),S(t.marketAsks,!1),S(t.marketEventQueue,!1),S(t.marketBaseVault,!1),S(t.marketQuoteVault,!1),w(t.marketAuthority,!1),S(n.middleTokenAccount,!1),S(n.outTokenAccount,!1),S(n.middleStatusAccount,!1),w(n.owner,!0)]):(i.encode({instruction:3},r),o=[w(F.TOKEN_PROGRAM_ID,!1),w(t.programId,!1),w(e.id,!1),S(t.id,!1),w(t.authority,!1),S(t.openOrders,!1),S(t.baseVault,!1),S(t.quoteVault,!1),w(ot,!1),w(t.marketProgramId,!1),S(t.marketId,!1),S(t.marketBids,!1),S(t.marketAsks,!1),S(t.marketEventQueue,!1),S(t.id,!1),S(t.id,!1),S(t.id,!1),S(n.middleTokenAccount,!1),S(n.outTokenAccount,!1),S(n.middleStatusAccount,!1),w(n.owner,!0)]),new lt.TransactionInstruction({programId:vt,keys:o,data:r})}static makeSwapTransaction(e){return E(this,null,function*(){let{connection:t,fromPoolKeys:n,toPoolKeys:i,userKeys:r,amountIn:o,amountOut:s,fixedSide:a,config:m}=e,{tokenAccounts:u,owner:f}=r;Be.debug("amountIn:",o),Be.debug("amountOut:",s),Be.assertArgument(!o.isZero()&&!s.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:o.toFixed(),amountOut:s.toFixed()});let{bypassAssociatedCheck:l}=M({bypassAssociatedCheck:!1},m),b=o instanceof W?o.token:C.WSOL,y=s instanceof W?s.token:C.WSOL,p=this._selectTokenAccount({tokenAccounts:u,mint:b.mint,owner:f,config:{associatedOnly:!1}}),g=this._selectTokenAccount({tokenAccounts:u,mint:y.mint,owner:f}),P=[n.baseMint.toBase58(),n.quoteMint.toBase58()],T=[i.baseMint.toBase58(),i.quoteMint.toBase58()],k=(0,dn.intersection)(P,T)[0],I=new lt.PublicKey(k),N=this._selectTokenAccount({tokenAccounts:u,mint:I,owner:f}),[h,_]=[o.raw,s.raw],q=[],J=[],re=[],Z=yield this._handleTokenAccount({connection:t,side:"in",amount:h,mint:b.mint,tokenAccount:p,owner:f,frontInstructions:q,signers:J,bypassAssociatedCheck:l}),ue=yield this._handleTokenAccount({connection:t,side:"out",amount:0,mint:y.mint,tokenAccount:g,owner:f,frontInstructions:q,signers:J,bypassAssociatedCheck:l}),le=yield this._handleTokenAccount({connection:t,side:"in",amount:0,mint:I,tokenAccount:N,owner:f,frontInstructions:q,signers:J,bypassAssociatedCheck:l});re.push(...this.makeSwapInstruction({fromPoolKeys:n,toPoolKeys:i,userKeys:{inTokenAccount:Z,outTokenAccount:ue,middleTokenAccount:le,middleStatusAccount:this.getAssociatedMiddleStatusAccount({programId:vt,fromPoolId:n.id,middleMint:I,owner:f}),owner:f},amountIn:h,amountOut:_,fixedSide:a}));let fe=null,qe=null;return q.length>0&&(fe={transaction:new lt.Transaction().add(...q),signers:J}),re.length>0&&(qe={transaction:new lt.Transaction().add(...re),signers:[]}),{setupTransaction:fe,swapTransaction:qe}})}static computeAmountOut({fromPoolKeys:e,toPoolKeys:t,fromPoolInfo:n,toPoolInfo:i,amountIn:r,currencyOut:o,slippage:s}){let{swap:a}=Pe.getEnabledFeatures(n),{swap:m}=Pe.getEnabledFeatures(i);Be.assertArgument(a&&m,"pools swap not enabled","pools",{fromPoolKeys:e,toPoolKeys:t,fromPoolInfo:n,toPoolInfo:i});let u=r instanceof W?r.token:C.WSOL,f=o instanceof C?o:C.WSOL;Be.assertArgument(Pe.includesToken(u,e)&&Pe.includesToken(f,t),"pools cannot be routed","pools",{fromPoolKeys:e,toPoolKeys:t});let l=[e.baseMint.toBase58(),e.quoteMint.toBase58()],b=[t.baseMint.toBase58(),t.quoteMint.toBase58()],y=[...l,...b],p=[n.baseDecimals,n.quoteDecimals,i.baseDecimals,i.quoteDecimals],g=u.mint.toBase58(),P=f.mint.toBase58(),T=(0,dn.xor)(l,b);Be.assertArgument(T.length===2&&T.includes(g)&&T.includes(P),"xor tokens not match","pools",{fromPoolKeys:e,toPoolKeys:t});let L=(0,dn.intersection)(l,b);Be.assertArgument(L.length===1,"cannot found middle token of two pools","pools",{fromPoolKeys:e,toPoolKeys:t});let k=L[0],I=y.indexOf(k),N=p[I],h=new lt.PublicKey(k),_=new C(h,N);Be.debug("from pool:",e),Be.debug("to pool:",t),Be.debug("intersection mints:",L),Be.debug("xor mints:",T),Be.debug("middleMint:",k);let{minAmountOut:q,priceImpact:J,fee:re}=Pe.computeAmountOut({poolKeys:e,poolInfo:n,amountIn:r,currencyOut:_,slippage:s}),{amountOut:Z,minAmountOut:ue,priceImpact:le,fee:fe}=Pe.computeAmountOut({poolKeys:t,poolInfo:i,amountIn:q,currencyOut:o,slippage:s}),qe=null,An=r.raw,gn=Z.raw,Qt=r instanceof W?r.token:r.currency;return!An.isZero()&&!gn.isZero()&&(qe=new pe(Qt,An,o,gn),Be.debug("executionPrice:",`1 ${Qt.symbol} \u2248 ${qe.toFixed()} ${o.symbol}`),Be.debug("executionPrice invert:",`1 ${o.symbol} \u2248 ${qe.invert().toFixed()} ${Qt.symbol}`)),{amountOut:Z,minAmountOut:ue,executionPrice:qe,priceImpact:J.add(le),fee:[re,fe]}}};var Kt=Q.from("Trade"),Br=["amm","serum","route"],vi=class{static groupPools(e){let t=[];for(let n=0;n<e.length;n++)for(let i=0;i<e.length;i++)n!=i&&t.push([e[n],e[i]]);return t}static makeTradeTransaction(e){return E(this,null,function*(){let{connection:t,routes:n,routeType:i,userKeys:r,amountIn:o,amountOut:s,fixedSide:a,config:m}=e,u=null,f=null;if(i==="amm"){Kt.assertArgument(n.length===1,"invalid routes with routeType","routes",{routeType:i,routes:n});let{keys:l}=n[0],{transaction:b,signers:y}=yield Pe.makeSwapTransaction({connection:t,poolKeys:l,userKeys:r,amountIn:o,amountOut:s,fixedSide:a,config:m});f={transaction:b,signers:y}}else if(i==="route"){Kt.assertArgument(n.length===2,"invalid routes with routeType","routes",{routeType:i,routes:n});let[l,b]=n,{keys:y}=l,{keys:p}=b,{setupTransaction:g,swapTransaction:P}=yield bt.makeSwapTransaction({connection:t,fromPoolKeys:y,toPoolKeys:p,userKeys:r,amountIn:o,amountOut:s,fixedSide:a,config:m});u=g,f=P}return{setupTransaction:u,tradeTransaction:f}})}static getBestAmountOut({pools:e,markets:t,amountIn:n,currencyOut:i,slippage:r,features:o}){let s=e||[],a=t||[],m=o||Br;Kt.debug("features:",m),Kt.assertArgument(s.length!==0||a.length!==0,"must provide at least one source of trade","pools, markets",{pools:e,markets:t});let u=[],f="amm",l=i instanceof C?new W(i,0):new de(i,0),b=l,y=null,p=null,g=new we(v),P=[];if(m.includes("amm"))for(let{poolKeys:T,poolInfo:L}of s)try{let{amountOut:k,minAmountOut:I,currentPrice:N,executionPrice:h,priceImpact:_,fee:q}=Pe.computeAmountOut({poolKeys:T,poolInfo:L,amountIn:n,currencyOut:i,slippage:r});k.gt(l)&&(u=[{source:"amm",keys:T}],f="amm",l=k,b=I,y=N,p=h,g=_,P=[q])}catch(k){}if(m.includes("route")){let T=this.groupPools(s);for(let L of T){if(L.length!==2)continue;let[k,I]=L,{poolKeys:N,poolInfo:h}=k,{poolKeys:_,poolInfo:q}=I;try{let{amountOut:J,minAmountOut:re,executionPrice:Z,priceImpact:ue,fee:le}=bt.computeAmountOut({fromPoolKeys:N,toPoolKeys:_,fromPoolInfo:h,toPoolInfo:q,amountIn:n,currencyOut:i,slippage:r});J.gt(l)&&(u=[{source:"amm",keys:N},{source:"amm",keys:_}],f="route",l=J,b=re,p=Z,g=ue,P=le)}catch(J){}}}return{routes:u,routeType:f,amountOut:l,minAmountOut:b,fixedSide:"in",currentPrice:y,executionPrice:p,priceImpact:g,fee:P}}static getBestAmountIn({pools:e,markets:t,amountOut:n,currencyIn:i,slippage:r,features:o}){let s=e||[],a=t||[],m=o||Br;Kt.debug("features:",m),Kt.assertArgument(s.length!==0||a.length!==0,"must provide at least one source of trade","pools, markets",{pools:e,markets:t});let u=[],f="amm",l=i instanceof C?new W(i,0):new de(i,0),b=l,y=null,p=null,g=new we(v);if(m.includes("amm"))for(let{poolKeys:P,poolInfo:T}of s){let{amountIn:L,maxAmountIn:k,currentPrice:I,executionPrice:N,priceImpact:h}=Pe.computeAmountIn({poolKeys:P,poolInfo:T,amountOut:n,currencyIn:i,slippage:r});(L.lt(l)||l.isZero())&&(u=[{source:"amm",keys:P}],f="amm",l=L,b=k,y=I,p=N,g=h)}return{routes:u,routeType:f,amountIn:l,maxAmountIn:b,currentPrice:y,executionPrice:p,priceImpact:g}}};var Ki=ye(require("bn.js"));var Re=60,Kn=1024,$=class{static getTickArrayAddressByTick(e,t,n,i){let r=$.getTickArrayStartIndexByTick(n,i),{publicKey:o}=Ie(e,t,r);return o}static getTickOffsetInArray(e,t){if(e%t!=0)throw new Error("tickIndex % tickSpacing not equal 0");let n=$.getTickArrayStartIndexByTick(e,t),i=Math.floor((e-n)/t);if(i<0||i>=Re)throw new Error("tick offset in array overflow");return i}static getTickArrayStartIndexByTick(e,t){let n=e/(Re*t);return e<0&&e%(Re*t)!=0?n=Math.ceil(n)-1:n=Math.floor(n),n*(t*Re)}static getTickArrayOffsetInBitmapByTick(e,t){let n=t*Re,i=Math.floor(e/n)+512;return Math.abs(i)}static checkTickArrayIsInitialized(e,t,n){let i=n*Re,r=Math.floor(t/i)+512,o=Math.abs(r);return{isInitialized:e.testn(o),startIndex:(o-512)*i}}static getNextTickArrayStartIndex(e,t,n){return n?e-t*Re:e+t*Re}static mergeTickArrayBitmap(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192)).add(e[4].shln(256)).add(e[5].shln(320)).add(e[6].shln(384)).add(e[7].shln(448)).add(e[8].shln(512)).add(e[9].shln(576)).add(e[10].shln(640)).add(e[11].shln(704)).add(e[12].shln(768)).add(e[13].shln(832)).add(e[14].shln(896)).add(e[15].shln(960))}static getInitializedTickArrayInRange(e,t,n,i){if(n%(t*Re)!=0)throw new Error("Invild tickArrayStartIndex");let r=Math.floor(n/(t*Re))+512;return[...$.searchLowBitFromStart(e,r-1,0,i,t),...$.searchHightBitFromStart(e,r,Kn,i,t)]}static getAllInitializedTickArrayStartIndex(e,t){return $.searchHightBitFromStart(e,0,Kn,Kn,t)}static getAllInitializedTickArrayInfo(e,t,n,i){let r=[],o=$.getAllInitializedTickArrayStartIndex(n,i);for(let s of o){let{publicKey:a}=Ie(e,t,s);r.push({tickArrayStartIndex:s,tickArrayAddress:a})}return r}static getAllInitializedTickInTickArray(e){return e.ticks.filter(t=>t.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,n,i,r){let o=0,s=[];for(let a=t;a>=n;a--){if(e.shrn(a).and(new Ki.default(1)).eqn(1)){let m=(a-512)*(r*Re);s.push(m),o++}if(o>=i)break}return s}static searchHightBitFromStart(e,t,n,i,r){let o=0,s=[];for(let a=t;a<n;a++){if(e.shrn(a).and(new Ki.default(1)).eqn(1)){let m=(a-512)*(r*Re);s.push(m),o++}if(o>=i)break}return s}};var La=D([me(8),U("bump"),mt("index"),R(""),Oe("protocolFeeRate"),Oe("tradeFeeRate"),mt("tickSpacing"),Oe("fundFeeRate"),G(Oe(),1,"padding"),R("fundOwner"),G(A(),3,"padding")]),Cr=D([Oe("blockTimestamp"),K("sqrtPriceX64"),K("cumulativeTimePriceX64"),G(K(),1,"")]),qn=D([me(8),sn("initialized"),R("poolId"),G(Cr,1e3,"observations"),G(K(),5,"")]),Dr=D([U("rewardState"),A("openTime"),A("endTime"),A("lastUpdateTime"),K("emissionsPerSecondX64"),A("rewardTotalEmissioned"),A("rewardClaimed"),R("tokenMint"),R("tokenVault"),R("creator"),K("rewardGrowthGlobalX64")]),qi=D([me(8),U("bump"),R("ammConfig"),R("creator"),R("mintA"),R("mintB"),R("vaultA"),R("vaultB"),R("observationId"),U("mintDecimalsA"),U("mintDecimalsB"),mt("tickSpacing"),K("liquidity"),K("sqrtPriceX64"),Ue("tickCurrent"),mt("observationIndex"),mt("observationUpdateDuration"),K("feeGrowthGlobalX64A"),K("feeGrowthGlobalX64B"),A("protocolFeesTokenA"),A("protocolFeesTokenB"),K("swapInAmountTokenA"),K("swapOutAmountTokenB"),K("swapInAmountTokenB"),K("swapOutAmountTokenA"),U("status"),G(U(),7,""),G(Dr,3,"rewardInfos"),G(A(),16,"tickArrayBitmap"),A("totalFeesTokenA"),A("totalFeesClaimedTokenA"),A("totalFeesTokenB"),A("totalFeesClaimedTokenB"),A("fundFeesTokenA"),A("fundFeesTokenB"),G(A(),15*4-2,"padding")]),Nr=D([K("growthInsideLastX64"),A("rewardAmountOwed")]),Fi=D([me(8),U("bump"),R("nftMint"),R("poolId"),Ue("tickLower"),Ue("tickUpper"),K("liquidity"),K("feeGrowthInsideLastX64A"),K("feeGrowthInsideLastX64B"),A("tokenFeesOwedA"),A("tokenFeesOwedB"),G(Nr,3,"rewardInfos"),G(A(),8,"")]),Ia=D([me(8),U("bump"),R("poolId"),Ue("tickLowerIndex"),Ue("tickUpperIndex"),K("liquidity"),K("feeGrowthInsideLastX64A"),K("feeGrowthInsideLastX64B"),A("tokenFeesOwedA"),A("tokenFeesOwedB"),G(K(),3,"rewardGrowthInside"),G(A(),8,"")]),Or=D([Ue("tick"),si("liquidityNet"),K("liquidityGross"),K("feeGrowthOutsideX64A"),K("feeGrowthOutsideX64B"),G(K(),3,"rewardGrowthsOutsideX64"),G(Oe(),13,"")]),qt=D([me(8),R("poolId"),Ue("startTickIndex"),G(Or,Re,"ticks"),U("initializedTickCount"),G(U(),115,"")]),Wi=D([me(329),G(R(),100,"whitelistMints")]);var Ke=require("@solana/web3.js");var dt={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[135,128,47,77,15,152,240,49],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[46,156,243,118,13,205,251,178],decreaseLiquidity:[160,38,208,111,104,91,44,1],swap:[248,198,158,145,225,117,135,200],collectReward:[18,237,166,197,34,16,213,144]};function Gi(d,e,t,n,i,r,o,s,a,m){let u=D([K("sqrtPriceX64")]),f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:Jt,isSigner:!1,isWritable:!1}],l=Buffer.alloc(u.span);u.encode({sqrtPriceX64:m},l);let b=Buffer.from([...dt.createPool,...l]);return new Ke.TransactionInstruction({keys:f,programId:d,data:b})}function Yi(d,e,t,n,i,r,o,s,a,m,u,f,l,b,y,p,g,P,T,L,k,I){let N=D([Ue("tickLowerIndex"),Ue("tickUpperIndex"),Ue("tickArrayLowerStartIndex"),Ue("tickArrayUpperStartIndex"),K("liquidity"),A("amountMinA"),A("amountMinB")]),h=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:Jt,isSigner:!1,isWritable:!1},{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:F.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ct,isSigner:!1,isWritable:!1}],_=Buffer.alloc(N.span);N.encode({tickLowerIndex:p,tickUpperIndex:g,tickArrayLowerStartIndex:P,tickArrayUpperStartIndex:T,liquidity:L,amountMinA:k,amountMinB:I},_);let q=Buffer.from([...dt.openPosition,..._]);return new Ke.TransactionInstruction({keys:h,programId:d,data:q})}function Xi(d,e,t,n,i){let r=D([]),o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],s=Buffer.alloc(r.span);r.encode({},s);let a=Buffer.from([...dt.closePosition,...s]);return new Ke.TransactionInstruction({keys:o,programId:d,data:a})}function Hi(d,e,t,n,i,r,o,s,a,m,u,f,l,b,y){let p=D([K("liquidity"),A("amountMaxA"),A("amountMaxB")]),g=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],P=Buffer.alloc(p.span);p.encode({liquidity:l,amountMaxA:b,amountMaxB:y},P);let T=Buffer.from([...dt.increaseLiquidity,...P]);return new Ke.TransactionInstruction({keys:g,programId:d,data:T})}function Qi(d,e,t,n,i,r,o,s,a,m,u,f,l,b,y,p){let g=D([K("liquidity"),A("amountMinA"),A("amountMinB")]),P=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},...l.map(k=>[{pubkey:k.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:k.ownerRewardVault,isSigner:!1,isWritable:!0}]).flat()],T=Buffer.alloc(g.span);g.encode({liquidity:b,amountMinA:y,amountMinB:p},T);let L=Buffer.from([...dt.decreaseLiquidity,...T]);return new Ke.TransactionInstruction({keys:P,programId:d,data:L})}function Fn(d,e,t,n,i,r,o,s,a,m,u,f,l,b){let y=D([A("amount"),A("otherAmountThreshold"),K("sqrtPriceLimitX64"),sn("isBaseInput")]),p=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},...a.map(T=>({pubkey:T,isSigner:!1,isWritable:!0}))],g=Buffer.alloc(y.span);y.encode({amount:u,otherAmountThreshold:f,sqrtPriceLimitX64:l,isBaseInput:b},g);let P=Buffer.from([...dt.swap,...g]);return new Ke.TransactionInstruction({keys:p,programId:d,data:P})}function zi(d,e,t,n,i,r,o,s,a,m,u){let f=D([A("openTime"),A("endTime"),K("emissionsPerSecondX64")]),l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:Jt,isSigner:!1,isWritable:!1}],b=Buffer.alloc(f.span);f.encode({openTime:V(a),endTime:V(m),emissionsPerSecondX64:u},b);let y=Buffer.from([...dt.initReward,...b]);return new Ke.TransactionInstruction({keys:l,programId:d,data:y})}function Ji(d,e,t,n,i,r,o,s,a,m,u){let f=D([U("rewardIndex"),K("emissionsPerSecondX64"),A("openTime"),A("endTime")]),l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],b=Buffer.alloc(f.span);f.encode({rewardIndex:s,emissionsPerSecondX64:u,openTime:V(a),endTime:V(m)},b);let y=Buffer.from([...dt.setRewardEmissions,...b]);return new Ke.TransactionInstruction({keys:l,programId:d,data:y})}function Zi(d,e,t,n,i,r){let o=D([U("rewardIndex")]),s=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],a=Buffer.alloc(o.span);o.encode({rewardIndex:r},a);let m=Buffer.from([...dt.collectReward,...a]);return new Ke.TransactionInstruction({keys:s,programId:d,data:m})}function Me(){return[Ke.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),Ke.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1})]}var oe=require("@solana/web3.js"),Te=ye(require("bn.js")),z=ye(require("decimal.js"));var At=ye(require("bn.js"));var rt=new At.default(-1),Je=new At.default(1).shln(64),pn=new At.default(1).shln(128),Wn=Je.sub(ie),Ft=64,ji=pn.subn(1),ht=-307200,Wt=-ht,Ye=new At.default("3939943522091"),Xe=new At.default("86367321006760116002434269"),$i=-307200,eo=306600,to=14,no="59543866431248",io="184467440737095516",oo="15793534762490258745",fn=new At.default(10).pow(new At.default(6)),_r=(n=>(n[n.rate_500=500]="rate_500",n[n.rate_3000=3e3]="rate_3000",n[n.rate_10000=1e4]="rate_10000",n))(_r||{}),ha={[500]:10,[3e3]:60,[1e4]:200};var H=ye(require("bn.js")),Gt=ye(require("decimal.js"));var Gn=15,yn=class{static getTickArrays(e,t,n,i,r,o){return E(this,null,function*(){let s=$.mergeTickArrayBitmap(o),a=[],m=$.getTickArrayStartIndexByTick(i,r),u=$.getInitializedTickArrayInRange(s,r,m,Math.floor(Gn/2));for(let b=0;b<u.length;b++){let{publicKey:y}=Ie(t,n,u[b]);a.push(y)}let f=(yield ve(e,a)).map(b=>b!==null?qt.decode(b.data):null),l={};for(let b=0;b<a.length;b++){let y=f[b];y!==null&&(l[y.startTickIndex]=ae(M({},y),{address:a[b]}))}return l})}static nextInitializedTick(e,t,n,i,r,o){let{initializedTick:s,tickArrayAddress:a,tickArrayStartTickIndex:m}=this.nextInitializedTickInOneArray(e,t,n,i,r,o);for(;s==null||s.liquidityGross.lten(0);){if(m=$.getNextTickArrayStartIndex(m,r,o),m<$i||m>eo)throw new Error("No enough initialized tickArray");let u=n[m];if(u===void 0)continue;let{nextTick:f,tickArrayAddress:l,tickArrayStartTickIndex:b}=this.firstInitializedTickInOneArray(e,t,u,o);[s,a,m]=[f,l,b]}if(s==null)throw new Error("No invaild tickArray cache");return{nextTick:s,tickArrayAddress:a,tickArrayStartTickIndex:m}}static firstInitializedTickInOneArray(e,t,n,i){let r;if(i){let s=Re-1;for(;s>=0;){let a=n.ticks[s];if(a.liquidityGross.gtn(0)){r=a;break}s=s-1}}else{let s=0;for(;s<Re;){let a=n.ticks[s];if(a.liquidityGross.gtn(0)){r=a;break}s=s+1}}let{publicKey:o}=Ie(e,t,n.startTickIndex);return{nextTick:r,tickArrayAddress:o,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,t,n,i,r,o){let s=$.getTickArrayStartIndexByTick(i,r),a=Math.floor((i-s)/r),m=n[s];if(m==null)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:s};let u;if(o)for(;a>=0;){let l=m.ticks[a];if(l.liquidityGross.gtn(0)){u=l;break}a=a-1}else for(a=a+1;a<Re;){let l=m.ticks[a];if(l.liquidityGross.gtn(0)){u=l;break}a=a+1}let{publicKey:f}=Ie(e,t,s);return{initializedTick:u,tickArrayAddress:f,tickArrayStartTickIndex:m.startTickIndex}}};var Y=class{static mulDivRoundingUp(e,t,n){let i=e.mul(t),r=i.div(n);return i.mod(n).eq(v)||(r=r.add(ie)),r}static mulDivFloor(e,t,n){if(n.eq(v))throw new Error("division by 0");return e.mul(t).div(n)}static mulDivCeil(e,t,n){if(n.eq(v))throw new Error("division by 0");return e.mul(t).add(n.sub(ie)).div(n)}static x64ToDecimal(e,t){return new Gt.default(e.toString()).div(Gt.default.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new H.default(e.mul(Gt.default.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(pn).sub(t).mod(pn)}};function Ce(d,e){return ro(d.mul(e),64,256)}function Ra(d,e,t){let n=d.toTwos(t).shln(e);return n.imaskn(t+1),n.fromTwos(t)}function ro(d,e,t){let n=d.toTwos(t).shrn(e);return n.imaskn(t-e+1),n.fromTwos(t-e)}var X=class{static sqrtPriceX64ToPrice(e,t,n){return Y.x64ToDecimal(e).pow(2).mul(Gt.default.pow(10,t-n))}static priceToSqrtPriceX64(e,t,n){return Y.decimalToX64(e.mul(Gt.default.pow(10,n-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,n,i){if(!e.gt(v))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(v))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!0)}static getNextSqrtPriceX64FromOutput(e,t,n,i){if(!e.gt(v))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(v))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,i){if(n.eq(v))return e;let r=t.shln(Ft);if(i){let o=r,s=r.add(n.mul(e));return s.gte(o)?Y.mulDivCeil(o,e,s):Y.mulDivRoundingUp(o,ie,o.div(e).add(n))}else{let o=n.mul(e);if(!r.gt(o))throw new Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let s=r.sub(o);return Y.mulDivCeil(r,e,s)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,i){let r=n.shln(Ft);if(i)return e.add(r.div(t));{let o=Y.mulDivRoundingUp(r,ie,t);if(!e.gt(o))throw new Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(o)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw new Error("tick must be integer");if(e<ht||e>Wt)throw new Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?e*-1:e,n=(t&1)!=0?new H.default("18445821805675395072"):new H.default("18446744073709551616");return(t&2)!=0&&(n=Ce(n,new H.default("18444899583751176192"))),(t&4)!=0&&(n=Ce(n,new H.default("18443055278223355904"))),(t&8)!=0&&(n=Ce(n,new H.default("18439367220385607680"))),(t&16)!=0&&(n=Ce(n,new H.default("18431993317065453568"))),(t&32)!=0&&(n=Ce(n,new H.default("18417254355718170624"))),(t&64)!=0&&(n=Ce(n,new H.default("18387811781193609216"))),(t&128)!=0&&(n=Ce(n,new H.default("18329067761203558400"))),(t&256)!=0&&(n=Ce(n,new H.default("18212142134806163456"))),(t&512)!=0&&(n=Ce(n,new H.default("17980523815641700352"))),(t&1024)!=0&&(n=Ce(n,new H.default("17526086738831433728"))),(t&2048)!=0&&(n=Ce(n,new H.default("16651378430235570176"))),(t&4096)!=0&&(n=Ce(n,new H.default("15030750278694412288"))),(t&8192)!=0&&(n=Ce(n,new H.default("12247334978884435968"))),(t&16384)!=0&&(n=Ce(n,new H.default("8131365268886854656"))),(t&32768)!=0&&(n=Ce(n,new H.default("3584323654725218816"))),(t&65536)!=0&&(n=Ce(n,new H.default("696457651848324352"))),(t&131072)!=0&&(n=Ce(n,new H.default("26294789957507116"))),(t&262144)!=0&&(n=Ce(n,new H.default("37481735321082"))),e>0&&(n=ji.div(n)),n}static getTickFromPrice(e,t,n){return X.getTickFromSqrtPriceX64(X.priceToSqrtPriceX64(e,t,n))}static getTickFromSqrtPriceX64(e){if(e.gt(Xe)||e.lt(Ye))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let t=e.bitLength()-1,n=new H.default(t-64),i=Ra(n,32,128),r=new H.default("8000000000000000","hex"),o=0,s=new H.default(0),a=t>=64?e.shrn(t-63):e.shln(63-t);for(;r.gt(new H.default(0))&&o<to;){a=a.mul(a);let y=a.shrn(127);a=a.shrn(63+y.toNumber()),s=s.add(r.mul(y)),r=r.shrn(1),o+=1}let m=s.shrn(32),f=i.add(m).mul(new H.default(no)),l=ro(f.sub(new H.default(io)),64,128).toNumber(),b=ro(f.add(new H.default(oo)),64,128).toNumber();return l==b?l:X.getSqrtPriceX64FromTick(b).lte(e)?b:l}},Rt=class{static getTickWithPriceAndTickspacing(e,t,n,i){let o=X.getTickFromSqrtPriceX64(X.priceToSqrtPriceX64(e,n,i))/t;return o<0?o=Math.floor(o):o=Math.ceil(o),o*t}static roundPriceWithTickspacing(e,t,n,i){let r=Rt.getTickWithPriceAndTickspacing(e,t,n,i),o=X.getSqrtPriceX64FromTick(r);return X.sqrtPriceX64ToPrice(o,n,i)}},ee=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(v))throw new Error("sqrtPriceX64A must greater than 0");let r=n.ushln(Ft),o=t.sub(e);return i?Y.mulDivRoundingUp(Y.mulDivCeil(r,o,t),ie,e):Y.mulDivFloor(r,o,t).div(e)}static getTokenAmountBFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(v))throw new Error("sqrtPriceX64A must greater than 0");return i?Y.mulDivCeil(n,t.sub(e),Je):Y.mulDivFloor(n,t.sub(e),Je)}static getLiquidityFromTokenAmountA(e,t,n,i){e.gt(t)&&([e,t]=[t,e]);let r=n.mul(e).mul(t),o=t.sub(e),s=r.div(o);return i?Y.mulDivRoundingUp(s,ie,Wn):s.shrn(Ft)}static getLiquidityFromTokenAmountB(e,t,n){return e.gt(t)&&([e,t]=[t,e]),Y.mulDivFloor(n,Wn,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return ee.getLiquidityFromTokenAmountA(t,n,i,!1);if(e.lt(n)){let o=ee.getLiquidityFromTokenAmountA(e,n,i,!1),s=ee.getLiquidityFromTokenAmountB(t,e,r);return o.lt(s)?o:s}else return ee.getLiquidityFromTokenAmountB(t,n,r)}static getAmountsFromLiquidity(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return{amountA:ee.getTokenAmountAFromLiquidity(t,n,i,r),amountB:new H.default(0)};if(e.lt(n)){let o=ee.getTokenAmountAFromLiquidity(e,n,i,r),s=ee.getTokenAmountBFromLiquidity(t,e,i,r);return{amountA:o,amountB:s}}else return{amountA:new H.default(0),amountB:ee.getTokenAmountBFromLiquidity(t,n,i,r)}}static getAmountsFromLiquidityWithSlippage(e,t,n,i,r,o,s){let{amountA:a,amountB:m}=ee.getAmountsFromLiquidity(e,t,n,i,o),u=r?1+s:1-s,f=a.muln(u),l=m.muln(u);return{amountSlippageA:f,amountSlippageB:l}}},gt=class{static swapCompute(e,t,n,i,r,o,s,a,m,u,f,l){if(u.eq(v))throw new Error("amountSpecified must not be 0");if(l||(l=i?Ye.add(ie):Xe.sub(ie)),i){if(l.lt(Ye))throw new Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(l.gte(m))throw new Error("sqrtPriceX64 must smaller than current")}else{if(l.gt(Xe))throw new Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(l.lte(m))throw new Error("sqrtPriceX64 must greater than current")}let b=u.gt(v),y={amountSpecifiedRemaining:u,amountCalculated:v,sqrtPriceX64:m,tick:s,accounts:[],liquidity:o,feeAmount:new H.default(0)},p=0;for(;!y.amountSpecifiedRemaining.eq(v)&&y.sqrtPriceX64!=l&&y.tick<Wt&&y.tick>ht;){if(p>10)throw Error("liquidity limit");let g={};g.sqrtPriceStartX64=y.sqrtPriceX64;let{nextTick:P,tickArrayAddress:T,tickArrayStartTickIndex:L}=yn.nextInitializedTick(e,t,n,y.tick,a,i);g.tickNext=P.tick,g.initialized=P.liquidityGross.gtn(0),f!==L&&T&&(y.accounts.push(T),f=L),g.tickNext<ht?g.tickNext=ht:g.tickNext>Wt&&(g.tickNext=Wt),g.sqrtPriceNextX64=X.getSqrtPriceX64FromTick(g.tickNext);let k;if(i&&g.sqrtPriceNextX64.lt(l)||!i&&g.sqrtPriceNextX64.gt(l)?k=l:k=g.sqrtPriceNextX64,[y.sqrtPriceX64,g.amountIn,g.amountOut,g.feeAmount]=gt.swapStepCompute(y.sqrtPriceX64,k,y.liquidity,y.amountSpecifiedRemaining,r),y.feeAmount=y.feeAmount.add(g.feeAmount),b?(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.sub(g.amountIn.add(g.feeAmount)),y.amountCalculated=y.amountCalculated.sub(g.amountOut)):(y.amountSpecifiedRemaining=y.amountSpecifiedRemaining.add(g.amountOut),y.amountCalculated=y.amountCalculated.add(g.amountIn.add(g.feeAmount))),y.sqrtPriceX64.eq(g.sqrtPriceNextX64)){if(g.initialized){let I=P.liquidityNet;i&&(I=I.mul(rt)),y.liquidity=ee.addDelta(y.liquidity,I)}y.tick=i?g.tickNext-1:g.tickNext}else y.sqrtPriceX64!=g.sqrtPriceStartX64&&(y.tick=X.getTickFromSqrtPriceX64(y.sqrtPriceX64));++p}return{amountCalculated:y.amountCalculated,feeAmount:y.feeAmount,sqrtPriceX64:y.sqrtPriceX64,liquidity:y.liquidity,tickCurrent:y.tick,accounts:y.accounts}}static swapStepCompute(e,t,n,i,r){let o={sqrtPriceX64Next:new H.default(0),amountIn:new H.default(0),amountOut:new H.default(0),feeAmount:new H.default(0)},s=e.gte(t),a=i.gte(v);if(a){let u=Y.mulDivFloor(i,fn.sub(new H.default(r.toString())),fn);o.amountIn=s?ee.getTokenAmountAFromLiquidity(t,e,n,!0):ee.getTokenAmountBFromLiquidity(e,t,n,!0),u.gte(o.amountIn)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=X.getNextSqrtPriceX64FromInput(e,n,u,s)}else o.amountOut=s?ee.getTokenAmountBFromLiquidity(t,e,n,!1):ee.getTokenAmountAFromLiquidity(e,t,n,!1),i.mul(rt).gte(o.amountOut)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=X.getNextSqrtPriceX64FromOutput(e,n,i.mul(rt),s);let m=t.eq(o.sqrtPriceX64Next);return s?(m&&a||(o.amountIn=ee.getTokenAmountAFromLiquidity(o.sqrtPriceX64Next,e,n,!0)),m&&!a||(o.amountOut=ee.getTokenAmountBFromLiquidity(o.sqrtPriceX64Next,e,n,!1))):(o.amountIn=m&&a?o.amountIn:ee.getTokenAmountBFromLiquidity(e,o.sqrtPriceX64Next,n,!0),o.amountOut=m&&!a?o.amountOut:ee.getTokenAmountAFromLiquidity(e,o.sqrtPriceX64Next,n,!1)),!a&&o.amountOut.gt(i.mul(rt))&&(o.amountOut=i.mul(rt)),a&&!o.sqrtPriceX64Next.eq(t)?o.feeAmount=i.sub(o.amountIn):o.feeAmount=Y.mulDivCeil(o.amountIn,new H.default(r),fn.sub(new H.default(r))),[o.sqrtPriceX64Next,o.amountIn,o.amountOut,o.feeAmount]}};var Er=require("@solana/web3.js"),Vr=ye(require("bn.js"));var xt=class{static getOutputAmountAndRemainAccounts(e,t,n,i,r){let o=n.equals(e.mintA.mint),s=[],{isExist:a,startIndex:m,nextAccountMeta:u}=this.getFirstInitializedTickArray(e,o);if(!a||m===void 0||!u)throw new Error("Invalid tick array");s.push(u);let{amountCalculated:f,accounts:l,sqrtPriceX64:b,feeAmount:y}=gt.swapCompute(e.programId,e.id,t,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,m,r);return s.push(...l),{expectedAmountOut:f.mul(rt),remainingAccounts:s,executionPrice:b,feeAmount:y}}static getInputAmountAndRemainAccounts(e,t,n,i,r){let o=n.equals(e.mintB.mint),s=[],{isExist:a,startIndex:m,nextAccountMeta:u}=this.getFirstInitializedTickArray(e,o);if(!a||m===void 0||!u)throw new Error("Invalid tick array");s.push(u);let{amountCalculated:f,accounts:l,sqrtPriceX64:b,feeAmount:y}=gt.swapCompute(e.programId,e.id,t,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i.mul(rt),m,r);return s.push(...l),{expectedAmountIn:f,remainingAccounts:s,executionPrice:b,feeAmount:y}}static getFirstInitializedTickArray(e,t){let n=$.mergeTickArrayBitmap(e.tickArrayBitmap),{isInitialized:i,startIndex:r}=$.checkTickArrayIsInitialized(n,e.tickCurrent,e.tickSpacing);if(i){let{publicKey:a}=Ie(e.programId,e.id,r);return{isExist:!0,startIndex:r,nextAccountMeta:a}}let{isExist:o,nextStartIndex:s}=this.nextInitializedTickArrayStartIndex(e,t);if(o){let{publicKey:a}=Ie(e.programId,e.id,s);return{isExist:!0,startIndex:s,nextAccountMeta:a}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static nextInitializedTickArrayStartIndex(e,t){let n=$.mergeTickArrayBitmap(e.tickArrayBitmap),i=$.getTickArrayOffsetInBitmapByTick(e.tickCurrent,e.tickSpacing),r=t?$.searchLowBitFromStart(n,i-1,0,1,e.tickSpacing):$.searchHightBitFromStart(n,i,1024,1,e.tickSpacing);return r.length>0?{isExist:!0,nextStartIndex:r[0]}:{isExist:!1,nextStartIndex:0}}static updatePoolRewardInfos({chainTime:e,poolLiquidity:t,rewardInfos:n}){let i=[];for(let r of n){let o=ae(M({},r),{perSecond:Y.x64ToDecimal(r.emissionsPerSecondX64),remainingRewards:void 0});if(o.tokenMint.equals(Er.PublicKey.default))continue;if(e<=o.openTime.toNumber()||t.eq(v)){i.push(o);continue}let s=new Vr.default(Math.min(o.endTime.toNumber(),e)),a=s.sub(o.lastUpdateTime),m=Y.mulDivFloor(a,o.emissionsPerSecondX64,t),u=o.rewardGrowthGlobalX64.add(m),f=Y.mulDivFloor(a,o.emissionsPerSecondX64,Je),l=o.rewardTotalEmissioned.add(f);i.push(ae(M({},o),{rewardGrowthGlobalX64:u,rewardTotalEmissioned:l,lastUpdateTime:s}))}return i}};var Bt=ye(require("bn.js"));var Yt=class{static getfeeGrowthInside(e,t,n){let i=new Bt.default(0),r=new Bt.default(0);e.tickCurrent>=t.tick?(i=t.feeGrowthOutsideX64A,r=t.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),r=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let o=new Bt.default(0),s=new Bt.default(0);e.tickCurrent<n.tick?(o=n.feeGrowthOutsideX64A,s=n.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B));let a=Y.wrappingSubU128(Y.wrappingSubU128(e.feeGrowthGlobalX64A,i),o),m=Y.wrappingSubU128(Y.wrappingSubU128(e.feeGrowthGlobalX64B,r),s);return{feeGrowthInsideX64A:a,feeGrowthInsideBX64:m}}static GetPositionFees(e,t,n,i){let{feeGrowthInsideX64A:r,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,n,i),s=Y.mulDivFloor(Y.wrappingSubU128(r,t.feeGrowthInsideLastX64A),t.liquidity,Je),a=t.tokenFeesOwedA.add(s),m=Y.mulDivFloor(Y.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,Je),u=t.tokenFeesOwedB.add(m);return{tokenFeeAmountA:a,tokenFeeAmountB:u}}static GetPositionRewards(e,t,n,i){let r=[],o=this.getRewardGrowthInside(e.tickCurrent,n,i,e.rewardInfos);for(let s=0;s<o.length;s++){let a=o[s],m=t.rewardInfos[s],u=Y.wrappingSubU128(a,m.growthInsideLastX64),f=Y.mulDivFloor(u,t.liquidity,Je),l=m.rewardAmountOwed.add(f);r.push(l)}return r}static getRewardGrowthInside(e,t,n,i){let r=[];for(let o=0;o<i.length;o++){let s=new Bt.default(0);t.liquidityGross.eqn(0)?s=i[o].rewardGrowthGlobalX64:e<t.tick?s=i[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):s=t.rewardGrowthsOutsideX64[o];let a=new Bt.default(0);n.liquidityGross.eqn(0)||(e<n.tick?a=n.rewardGrowthsOutsideX64[o]:a=i[o].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[o])),r.push(Y.wrappingSubU128(Y.wrappingSubU128(i[o].rewardGrowthGlobalX64,s),a))}return r}};var Ne=Q.from("AmmV3"),st=class extends De{static makeCreatePoolTransaction(a){return E(this,arguments,function*({connection:e,programId:t,owner:n,mint1:i,mint2:r,ammConfig:o,initialPrice:s}){let[m,u,f]=i.mint._bn.gt(r.mint._bn)?[r,i,new z.default(1).div(s)]:[i,r,s],l=X.priceToSqrtPriceX64(f,m.decimals,u.decimals),b=new oe.Transaction;b.add(...Me());let y=yield this.makeCreatePoolInstructions({connection:e,programId:t,owner:n,mintA:m,mintB:u,ammConfigId:o.id,initialPriceX64:l});return b.add(...y.instructions),{signers:y.signers,transaction:b,mockPoolInfo:{id:y.address.poolId,mintA:{mint:m.mint,vault:y.address.mintAVault,decimals:m.decimals},mintB:{mint:u.mint,vault:y.address.mintBVault,decimals:u.decimals},ammConfig:o,observationId:y.address.observationId,creator:n,programId:t,version:6,tickSpacing:o.tickSpacing,liquidity:v,sqrtPriceX64:l,currentPrice:f,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:v,feeGrowthGlobalX64B:v,protocolFeesTokenA:v,protocolFeesTokenB:v,swapInAmountTokenA:v,swapOutAmountTokenB:v,swapInAmountTokenB:v,swapOutAmountTokenA:v,tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0}}})}static makeOpenPositionTransaction(m){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,tickLower:i,tickUpper:r,liquidity:o,slippage:s,associatedOnly:a=!0}){let u=[],f=[],l=[],{amountSlippageA:b,amountSlippageB:y}=ee.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,X.getSqrtPriceX64FromTick(i),X.getSqrtPriceX64FromTick(r),o,!0,!0,s),p=n.useSOLBalance&&t.mintA.mint.equals(C.WSOL.mint),g=n.useSOLBalance&&t.mintB.mint.equals(C.WSOL.mint),P=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:p?[]:n.tokenAccounts,owner:n.wallet,createInfo:p?{connection:e,payer:n.feePayer,amount:b,frontInstructions:u,endInstructions:f,signers:l}:void 0,associatedOnly:p?!1:a}),T=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:g?[]:n.tokenAccounts,owner:n.wallet,createInfo:g?{connection:e,payer:n.feePayer,amount:y,frontInstructions:u,endInstructions:f,signers:l}:void 0,associatedOnly:g?!1:a});Ne.assertArgument(P!==void 0&&T!==void 0,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let L=new oe.Transaction;L.add(...Me());let k=this.makeOpenPositionInstructions({poolInfo:t,ownerInfo:ae(M({},n),{tokenAccountA:P,tokenAccountB:T}),tickLower:i,tickUpper:r,liquidity:o,amountSlippageA:b,amountSlippageB:y});return L.add(...u,...k.instructions,...f),{signers:[...l,...k.signers],transaction:L,address:M({},k.address)}})}static makeIncreaseLiquidityTransaction(s){return E(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,liquidity:r,slippage:o}){let a=[],m=[],u=[],{amountSlippageA:f,amountSlippageB:l}=ee.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,X.getSqrtPriceX64FromTick(n.tickLower),X.getSqrtPriceX64FromTick(n.tickUpper),r,!0,!0,o),b,y;t.mintA.mint.equals(new oe.PublicKey(Se.mint))&&i.useSOLBalance?b=yield this._handleTokenAccount({connection:e,side:"in",amount:f,mint:t.mintA.mint,tokenAccount:null,owner:i.wallet,payer:i.feePayer,frontInstructions:a,endInstructions:m,signers:u,bypassAssociatedCheck:!0}):b=this._selectTokenAccount({tokenAccounts:i.tokenAccounts,mint:t.mintA.mint,owner:i.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new oe.PublicKey(Se.mint))&&i.useSOLBalance?y=yield this._handleTokenAccount({connection:e,side:"in",amount:l,mint:t.mintB.mint,tokenAccount:null,owner:i.wallet,payer:i.feePayer,frontInstructions:a,endInstructions:m,signers:u,bypassAssociatedCheck:!0}):y=this._selectTokenAccount({tokenAccounts:i.tokenAccounts,mint:t.mintB.mint,owner:i.wallet,config:{associatedOnly:!1}}),Ne.assertArgument(!!b||!!y,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let p=new oe.Transaction;p.add(...Me());let g=this.makeIncreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:b,tokenAccountB:y},liquidity:r,amountSlippageA:f,amountSlippageB:l});return p.add(...a,...g.instructions,...m),{signers:[...u,...g.signers],transaction:p,address:M({},g.address)}})}static makeDecreaseLiquidityTransaction(u){return E(this,arguments,function*({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,liquidity:r,amountMinA:o,amountMinB:s,slippage:a,associatedOnly:m=!0}){let f=[],l=[],b=[],y,p;if(o!==void 0&&s!==void 0)y=o,p=s;else{let{amountSlippageA:h,amountSlippageB:_}=ee.getAmountsFromLiquidityWithSlippage(t.sqrtPriceX64,X.getSqrtPriceX64FromTick(n.tickLower),X.getSqrtPriceX64FromTick(n.tickUpper),r,!1,!0,a!=null?a:0);y=h,p=_}let g=i.useSOLBalance&&t.mintA.mint.equals(C.WSOL.mint),P=i.useSOLBalance&&t.mintB.mint.equals(C.WSOL.mint),T=yield this._selectOrCreateTokenAccount({mint:t.mintA.mint,tokenAccounts:g?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:f,signers:b},associatedOnly:g?!1:m}),L=yield this._selectOrCreateTokenAccount({mint:t.mintB.mint,tokenAccounts:P?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:f,signers:b},associatedOnly:P?!1:m}),k=[];for(let h of t.rewardInfos){let _=i.useSOLBalance&&h.tokenMint.equals(C.WSOL.mint),q=yield this._selectOrCreateTokenAccount({mint:h.tokenMint,tokenAccounts:_?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:f,endInstructions:_?l:[],signers:b},associatedOnly:_?!1:m});k.push(q)}Ne.assertArgument(!!T||!!L,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let I=new oe.Transaction;I.add(...Me());let N=this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:T,tokenAccountB:L,rewardAccounts:k},liquidity:r,amountMinA:y,amountMinB:p});return I.add(...f,...N.instructions,...l),i.closePosition&&I.add(...this.makeClosePositionInstructions({poolInfo:t,ownerInfo:i,ownerPosition:n}).instructions),{signers:[...b,...N.signers],transaction:I,address:M({},N.address)}})}static makeSwapBaseInTransaction(m){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,inputMint:i,amountIn:r,amountOutMin:o,priceLimit:s,remainingAccounts:a}){let u=[],f=[],l=[],b;!s||s.equals(new z.default(0))?b=i.equals(t.mintA.mint)?Ye.add(ie):Xe.sub(ie):b=X.priceToSqrtPriceX64(s,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(i),p,g;t.mintA.mint.equals(new oe.PublicKey(Se.mint))&&n.useSOLBalance?p=yield this._handleTokenAccount({connection:e,side:"in",amount:y?r:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:u,endInstructions:f,signers:l,bypassAssociatedCheck:!0}):p=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new oe.PublicKey(Se.mint))&&n.useSOLBalance?g=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:r,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:u,endInstructions:f,signers:l,bypassAssociatedCheck:!0}):g=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),Ne.assertArgument(!!p||!!g,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let P=new oe.Transaction;P.add(...Me());let T=this.makeSwapBaseInInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:p,tokenAccountB:g},inputMint:i,amountIn:r,amountOutMin:o,sqrtPriceLimitX64:b,remainingAccounts:a});return P.add(...u,...T.instructions,...f),{signers:[...l,...T.signers],transaction:P,address:M({},T.address)}})}static makeSwapBaseOutTransaction(m){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,outputMint:i,amountOut:r,amountInMax:o,priceLimit:s,remainingAccounts:a}){let u=[],f=[],l=[],b;!s||s.equals(new z.default(0))?b=i.equals(t.mintB.mint)?Ye.add(ie):Xe.sub(ie):b=X.priceToSqrtPriceX64(s,t.mintA.decimals,t.mintB.decimals);let y=t.mintA.mint.equals(i),p,g;t.mintA.mint.equals(new oe.PublicKey(Se.mint))&&n.useSOLBalance?p=yield this._handleTokenAccount({connection:e,side:"in",amount:y?o:0,mint:t.mintA.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:u,endInstructions:f,signers:l,bypassAssociatedCheck:!0}):p=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintA.mint,owner:n.wallet,config:{associatedOnly:!1}}),t.mintB.mint.equals(new oe.PublicKey(Se.mint))&&n.useSOLBalance?g=yield this._handleTokenAccount({connection:e,side:"in",amount:y?0:o,mint:t.mintB.mint,tokenAccount:null,owner:n.wallet,payer:n.feePayer,frontInstructions:u,endInstructions:f,signers:l,bypassAssociatedCheck:!0}):g=this._selectTokenAccount({tokenAccounts:n.tokenAccounts,mint:t.mintB.mint,owner:n.wallet,config:{associatedOnly:!1}}),Ne.assertArgument(!!p||!!g,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let P=new oe.Transaction;P.add(...Me());let T=this.makeSwapBaseOutInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:p,tokenAccountB:g},outputMint:i,amountOut:r,amountInMax:o,sqrtPriceLimitX64:b,remainingAccounts:a});return P.add(...u,...T.instructions,...f),{signers:[...l,...T.signers],transaction:P,address:M({},T.address)}})}static makeCLosePositionTransaction({poolInfo:e,ownerPosition:t,ownerInfo:n}){let i=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:t}),r=new oe.Transaction;return r.add(...i.instructions),{signers:i.signers,transaction:r,address:M({},i.address)}}static makeInitRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,associatedOnly:r=!0}){Ne.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i);let s=[],a=[],m=[],u=n.useSOLBalance&&i.mint.equals(C.WSOL.mint),f=yield this._selectOrCreateTokenAccount({mint:i.mint,tokenAccounts:u?[]:n.tokenAccounts,owner:n.wallet,createInfo:u?{connection:e,payer:n.feePayer,amount:new Te.default(new z.default(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:s,endInstructions:a,signers:m}:void 0,associatedOnly:u?!1:r});Ne.assertArgument(f,"no money","ownerRewardAccount",n.tokenAccounts);let l=new oe.Transaction;l.add(...Me());let b=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:f},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:Y.decimalToX64(i.perSecond)}});return l.add(...s,...b.instructions,...a),{signers:[...m,...b.signers],transaction:l,address:M({},b.address)}})}static makeInitRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,associatedOnly:r=!0}){for(let l of i)Ne.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l);let s=new oe.Transaction;s.add(...Me());let a=[],m=[],u=[],f=[];for(let l of i){let b=n.useSOLBalance&&l.mint.equals(C.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l.mint,tokenAccounts:b?[]:n.tokenAccounts,owner:n.wallet,createInfo:b?{connection:e,payer:n.feePayer,amount:new Te.default(new z.default(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:a,endInstructions:m,signers:f}:void 0,associatedOnly:b?!1:r});Ne.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:Y.decimalToX64(l.perSecond)}});u.push(...p.instructions)}return s.add(...a,...u,...m),{signers:[...f],transaction:s,address:{}}})}static makeSetRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,associatedOnly:r=!0}){Ne.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i);let s=[],a=[],m=[],u=n.useSOLBalance&&i.mint.equals(C.WSOL.mint),f=yield this._selectOrCreateTokenAccount({mint:i.mint,tokenAccounts:u?[]:n.tokenAccounts,owner:n.wallet,createInfo:u?{connection:e,payer:n.feePayer,amount:new Te.default(new z.default(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:s,endInstructions:a,signers:m}:void 0,associatedOnly:u?!1:r});Ne.assertArgument(f,"no money","ownerRewardAccount",n.tokenAccounts);let l=new oe.Transaction;l.add(...Me());let b=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:f},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:Y.decimalToX64(i.perSecond)}});return l.add(...s,...b.instructions,...a),{signers:[...m,...b.signers],transaction:l,address:M({},b.address)}})}static makeSetRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,associatedOnly:r=!0}){let s=[],a=[],m=[],u=[],f=new oe.Transaction;f.add(...Me());for(let l of i){Ne.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l);let b=n.useSOLBalance&&l.mint.equals(C.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l.mint,tokenAccounts:b?[]:n.tokenAccounts,owner:n.wallet,createInfo:b?{connection:e,payer:n.feePayer,amount:new Te.default(new z.default(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:s,endInstructions:a,signers:u}:void 0,associatedOnly:b?!1:r});Ne.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:Y.decimalToX64(l.perSecond)}});m.push(...p.instructions)}return f.add(...s,...m,...a),{signers:[...u],transaction:f,address:{}}})}static makeCollectRewardTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMint:i,associatedOnly:r=!0}){let s=[],a=[],m=[],u=n.useSOLBalance&&i.equals(C.WSOL.mint),f=yield this._selectOrCreateTokenAccount({mint:i,tokenAccounts:u?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,endInstructions:u?a:[],signers:m},associatedOnly:u?!1:r});Ne.assertArgument(f,"no money","ownerRewardAccount",n.tokenAccounts);let l=new oe.Transaction;l.add(...Me());let b=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:f},rewardMint:i});return l.add(...s,...b.instructions,...a),{signers:[...m,...b.signers],transaction:l,address:M({},b.address)}})}static makeCollectRewardsTransaction(o){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n,rewardMints:i,associatedOnly:r=!0}){let s=[],a=[],m=[],u=new oe.Transaction;u.add(...Me());let f=[];for(let l of i){let b=n.useSOLBalance&&l.equals(C.WSOL.mint),y=yield this._selectOrCreateTokenAccount({mint:l,tokenAccounts:b?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,endInstructions:b?a:[],signers:f},associatedOnly:b?!1:r});Ne.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let p=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardMint:l});m.push(...p.instructions)}return u.add(...s,...m,...a),{signers:[...f],transaction:u,address:{}}})}static makeHarvestAllRewardTransaction(r){return E(this,arguments,function*({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:i=!0}){var b,y,p;let o={};for(let g of n.tokenAccounts)i?We(n.wallet,g.accountInfo.mint).publicKey.equals(g.pubkey)&&(o[g.accountInfo.mint.toString()]=g.pubkey):o[g.accountInfo.mint.toString()]=g.pubkey;let s=[],a=[],m=[],u=[];for(let g of Object.values(t)){if(g.positionAccount===void 0||!g.positionAccount.find(h=>!h.tokenFeeAmountA.isZero()||!h.tokenFeeAmountB.isZero()||h.rewardInfos.find(_=>!_.pendingReward.isZero())))continue;let P=g.state,T=n.useSOLBalance&&P.mintA.mint.equals(C.WSOL.mint),L=n.useSOLBalance&&P.mintB.mint.equals(C.WSOL.mint),k=(b=o[P.mintA.mint.toString()])!=null?b:yield this._selectOrCreateTokenAccount({mint:P.mintA.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,signers:u},associatedOnly:T?!1:i}),I=(y=o[P.mintB.mint.toString()])!=null?y:yield this._selectOrCreateTokenAccount({mint:P.mintB.mint,tokenAccounts:L?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,signers:u},associatedOnly:L?!1:i});o[P.mintA.mint.toString()]=k,o[P.mintB.mint.toString()]=I;let N=[];for(let h of P.rewardInfos){let _=n.useSOLBalance&&h.tokenMint.equals(C.WSOL.mint),q=(p=o[h.tokenMint.toString()])!=null?p:yield this._selectOrCreateTokenAccount({mint:h.tokenMint,tokenAccounts:_?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:s,endInstructions:_?a:[],signers:u},associatedOnly:_?!1:i});o[h.tokenMint.toString()]=q,N.push(q)}for(let h of g.positionAccount)m.push(...this.makeDecreaseLiquidityInstructions({poolInfo:P,ownerPosition:h,ownerInfo:{wallet:n.wallet,tokenAccountA:k,tokenAccountB:I,rewardAccounts:N},liquidity:v,amountMinA:v,amountMinB:v}).instructions)}let f=[...s,...m,...a];return{transactions:St({instructions:f,signers:u,payer:n.wallet}),address:{}}})}static makeCreatePoolInstructions(a){return E(this,arguments,function*({connection:e,programId:t,owner:n,mintA:i,mintB:r,ammConfigId:o,initialPriceX64:s}){let m=new oe.Keypair,u=[oe.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:m.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(qn.span),space:qn.span,programId:t})],f=ui(t,o,i.mint,r.mint).publicKey,l=On(t,f,i.mint).publicKey,b=On(t,f,r.mint).publicKey;return u.push(Gi(t,f,n,o,m.publicKey,i.mint,l,r.mint,b,s)),{signers:[m],instructions:u,address:{poolId:f,observationId:m.publicKey,mintAVault:l,mintBVault:b}}})}static makeOpenPositionInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:i,liquidity:r,amountSlippageA:o,amountSlippageB:s}){let a=[],m=new oe.Keypair;a.push(m);let u=$.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),f=$.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:l}=Ie(e.programId,e.id,u),{publicKey:b}=Ie(e.programId,e.id,f),{publicKey:y}=We(t.wallet,m.publicKey),{publicKey:p}=li(m.publicKey),{publicKey:g}=kt(e.programId,m.publicKey),{publicKey:P}=cn(e.programId,e.id,n,i),T=Yi(e.programId,t.feePayer,e.id,t.wallet,m.publicKey,y,p,P,l,b,g,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,n,i,u,f,r,o,s);return{signers:[m],instructions:[T],address:{}}}static makeIncreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountSlippageA:r,amountSlippageB:o}){let s=$.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),a=$.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:m}=Ie(e.programId,e.id,s),{publicKey:u}=Ie(e.programId,e.id,a),{publicKey:f}=We(n.wallet,t.nftMint),{publicKey:l}=kt(e.programId,t.nftMint),{publicKey:b}=cn(e.programId,e.id,t.tickLower,t.tickUpper),y=[];return y.push(Hi(e.programId,n.wallet,f,l,e.id,b,m,u,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,i,r,o)),{signers:[],instructions:y,address:{}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountMinA:r,amountMinB:o}){let s=$.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),a=$.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:m}=Ie(e.programId,e.id,s),{publicKey:u}=Ie(e.programId,e.id,a),{publicKey:f}=We(n.wallet,t.nftMint),{publicKey:l}=kt(e.programId,t.nftMint),{publicKey:b}=cn(e.programId,e.id,t.tickLower,t.tickUpper),y=[];for(let g=0;g<e.rewardInfos.length;g++)y.push({poolRewardVault:e.rewardInfos[g].tokenVault,ownerRewardVault:n.rewardAccounts[g]});let p=[];return p.push(Qi(e.programId,n.wallet,f,l,e.id,b,m,u,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,y,i,r,o)),{signers:[],instructions:p,address:{}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:t,ownerPosition:n}){let{publicKey:i}=We(t.wallet,n.nftMint),{publicKey:r}=kt(e.programId,n.nftMint),o=[];return o.push(Xi(e.programId,t.wallet,n.nftMint,i,r)),{signers:[],instructions:o,address:{}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:t,inputMint:n,amountIn:i,amountOutMin:r,sqrtPriceLimitX64:o,remainingAccounts:s}){let a=e.mintA.mint.equals(n),m=[Fn(e.programId,t.wallet,e.id,e.ammConfig.id,a?t.tokenAccountA:t.tokenAccountB,a?t.tokenAccountB:t.tokenAccountA,a?e.mintA.vault:e.mintB.vault,a?e.mintB.vault:e.mintA.vault,s,e.observationId,i,r,o,!0)];return{signers:[],instructions:m,address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,ownerInfo:t,outputMint:n,amountOut:i,amountInMax:r,sqrtPriceLimitX64:o,remainingAccounts:s}){let a=e.mintA.mint.equals(n),m=[Fn(e.programId,t.wallet,e.id,e.ammConfig.id,a?t.tokenAccountB:t.tokenAccountA,a?t.tokenAccountA:t.tokenAccountB,a?e.mintB.vault:e.mintA.vault,a?e.mintA.vault:e.mintB.vault,s,e.observationId,i,r,o,!1)];return{signers:[],instructions:m,address:{}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let i=mi(e.programId,e.id,n.mint).publicKey,r=un(e.programId).publicKey,o=[zi(e.programId,t.wallet,e.id,r,e.ammConfig.id,t.tokenAccount,n.mint,i,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:o,address:{}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let i,r;for(let a=0;a<e.rewardInfos.length;a++)e.rewardInfos[a].tokenMint.equals(n.mint)&&(i=a,r=e.rewardInfos[a].tokenVault);Ne.assertArgument(i!==void 0&&r!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let o=un(e.programId).publicKey,s=[Ji(e.programId,t.wallet,e.id,o,e.ammConfig.id,t.tokenAccount,r,i,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{signers:[],instructions:s,address:{}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:t,rewardMint:n}){let i,r;for(let s=0;s<e.rewardInfos.length;s++)e.rewardInfos[s].tokenMint.equals(n)&&(i=s,r=e.rewardInfos[s].tokenVault);Ne.assertArgument(i!==void 0&&r!==void 0,"reward mint check error","no reward mint",e.rewardInfos);let o=[Zi(e.programId,t.wallet,e.id,t.tokenAccount,r,i)];return{signers:[],instructions:o,address:{}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:n,tickUpper:i,amount:r,slippage:o,add:s}){let a=e.sqrtPriceX64,m=X.getSqrtPriceX64FromTick(n),u=X.getSqrtPriceX64FromTick(i),f=s?1-o:1+o,l=r.mul(new Te.default(Math.floor(f*1e6))).div(new Te.default(1e6)),b;if(a.lte(m))b=t?ee.getLiquidityFromTokenAmountA(m,u,l,!s):new Te.default(0);else if(a.lte(u)){let g=ee.getLiquidityFromTokenAmountA(a,u,l,!s),P=ee.getLiquidityFromTokenAmountB(m,a,l);b=t?g:P}else b=t?new Te.default(0):ee.getLiquidityFromTokenAmountB(m,u,l);let y=ee.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,m,u,b,s,!s,o),p=ee.getAmountsFromLiquidity(e.sqrtPriceX64,m,u,b,!s);return M(M({liquidity:b},y),p)}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:n,slippage:i,add:r}){let o=X.getSqrtPriceX64FromTick(t.tickLower),s=X.getSqrtPriceX64FromTick(t.tickUpper);return ee.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,o,s,n,r,r,i)}static getPriceAndTick({poolInfo:e,price:t,baseIn:n}){let i=n?t:new z.default(1).div(t),r=Rt.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=X.getSqrtPriceX64FromTick(r),s=X.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return n?{tick:r,price:s}:{tick:r,price:new z.default(1).div(s)}}static getTickPrice({poolInfo:e,tick:t,baseIn:n}){let i=X.getSqrtPriceX64FromTick(t),r=X.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return n?{tick:t,price:r,tickSqrtPriceX64:i}:{tick:t,price:new z.default(1).div(r),tickSqrtPriceX64:i}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:n,currencyOut:i,slippage:r}){let o=n instanceof W,s=(o?n.token:C.WSOL).mint,a=n.raw,m=r.numerator.toNumber()/r.denominator.toNumber(),{amountOut:u,minAmountOut:f,currentPrice:l,executionPrice:b,priceImpact:y,fee:p,remainingAccounts:g}=st.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:s,amountIn:a,slippage:m}),P=i instanceof C?new W(i,u):new de(i,u),T=i instanceof C?new W(i,f):new de(i,f),L=new pe(o?n.token:n.currency,new Te.default(10).pow(new Te.default(20+(o?n.token:n.currency).decimals)),i instanceof C?i:C.WSOL,l.mul(new z.default(Ze(10,20+(i instanceof C?i:C.WSOL).decimals))).toFixed(0)),k=new pe(o?n.token:n.currency,new Te.default(10).pow(new Te.default(20+(o?n.token:n.currency).decimals)),i instanceof C?i:C.WSOL,b.mul(new z.default(Ze(10,20+(i instanceof C?i:C.WSOL).decimals))).toFixed(0)),I=o?new W(n.token,p):new de(n.currency,p);return{amountOut:P,minAmountOut:T,currentPrice:L,executionPrice:k,priceImpact:y,fee:I,remainingAccounts:g}}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:n,amountIn:i,slippage:r,priceLimit:o=new z.default(0)}){let s;o.equals(new z.default(0))?s=n.equals(e.mintA.mint)?Ye.add(ie):Xe.sub(ie):s=X.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let{expectedAmountOut:a,remainingAccounts:m,executionPrice:u,feeAmount:f}=xt.getOutputAmountAndRemainAccounts(e,t,n,i,s),l=X.sqrtPriceX64ToPrice(u,e.mintA.decimals,e.mintB.decimals),b=n.equals(e.mintA.mint)?l:new z.default(1).div(l),y=a.mul(new Te.default(Math.floor((1-r)*1e10))).div(new Te.default(1e10)),p=e.mintA.mint.equals(n)?e.currentPrice:new z.default(1).div(e.currentPrice),g=new z.default(b).sub(p).abs(),P=p,T=new we(new z.default(g).mul(Ze(10,15)).toFixed(0),new z.default(P).mul(Ze(10,15)).toFixed(0));return{amountOut:a,minAmountOut:y,currentPrice:e.currentPrice,executionPrice:b,priceImpact:T,fee:f,remainingAccounts:m}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:n,amountOut:i,slippage:r,priceLimit:o=new z.default(0)}){let s;o.equals(new z.default(0))?s=n.equals(e.mintB.mint)?Ye.add(ie):Xe.sub(ie):s=X.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let{expectedAmountIn:a,remainingAccounts:m,executionPrice:u,feeAmount:f}=xt.getInputAmountAndRemainAccounts(e,t,n,i,s),l=X.sqrtPriceX64ToPrice(u,e.mintA.decimals,e.mintB.decimals),b=n.equals(e.mintA.mint)?l:new z.default(1).div(l),y=a.mul(new Te.default(Math.floor((1+r)*1e10))).div(new Te.default(1e10)),p=e.mintA.mint.equals(n)?e.currentPrice:new z.default(1).div(e.currentPrice),g=new z.default(b).sub(p).abs(),P=p,T=new we(new z.default(g).mul(Ze(10,15)).toFixed(0),new z.default(P).mul(Ze(10,15)).toFixed(0));return{amountIn:a,maxAmountIn:y,currentPrice:e.currentPrice,executionPrice:b,priceImpact:T,fee:f,remainingAccounts:m}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:n,positionTickUpperIndex:i}){let r=e[t],o=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),s=this.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),a=Math.max(o,r.priceMin),u=Math.min(s,r.priceMax)-a,f=s-o,l=r.priceMax-r.priceMin,b;return u<=0?b=0:f===u?b=l/u:l===u?b=u/f:b=u/l*(u/f),{feeApr:r.feeApr*b,rewardsApr:[r.rewardApr.A*b,r.rewardApr.B*b,r.rewardApr.C*b],apr:r.apr*b}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:t,mintPrice:n,rewardMintDecimals:i,liquidity:r,positionTickLowerIndex:o,positionTickUpperIndex:s,chainTime:a}){let m=t==="day"?1:t==="week"?7:t==="month"?30:0,u=e[t],f=n[e.mintA.mint.toString()],l=n[e.mintB.mint.toString()],b=e.mintA.decimals,y=e.mintB.decimals;if(!u||!f||!l)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=X.getSqrtPriceX64FromTick(o),g=X.getSqrtPriceX64FromTick(s),{amountSlippageA:P,amountSlippageB:T}=ee.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,p,g,e.liquidity,!1,!1,0),{amountSlippageA:L,amountSlippageB:k}=ee.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,p,g,r,!1,!1,0),I=new z.default(P.toString()).div(new z.default(10).pow(b)).mul(f.toFixed(b)).add(new z.default(T.toString()).div(new z.default(10).pow(y)).mul(l.toFixed(y))),N=new z.default(L.toString()).div(new z.default(10).pow(b)).mul(f.toFixed(b)).add(new z.default(k.toString()).div(new z.default(10).pow(y)).mul(l.toFixed(y))),h=N.div(I.add(N)).div(N),q=new z.default(u.volumeFee).mul(365).div(m).mul(h).mul(100).toNumber(),J=3600*24*365,re=e.rewardInfos.map(Z=>{let ue=i[Z.tokenMint.toString()],le=n[Z.tokenMint.toString()];return a<Z.openTime.toNumber()||a>Z.endTime.toNumber()||Z.perSecond.equals(0)||!le||ue===void 0?0:new z.default(le.toFixed(ue)).mul(Z.perSecond.mul(J)).div(new z.default(10).pow(ue)).mul(h).mul(100).toNumber()});return{feeApr:q,rewardsApr:re,apr:q+re.reduce((Z,ue)=>Z+ue,0)}}static fetchMultiplePoolInfos(o){return E(this,arguments,function*({connection:e,poolKeys:t,ownerInfo:n,chainTime:i,batchRequest:r=!1}){var f;let s=yield ve(e,t.map(l=>new oe.PublicKey(l.id)),{batchRequest:r}),a=[],m={},u=[];for(let l=0;l<t.length;l++){let b=t[l],y=s[l];if(y===null)continue;let p=qi.decode(y.data);m[b.id]={state:{id:new oe.PublicKey(b.id),mintA:{mint:p.mintA,vault:p.vaultA,decimals:p.mintDecimalsA},mintB:{mint:p.mintB,vault:p.vaultB,decimals:p.mintDecimalsB},observationId:p.observationId,ammConfig:ae(M({},b.ammConfig),{id:new oe.PublicKey(b.ammConfig.id)}),creator:p.creator,programId:y.owner,version:6,tickSpacing:p.tickSpacing,liquidity:p.liquidity,sqrtPriceX64:p.sqrtPriceX64,currentPrice:X.sqrtPriceX64ToPrice(p.sqrtPriceX64,p.mintDecimalsA,p.mintDecimalsB),tickCurrent:p.tickCurrent,observationIndex:p.observationIndex,observationUpdateDuration:p.observationUpdateDuration,feeGrowthGlobalX64A:p.feeGrowthGlobalX64A,feeGrowthGlobalX64B:p.feeGrowthGlobalX64B,protocolFeesTokenA:p.protocolFeesTokenA,protocolFeesTokenB:p.protocolFeesTokenB,swapInAmountTokenA:p.swapInAmountTokenA,swapOutAmountTokenB:p.swapOutAmountTokenB,swapInAmountTokenB:p.swapInAmountTokenB,swapOutAmountTokenA:p.swapOutAmountTokenA,tickArrayBitmap:p.tickArrayBitmap,rewardInfos:xt.updatePoolRewardInfos({chainTime:i,poolLiquidity:p.liquidity,rewardInfos:p.rewardInfos.filter(g=>!g.tokenMint.equals(oe.PublicKey.default))}),day:b.day,week:b.week,month:b.month,tvl:b.tvl}},n&&u.push(...m[b.id].state.rewardInfos.filter(g=>g.creator.equals(n.wallet))),a.find(g=>g.equals(y.owner))||a.push(y.owner)}if(n){let l=n.tokenAccounts.filter(L=>L.accountInfo.amount.eq(new Te.default(1))).map(L=>L.accountInfo.mint),b=[];for(let L of l)for(let k of a)b.push(kt(k,L).publicKey);let y=yield ve(e,b,{batchRequest:r}),p={};for(let L of y){if(L===null)continue;let k=Fi.decode(L.data),I=k.poolId.toString(),N=m[I];if(N===void 0)continue;let h=N.state,_=this.getTickPrice({poolInfo:h,tick:k.tickLower,baseIn:!0}),q=this.getTickPrice({poolInfo:h,tick:k.tickUpper,baseIn:!0}),{amountA:J,amountB:re}=ee.getAmountsFromLiquidity(h.sqrtPriceX64,_.tickSqrtPriceX64,q.tickSqrtPriceX64,k.liquidity,!1),Z=1/(1-Math.sqrt(Math.sqrt(_.price.div(q.price).toNumber())));m[I].positionAccount=[...(f=m[I].positionAccount)!=null?f:[],{poolId:k.poolId,nftMint:k.nftMint,priceLower:_.price,priceUpper:q.price,amountA:J,amountB:re,tickLower:k.tickLower,tickUpper:k.tickUpper,liquidity:k.liquidity,feeGrowthInsideLastX64A:k.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:k.feeGrowthInsideLastX64B,tokenFeesOwedA:k.tokenFeesOwedA,tokenFeesOwedB:k.tokenFeesOwedB,rewardInfos:k.rewardInfos.map(fe=>ae(M({},fe),{pendingReward:new Te.default(0)})),leverage:Z,tokenFeeAmountA:new Te.default(0),tokenFeeAmountB:new Te.default(0)}];let ue=$.getTickArrayAddressByTick(m[I].state.programId,k.poolId,k.tickLower,m[I].state.tickSpacing),le=$.getTickArrayAddressByTick(m[I].state.programId,k.poolId,k.tickUpper,m[I].state.tickSpacing);p[`${m[I].state.programId.toString()}-${k.poolId.toString()}-${k.tickLower}`]=ue,p[`${m[I].state.programId.toString()}-${k.poolId.toString()}-${k.tickUpper}`]=le}let g=Object.values(p),P=yield ve(e,g,{batchRequest:r}),T={};for(let L=0;L<g.length;L++){let k=P[L];if(k===null)continue;let I=g[L].toString();T[I]=qt.decode(k.data)}for(let{state:L,positionAccount:k}of Object.values(m))if(!!k)for(let I of k){let N=`${L.programId.toString()}-${L.id.toString()}-${I.tickLower}`,h=`${L.programId.toString()}-${L.id.toString()}-${I.tickUpper}`,_=T[p[N].toString()],q=T[p[h].toString()],J=_.ticks[$.getTickOffsetInArray(I.tickLower,L.tickSpacing)],re=q.ticks[$.getTickOffsetInArray(I.tickUpper,L.tickSpacing)],{tokenFeeAmountA:Z,tokenFeeAmountB:ue}=Yt.GetPositionFees(L,I,J,re),le=Yt.GetPositionRewards(L,I,J,re);I.tokenFeeAmountA=Z.gte(v)?Z:v,I.tokenFeeAmountB=ue.gte(v)?ue:v;for(let fe=0;fe<le.length;fe++)I.rewardInfos[fe].pendingReward=le[fe].gte(v)?le[fe]:v}}if(u.length>0){let l=u.map(p=>p.tokenVault),b=yield ve(e,l,{batchRequest:r}),y={};for(let p=0;p<l.length;p++){let g=l[p].toString(),P=b[p];if(P===null)continue;let T=ze.decode(P.data);y[g]=T.amount}for(let p of u){let g=y[p.tokenVault.toString()];p.remainingRewards=g!==void 0?g.sub(p.rewardTotalEmissioned):v}}return m})}static fetchMultiplePoolTickArrays(i){return E(this,arguments,function*({connection:e,poolKeys:t,batchRequest:n}){let r={},o=[];for(let m of t){let u=$.mergeTickArrayBitmap(m.tickArrayBitmap),f=$.getTickArrayStartIndexByTick(m.tickCurrent,m.tickSpacing),l=$.getInitializedTickArrayInRange(u,m.tickSpacing,f,Math.floor(Gn/2));for(let b of l){let{publicKey:y}=Ie(m.programId,m.id,b);o.push({pubkey:y}),r[y.toString()]=m.id}}let s=yield Dt(e,o,{batchRequest:n}),a={};for(let m of s){if(!m.accountInfo)continue;let u=r[m.pubkey.toString()];if(!u)continue;a[u]===void 0&&(a[u]={});let f=qt.decode(m.accountInfo.data);a[u][f.startTickIndex]=ae(M({},f),{address:m.pubkey})}return a})}static getWhiteListMint(n){return E(this,arguments,function*({connection:e,programId:t}){let i=yield e.getAccountInfo(un(t).publicKey);return i?Wi.decode(i.data).whitelistMints.filter(o=>!o.equals(oe.PublicKey.default)):[]})}};var Ee=require("@solana/web3.js"),Xt=ye(require("bn.js"));var so=require("@solana/spl-token"),He=require("@solana/web3.js");function Ur(d,e,t,n,i,r,o,s,a,m,u){let f=D([U("instruction"),A("amountIn"),A("amountOut")]),l=[{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:so.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:new He.PublicKey(String(e.programId)),isSigner:!1,isWritable:!1},{pubkey:new He.PublicKey(String(e.id)),isSigner:!1,isWritable:!0},{pubkey:new He.PublicKey(String(t.id)),isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];if(e.version===6){let y=e;l.push({pubkey:y.ammConfig.id,isSigner:!1,isWritable:!1},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.mintA.mint.equals(s)?y.mintA.vault:y.mintB.vault,isSigner:!1,isWritable:!0},{pubkey:y.mintA.mint.equals(s)?y.mintB.vault:y.mintA.vault,isSigner:!1,isWritable:!0},{pubkey:y.observationId,isSigner:!1,isWritable:!0},...u.map(p=>({pubkey:p,isSigner:!1,isWritable:!0})))}else if(e.version===5){let y=Ve(e);l.push({pubkey:y.authority,isSigner:!1,isWritable:!1},{pubkey:y.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:new He.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),isSigner:!1,isWritable:!1},{pubkey:y.openOrders,isSigner:!1,isWritable:!0},{pubkey:y.baseVault,isSigner:!1,isWritable:!0},{pubkey:y.quoteVault,isSigner:!1,isWritable:!0},{pubkey:y.marketId,isSigner:!1,isWritable:!0},{pubkey:y.marketBids,isSigner:!1,isWritable:!0},{pubkey:y.marketAsks,isSigner:!1,isWritable:!0},{pubkey:y.marketEventQueue,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0})}else if(e.version===4){let y=Ve(e);l.push({pubkey:y.authority,isSigner:!1,isWritable:!1},{pubkey:y.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:y.marketAuthority,isSigner:!1,isWritable:!1},{pubkey:y.openOrders,isSigner:!1,isWritable:!0},{pubkey:y.baseVault,isSigner:!1,isWritable:!0},{pubkey:y.quoteVault,isSigner:!1,isWritable:!0},{pubkey:y.marketId,isSigner:!1,isWritable:!0},{pubkey:y.marketBids,isSigner:!1,isWritable:!0},{pubkey:y.marketAsks,isSigner:!1,isWritable:!0},{pubkey:y.marketEventQueue,isSigner:!1,isWritable:!0},...y.marketProgramId.toString()==="srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"?[{pubkey:y.marketBaseVault,isSigner:!1,isWritable:!0},{pubkey:y.marketQuoteVault,isSigner:!1,isWritable:!0}]:[{pubkey:y.id,isSigner:!1,isWritable:!0},{pubkey:y.id,isSigner:!1,isWritable:!0}])}let b=Buffer.alloc(f.span);return f.encode({instruction:4,amountIn:a,amountOut:m},b),new He.TransactionInstruction({keys:l,programId:d,data:b})}function Mr(d,e,t,n,i,r,o,s,a){let m=D([U("instruction")]),u=[{pubkey:Ae,isSigner:!1,isWritable:!1},{pubkey:so.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:new He.PublicKey(String(t.programId)),isSigner:!1,isWritable:!1},{pubkey:new He.PublicKey(String(t.id)),isSigner:!1,isWritable:!0},{pubkey:new He.PublicKey(String(e.id)),isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];if(t.version===6){let l=t;u.push({pubkey:l.ammConfig.id,isSigner:!1,isWritable:!1},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.mintA.mint.equals(s)?l.mintA.vault:l.mintB.vault,isSigner:!1,isWritable:!0},{pubkey:l.mintA.mint.equals(s)?l.mintB.vault:l.mintA.vault,isSigner:!1,isWritable:!0},{pubkey:l.observationId,isSigner:!1,isWritable:!0},...a.map(b=>({pubkey:b,isSigner:!1,isWritable:!0})))}else if(t.version===5){let l=Ve(t);u.push({pubkey:l.authority,isSigner:!1,isWritable:!1},{pubkey:l.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:new He.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),isSigner:!1,isWritable:!1},{pubkey:l.openOrders,isSigner:!1,isWritable:!0},{pubkey:l.baseVault,isSigner:!1,isWritable:!0},{pubkey:l.quoteVault,isSigner:!1,isWritable:!0},{pubkey:l.marketId,isSigner:!1,isWritable:!0},{pubkey:l.marketBids,isSigner:!1,isWritable:!0},{pubkey:l.marketAsks,isSigner:!1,isWritable:!0},{pubkey:l.marketEventQueue,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0})}else if(t.version===4){let l=Ve(t);u.push({pubkey:l.authority,isSigner:!1,isWritable:!1},{pubkey:l.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:l.marketAuthority,isSigner:!1,isWritable:!1},{pubkey:l.openOrders,isSigner:!1,isWritable:!0},{pubkey:l.baseVault,isSigner:!1,isWritable:!0},{pubkey:l.quoteVault,isSigner:!1,isWritable:!0},{pubkey:l.marketId,isSigner:!1,isWritable:!0},{pubkey:l.marketBids,isSigner:!1,isWritable:!0},{pubkey:l.marketAsks,isSigner:!1,isWritable:!0},{pubkey:l.marketEventQueue,isSigner:!1,isWritable:!0},...l.marketProgramId.toString()==="srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"?[{pubkey:l.marketBaseVault,isSigner:!1,isWritable:!0},{pubkey:l.marketQuoteVault,isSigner:!1,isWritable:!0}]:[{pubkey:l.id,isSigner:!1,isWritable:!0},{pubkey:l.id,isSigner:!1,isWritable:!0}])}let f=Buffer.alloc(m.span);return m.encode({instruction:5},f),new He.TransactionInstruction({keys:u,programId:d,data:f})}var bn=class extends De{static getAllRoute({inputMint:e,outputMint:t,apiPoolList:n,ammV3List:i}){var b,y;let r={},o={},s=[],a={};for(let p of i!=null?i:[]){if((p.mintA.mint.equals(e)&&p.mintB.mint.equals(t)||p.mintA.mint.equals(t)&&p.mintB.mint.equals(e))&&(s.push(p),o[p.id.toString()]=p),p.mintA.mint.equals(e)){let g=p.mintB.mint.toString();a[g]===void 0&&(a[g]={in:[],out:[],mDecimals:p.mintB.decimals}),a[g].in.push(p)}if(p.mintB.mint.equals(e)){let g=p.mintA.mint.toString();a[g]===void 0&&(a[g]={in:[],out:[],mDecimals:p.mintA.decimals}),a[g].in.push(p)}if(p.mintA.mint.equals(t)){let g=p.mintB.mint.toString();a[g]===void 0&&(a[g]={in:[],out:[],mDecimals:p.mintB.decimals}),a[g].out.push(p)}if(p.mintB.mint.equals(t)){let g=p.mintA.mint.toString();a[g]===void 0&&(a[g]={in:[],out:[],mDecimals:p.mintA.decimals}),a[g].out.push(p)}}let m=[],u=e.toString(),f=t.toString();for(let p of(b=(n!=null?n:{}).official)!=null?b:[])(p.baseMint===u&&p.quoteMint===f||p.baseMint===f&&p.quoteMint===u)&&(s.push(p),r[p.id]=p,m.push(p)),p.baseMint===u&&(a[p.quoteMint]===void 0&&(a[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),a[p.quoteMint].in.push(p)),p.quoteMint===u&&(a[p.baseMint]===void 0&&(a[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),a[p.baseMint].in.push(p)),p.baseMint===f&&(a[p.quoteMint]===void 0&&(a[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),a[p.quoteMint].out.push(p)),p.quoteMint===f&&(a[p.baseMint]===void 0&&(a[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),a[p.baseMint].out.push(p));let l=m.length===0;for(let p of(y=(n!=null?n:{}).unOfficial)!=null?y:[])(p.baseMint===u&&p.quoteMint===f||p.baseMint===f&&p.quoteMint===u)&&(s.push(p),r[p.id]=p,l&&m.push(p)),p.baseMint===u&&(a[p.quoteMint]===void 0&&(a[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),a[p.quoteMint].in.push(p)),p.quoteMint===u&&(a[p.baseMint]===void 0&&(a[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),a[p.baseMint].in.push(p)),p.baseMint===f&&(a[p.quoteMint]===void 0&&(a[p.quoteMint]={in:[],out:[],mDecimals:p.quoteDecimals}),a[p.quoteMint].out.push(p)),p.quoteMint===f&&(a[p.baseMint]===void 0&&(a[p.baseMint]={in:[],out:[],mDecimals:p.baseDecimals}),a[p.baseMint].out.push(p));for(let p of Object.keys(a)){if(a[p].in.length===1&&a[p].out.length===1&&String(a[p].in[0].id)===String(a[p].out[0].id)){delete a[p];continue}if(a[p].in.length===0||a[p].out.length===0){delete a[p];continue}let g=a[p];for(let P of g.in)for(let T of g.out)P.version===6&&o[P.id.toString()]===void 0?o[P.id.toString()]=P:P.version!==6&&r[P.id]===void 0&&(r[P.id]=P),T.version===6&&o[T.id.toString()]===void 0?o[T.id.toString()]=T:T.version!==6&&r[T.id]===void 0&&(r[T.id]=T)}return{directPath:s,addLiquidityPools:m,routePathDict:a,needSimulate:Object.values(r),needTickArray:Object.values(o)}}static fetchMultipleInfo(i){return E(this,arguments,function*({connection:e,pools:t,batchRequest:n=!0}){t.find(a=>a.version===5)&&(yield vn(e));let r=t.map(a=>Pe.makeSimulatePoolInfoInstruction({poolKeys:Ve(a)})),o=yield Zt(e,r,"GetPoolData",n),s={};for(let a of o){let m=jt(a,"GetPoolData"),u=JSON.parse(m).amm_id,f=new Xt.default(Le(m,"status")),l=Number(Le(m,"coin_decimals")),b=Number(Le(m,"pc_decimals")),y=Number(Le(m,"lp_decimals")),p=new Xt.default(Le(m,"pool_coin_amount")),g=new Xt.default(Le(m,"pool_pc_amount")),P=new Xt.default(Le(m,"pool_lp_supply")),T="0";try{T=Le(m,"pool_open_time")}catch(L){}s[u]={ammId:u,status:f,baseDecimals:l,quoteDecimals:b,lpDecimals:y,baseReserve:p,quoteReserve:g,lpSupply:P,startTime:new Xt.default(T)}}return s})}static getAddLiquidityDefaultPool({addLiquidityPools:e,poolInfosCache:t}){if(e.length===0)return;if(e.length===1||(e.sort((i,r)=>r.version-i.version),e[0].version!==e[1].version))return e[0];let n=e.filter(i=>i.version===e[0].version);return n.sort((i,r)=>this.ComparePoolSize(i,r,t)),n[0]}static ComparePoolSize(e,t,n){let i=n[e.id],r=n[t.id];return i===void 0?1:r===void 0?-1:e.baseMint===t.baseMint?i.baseReserve.sub(r.baseReserve).gte(v)?-1:1:i.baseReserve.sub(r.quoteReserve).gte(v)?-1:1}static getAllRouteComputeAmountOut({inputTokenAmount:e,outputToken:t,directPath:n,routePathDict:i,simulateCache:r,tickCache:o,slippage:s,chainTime:a}){let m=e,u=[];for(let f of n)if(f.version===6)try{let{amountOut:l,minAmountOut:b,currentPrice:y,executionPrice:p,priceImpact:g,fee:P,remainingAccounts:T}=st.computeAmountOutFormat({poolInfo:f,tickArrayCache:o[f.id.toString()],amountIn:m,currencyOut:t,slippage:s});u.push({amountIn:m,amountOut:l,minAmountOut:b,currentPrice:y,executionPrice:p,priceImpact:g,fee:[P],remainingAccounts:[T],routeType:"amm",poolKey:[f],middleMint:void 0,poolReady:!0,poolType:"CLMM"})}catch(l){}else try{if(![1,6,7].includes(r[f.id].status.toNumber()))continue;let{amountOut:l,minAmountOut:b,currentPrice:y,executionPrice:p,priceImpact:g,fee:P}=Pe.computeAmountOut({poolKeys:Ve(f),poolInfo:r[f.id],amountIn:m,currencyOut:t,slippage:s});u.push({amountIn:m,amountOut:l,minAmountOut:b,currentPrice:y,executionPrice:p,priceImpact:g,fee:[P],routeType:"amm",poolKey:[f],remainingAccounts:[],middleMint:void 0,poolReady:r[f.id].startTime.toNumber()<a,poolType:f.version===5?"STABLE":void 0})}catch(l){}for(let[f,l]of Object.entries(i))for(let b of l.in)if(!(!r[b.id]&&!o[b.id.toString()])&&!(b.version!==6&&![1,6,7].includes(r[b.id].status.toNumber()))){for(let y of l.out)if(!(!r[y.id]&&!o[y.id.toString()])&&!(y.version!==6&&![1,6,7].includes(r[y.id].status.toNumber())))try{let{amountOut:p,minAmountOut:g,executionPrice:P,priceImpact:T,fee:L,remainingAccounts:k}=bn.computeAmountOut({middleMintInfo:{mint:new Ee.PublicKey(f),decimals:l.mDecimals},amountIn:m,currencyOut:t,slippage:s,fromPool:b,toPool:y,simulateCache:r,tickCache:o}),I=b.version===6?!0:r[b.id].startTime.toNumber()<a,N=y.version===6?!0:r[y.id].startTime.toNumber()<a,h=b.version===6?"CLMM":b.version===5?"STABLE":void 0,_=y.version===6?"CLMM":y.version===5?"STABLE":void 0;u.push({amountIn:m,amountOut:p,minAmountOut:g,currentPrice:void 0,executionPrice:P,priceImpact:T,fee:L,routeType:"route",poolKey:[b,y],remainingAccounts:k,middleMint:new Ee.PublicKey(f),poolReady:I&&N,poolType:[h,_]})}catch(p){}}return u.sort((f,l)=>f.amountOut.raw.sub(l.amountOut.raw).gt(v)?-1:1),u}static computeAmountOut({middleMintInfo:e,amountIn:t,currencyOut:n,slippage:i,fromPool:r,toPool:o,simulateCache:s,tickCache:a}){let m=new C(e.mint,e.decimals),u,f,l,b,y=new we(0,100);if(r.version===6){let{minAmountOut:_,priceImpact:q,fee:J,remainingAccounts:re}=st.computeAmountOutFormat({poolInfo:r,tickArrayCache:a[r.id.toString()],amountIn:t,currencyOut:m,slippage:y});u=_,f=q,l=J,b=re}else{let{minAmountOut:_,priceImpact:q,fee:J}=Pe.computeAmountOut({poolKeys:Ve(r),poolInfo:s[r.id],amountIn:t,currencyOut:m,slippage:y});u=_,f=q,l=J}let p,g,P,T,L;if(o.version===6){let{amountOut:_,minAmountOut:q,priceImpact:J,fee:re,remainingAccounts:Z}=st.computeAmountOutFormat({poolInfo:o,tickArrayCache:a[o.id.toString()],amountIn:u,currencyOut:n,slippage:i});p=_,g=q,P=J,T=re,L=Z}else{let{amountOut:_,minAmountOut:q,priceImpact:J,fee:re}=Pe.computeAmountOut({poolKeys:Ve(o),poolInfo:s[o.id],amountIn:u,currencyOut:n,slippage:i});p=_,g=q,P=J,T=re}let k=null,I=t.raw,N=p.raw,h=t instanceof W?t.token:t.currency;return!I.isZero()&&!N.isZero()&&(k=new pe(h,I,n,N)),{minMiddleAmountOut:u,amountOut:p,minAmountOut:g,executionPrice:k,priceImpact:f.add(P),fee:[l,T],remainingAccounts:[b,L]}}static makeSwapInstruction({routeProgram:e,ownerInfo:t,inputMint:n,swapInfo:i}){if(i.routeType==="amm")if(i.poolKey[0].version===6){let r=i.poolKey[0],o=n.equals(r.mintA.mint)?Ye.add(ie):Xe.sub(ie);return st.makeSwapBaseInInstructions({poolInfo:r,ownerInfo:{wallet:t.wallet,tokenAccountA:r.mintA.mint.equals(n)?t.sourceToken:t.destinationToken,tokenAccountB:r.mintA.mint.equals(n)?t.destinationToken:t.sourceToken},inputMint:n,amountIn:i.amountIn.raw,amountOutMin:i.minAmountOut.raw,sqrtPriceLimitX64:o,remainingAccounts:i.remainingAccounts[0]})}else{let r=i.poolKey[0];return{signers:[],instructions:[Pe.makeSwapInstruction({poolKeys:Ve(r),userKeys:{tokenAccountIn:t.sourceToken,tokenAccountOut:t.destinationToken,owner:t.wallet},amountIn:i.amountIn.raw,amountOut:i.minAmountOut.raw,fixedSide:"in"})],address:{}}}else if(i.routeType==="route"){let r=i.poolKey[0],o=i.poolKey[1];return{signers:[],instructions:[Ur(e,r,o,t.sourceToken,t.routeToken,t.userPdaAccount,t.wallet,n,i.amountIn.raw,i.minAmountOut.raw,i.remainingAccounts[0]),Mr(e,r,o,t.routeToken,t.destinationToken,t.userPdaAccount,t.wallet,i.middleMint,i.remainingAccounts[1])],address:{}}}else throw Error("route type error")}static makeSwapTranscation(r){return E(this,arguments,function*({connection:e,swapInfo:t,ownerInfo:n,checkTransaction:i}){let o=[],s=[],a=[],m=t.amountIn,u=t.amountOut,f=!(m instanceof W),l=!(u instanceof W),b=m instanceof W?m.token.mint:C.WSOL.mint,y=t.middleMint,p=u instanceof W?u.token.mint:C.WSOL.mint,g=new Ee.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),P=yield this._selectOrCreateTokenAccount({mint:b,tokenAccounts:f?[]:n.tokenAccounts,createInfo:f?{connection:e,payer:n.wallet,amount:m.raw,frontInstructions:o,endInstructions:s,signers:a}:void 0,owner:n.wallet,associatedOnly:f?!1:n.associatedOnly});if(P===void 0)throw Error("input account check error");let T=yield this._selectOrCreateTokenAccount({mint:p,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:l?s:void 0,signers:a},owner:n.wallet,associatedOnly:n.associatedOnly}),L;t.routeType==="route"&&(L=yield this._selectOrCreateTokenAccount({mint:y,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:s,signers:a},owner:n.wallet,associatedOnly:!1}));let k=this.makeSwapInstruction({routeProgram:g,inputMint:b,swapInfo:t,ownerInfo:{wallet:n.wallet,sourceToken:P,routeToken:L,destinationToken:T,userPdaAccount:t.poolKey.length===2?bt.getAssociatedMiddleStatusAccount({programId:g,fromPoolId:new Ee.PublicKey(String(t.poolKey[0].id)),owner:n.wallet,middleMint:t.middleMint}):void 0}}),I=[],N=[...o,...k.instructions,...s],h=[...a,...k.signers];if(i)if(ft(N,[n.wallet,...h.map(_=>_.publicKey)]))I.push({transaction:new Ee.Transaction().add(...N),signer:h});else{if(o.length>0&&I.push({transaction:new Ee.Transaction().add(...o),signer:[...a]}),ft(k.instructions,[n.wallet]))I.push({transaction:new Ee.Transaction().add(...k.instructions),signer:[...k.signers]});else for(let _ of k.instructions)I.push({transaction:new Ee.Transaction().add(_),signer:[...k.signers]});s.length>0&&I.push({transaction:new Ee.Transaction().add(...s),signer:[]})}else t.routeType==="amm"?I.push({transaction:new Ee.Transaction().add(...N),signer:h}):(o.length>0&&I.push({transaction:new Ee.Transaction().add(...o),signer:[...a]}),I.push({transaction:new Ee.Transaction().add(...k.instructions),signer:[...k.signers]}),s.length>0&&I.push({transaction:new Ee.Transaction().add(...s),signer:[]}));return{transactions:I,address:M({},k.address)}})}};var ao=require("@solana/spl-token"),be=require("@solana/web3.js"),Ht=ye(require("bn.js"));function xa(d="accountFlags"){let e=new rn(d);return e.addBoolean("initialized"),e.addBoolean("market"),e.addBoolean("openOrders"),e.addBoolean("requestQueue"),e.addBoolean("eventQueue"),e.addBoolean("bids"),e.addBoolean("asks"),e}var co=D([me(5),xa("accountFlags"),R("ownAddress"),A("vaultSignerNonce"),R("baseMint"),R("quoteMint"),R("baseVault"),A("baseDepositsTotal"),A("baseFeesAccrued"),R("quoteVault"),A("quoteDepositsTotal"),A("quoteFeesAccrued"),A("quoteDustThreshold"),R("requestQueue"),R("eventQueue"),R("bids"),R("asks"),A("baseLotSize"),A("quoteLotSize"),A("feeRateBps"),A("referrerRebatesAccrued"),me(7)]),uo=class extends De{static makeCreateMarketTransaction(a){return E(this,arguments,function*({connection:e,wallet:t,baseInfo:n,quoteInfo:i,lotSize:r,tickSize:o,dexProgramId:s}){let m=be.Keypair.generate(),u=be.Keypair.generate(),f=be.Keypair.generate(),l=be.Keypair.generate(),b=be.Keypair.generate(),y=be.Keypair.generate(),p=be.Keypair.generate(),g=0,P=new Ht.default(100);function T(){let h=new Ht.default(0);for(;;)try{return{vaultOwner:be.PublicKey.createProgramAddressSync([m.publicKey.toBuffer(),h.toArrayLike(Buffer,"le",8)],s),vaultSignerNonce:h}}catch(_){if(h.iaddn(1),h.gt(new Ht.default(25555)))throw Error("find vault owner error")}}let{vaultOwner:L,vaultSignerNonce:k}=T(),I=new Ht.default(Math.round(Ze(10,n.decimals)*r)),N=new Ht.default(Math.round(r*Ze(10,i.decimals)*o));if(I.eq(v))throw Error("lot size is too small");if(N.eq(v))throw Error("tick size or lot size is too small");return{transactions:yield this.makeCreateMarketInstruction({connection:e,wallet:t,marketInfo:{programId:s,id:m,baseMint:n.mint,quoteMint:i.mint,baseVault:y,quoteVault:p,vaultOwner:L,requestQueue:u,eventQueue:f,bids:l,asks:b,feeRateBps:g,quoteDustThreshold:P,vaultSignerNonce:k,baseLotSize:I,quoteLotSize:N}}),address:{id:m.publicKey}}})}static makeCreateMarketInstruction(i){return E(this,arguments,function*({connection:e,wallet:t,marketInfo:n}){let r=new be.Transaction;r.add(be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.baseVault.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(165),space:165,programId:F.TOKEN_PROGRAM_ID}),be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.quoteVault.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(165),space:165,programId:F.TOKEN_PROGRAM_ID}),(0,ao.createInitializeAccountInstruction)(n.baseVault.publicKey,n.baseMint,n.vaultOwner),(0,ao.createInitializeAccountInstruction)(n.quoteVault.publicKey,n.quoteMint,n.vaultOwner));let o=new be.Transaction;return o.add(be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.id.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(co.span),space:co.span,programId:n.programId}),be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.requestQueue.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(5120+12),space:5120+12,programId:n.programId}),be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.eventQueue.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(262144+12),space:262144+12,programId:n.programId}),be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.bids.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(65536+12),space:65536+12,programId:n.programId}),be.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n.asks.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(65536+12),space:65536+12,programId:n.programId}),this.initializeMarket({programId:n.programId,marketInfo:{id:n.id.publicKey,requestQueue:n.requestQueue.publicKey,eventQueue:n.eventQueue.publicKey,bids:n.bids.publicKey,asks:n.asks.publicKey,baseVault:n.baseVault.publicKey,quoteVault:n.quoteVault.publicKey,baseMint:n.baseMint,quoteMint:n.quoteMint,baseLotSize:n.baseLotSize,quoteLotSize:n.quoteLotSize,feeRateBps:n.feeRateBps,vaultSignerNonce:n.vaultSignerNonce,quoteDustThreshold:n.quoteDustThreshold}})),[{transaction:r,signer:[n.baseVault,n.quoteVault]},{transaction:o,signer:[n.id,n.requestQueue,n.eventQueue,n.bids,n.asks]}]})}static initializeMarket({programId:e,marketInfo:t}){let n=D([U("version"),Oe("instruction"),A("baseLotSize"),A("quoteLotSize"),mt("feeRateBps"),A("vaultSignerNonce"),A("quoteDustThreshold")]),i=[{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.requestQueue,isSigner:!1,isWritable:!0},{pubkey:t.eventQueue,isSigner:!1,isWritable:!0},{pubkey:t.bids,isSigner:!1,isWritable:!0},{pubkey:t.asks,isSigner:!1,isWritable:!0},{pubkey:t.baseVault,isSigner:!1,isWritable:!0},{pubkey:t.quoteVault,isSigner:!1,isWritable:!0},{pubkey:t.baseMint,isSigner:!1,isWritable:!1},{pubkey:t.quoteMint,isSigner:!1,isWritable:!1},{pubkey:t.authority?t.quoteMint:ge.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(t.authority?{pubkey:t.authority,isSigner:!1,isWritable:!1}:[]).concat(t.authority&&t.pruneAuthority?{pubkey:t.pruneAuthority,isSigner:!1,isWritable:!1}:[]),r=Buffer.alloc(n.span);return n.encode({version:0,instruction:0,baseLotSize:t.baseLotSize,quoteLotSize:t.quoteLotSize,feeRateBps:t.feeRateBps,vaultSignerNonce:t.vaultSignerNonce,quoteDustThreshold:t.quoteDustThreshold},r),new be.TransactionInstruction({keys:i,programId:e,data:r})}};var at=require("@solana/web3.js"),mo=ye(require("bn.js"));var Yn=class extends De{static getPdaPoolId(e,t){return ne([this.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,n,i){return ne([this.SEED_CONFIG.owner.id,t.toBuffer(),n.toBuffer(),Buffer.from(new mo.default(i).toArray())],e)}static getAllInfo(o){return E(this,arguments,function*({connection:e,programId:t,poolIds:n,wallet:i,chainTime:r}){if(n.length===0)return[];let s=n.map(f=>this.getPdaPoolId(t,f).publicKey),a=[];for(let f=0;f<this.VERSION_PROJECT.length;f++)a.push(...s.map(l=>this.getPdaOwnerId(t,l,i,f).publicKey));let m=yield ve(e,[...s,...a]),u=[];for(let f=0;f<m.length;f++){let l=Math.floor(f/n.length),b=f%n.length,y=s[b],p=a[f],g=m[b],P=m[n.length+f];if(!(g&&P)||g.data.length!==this.POOL_LAYOUT.span||P.data.length!==this.OWNER_LAYOUT.span)continue;let T=this.POOL_LAYOUT.decode(g.data),L=this.OWNER_LAYOUT.decode(P.data),k=T.openTime.toNumber(),I=T.endTime.toNumber(),N=L.tokenInfo.map(q=>q.debtAmount.gt(new mo.default(0))).filter(q=>!q).length!==3,h=r>k&&r<I&&T.status===1,_=N&&h;u.push({programId:t,poolId:y,ammId:T.ammId,ownerAccountId:p,snapshotLpAmount:L.lpAmount,project:this.VERSION_PROJECT[l],openTime:k,endTime:I,canClaim:_,canClaimErrorType:N?h?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:T.tokenInfo.map((q,J)=>({mintAddress:q.mintAddress,mintVault:q.mintVault,mintDecimals:q.mintDecimals,perLpLoss:q.perLpLoss,debtAmount:L.tokenInfo[J].debtAmount.add(L.tokenInfo[J].claimedAmount)}))})}return u})}static makeClaimTransaction(i){return E(this,arguments,function*({connection:e,poolInfo:t,ownerInfo:n}){let r=[],o=[],s=[],a=[],m=[];for(let u of t.tokenInfo)m.push(yield this._selectOrCreateTokenAccount({mint:u.mintAddress,tokenAccounts:u.mintAddress.equals(C.WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:r,endInstructions:u.mintAddress.equals(C.WSOL.mint)?o:[],signers:a},associatedOnly:u.mintAddress.equals(C.WSOL.mint)?!1:n.associatedOnly}));return s.push(this.makeClaimInstruction({programId:t.programId,poolInfo:t,ownerInfo:{wallet:n.wallet,ownerPda:t.ownerAccountId,claimAddress:m}})),[{transaction:new at.Transaction().add(...r,...s,...o),signer:a}]})}static makeClaimAllTransaction(i){return E(this,arguments,function*({connection:e,poolInfos:t,ownerInfo:n}){var u;let r=[],o=[],s=[],a=[],m={};for(let f of t){let l=[];for(let b of f.tokenInfo){let y=(u=m[b.mintAddress.toString()])!=null?u:yield this._selectOrCreateTokenAccount({mint:b.mintAddress,tokenAccounts:b.mintAddress.equals(C.WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:r,endInstructions:b.mintAddress.equals(C.WSOL.mint)?o:[],signers:a},associatedOnly:b.mintAddress.equals(C.WSOL.mint)?!1:n.associatedOnly});m[b.mintAddress.toString()]=y,l.push(y)}s.push(this.makeClaimInstruction({programId:f.programId,poolInfo:f,ownerInfo:{wallet:n.wallet,ownerPda:f.ownerAccountId,claimAddress:l}}))}return ft([...r,...s,...o],[n.wallet,...a.map(f=>f.publicKey)])?[{transaction:new at.Transaction().add(...r,...s,...o),signer:a}]:[{transaction:new at.Transaction().add(...r),signer:a},{transaction:new at.Transaction().add(...s),signer:[]},{transaction:new at.Transaction().add(...o),signer:[]}]})}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:n}){let i=D([]),r=[{pubkey:n.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:n.ownerPda,isSigner:!1,isWritable:!0},...n.claimAddress.map(a=>({pubkey:a,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:a})=>({pubkey:a,isSigner:!1,isWritable:!0})),{pubkey:F.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],o=Buffer.alloc(i.span);i.encode({},o);let s=Buffer.from([10,66,208,184,161,6,191,98,...o]);return new at.TransactionInstruction({keys:r,programId:e,data:s})}},pt=Yn;pt.CLAIMED_NUM=3,pt.POOL_LAYOUT=D([me(8),U("bump"),U("status"),A("openTime"),A("endTime"),R("ammId"),G(D([U("mintDecimals"),R("mintAddress"),R("mintVault"),A("perLpLoss"),A("totalClaimedAmount")]),Yn.CLAIMED_NUM,"tokenInfo"),G(A(),10,"padding")]),pt.OWNER_LAYOUT=D([me(8),U("bump"),U("version"),R("poolId"),R("owner"),A("lpAmount"),G(D([R("mintAddress"),A("debtAmount"),A("claimedAmount")]),Yn.CLAIMED_NUM,"tokenInfo"),G(A(),4,"padding")]),pt.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new at.PublicKey(e)),pt.SEED_CONFIG={pool:{id:Buffer.from("pool_seed","utf8")},owner:{id:Buffer.from("user_claim_seed","utf8")}},pt.VERSION_PROJECT=[void 0,"Francium","Tulip"];0&&(module.exports={AMM_CONFIG_SEED,ASSOCIATED_TOKEN_PROGRAM_ID,AccountMeta,AccountMetaReadonly,AmmConfigLayout,AmmV3,BIT_PRECISION,BNLayout,Base,BitStructure,Blob,Currency,CurrencyAmount,DEVNET_FARM_POOLS,DEVNET_LP_TOKENS,DEVNET_OFFICIAL_LIQUIDITY_POOLS,DEVNET_SPL_TOKENS,DataElement,ErrorCode,FARM_LEDGER_LAYOUT_V3_1,FARM_LEDGER_LAYOUT_V3_2,FARM_LEDGER_LAYOUT_V5_1,FARM_LEDGER_LAYOUT_V5_2,FARM_LEDGER_LAYOUT_V6_1,FARM_PROGRAMID_TO_VERSION,FARM_PROGRAM_ID_V3,FARM_PROGRAM_ID_V5,FARM_PROGRAM_ID_V6,FARM_STATE_LAYOUT_V3,FARM_STATE_LAYOUT_V5,FARM_STATE_LAYOUT_V6,FARM_VERSION_TO_LEDGER_LAYOUT,FARM_VERSION_TO_PROGRAMID,FARM_VERSION_TO_STATE_LAYOUT,FEE_RATE_DENOMINATOR,FETCH_TICKARRAY_COUNT,FIVE,Farm,Fee,Fraction,LIQUIDITY_FEES_DENOMINATOR,LIQUIDITY_FEES_NUMERATOR,LIQUIDITY_PROGRAMID_TO_VERSION,LIQUIDITY_PROGRAM_ID_V4,LIQUIDITY_PROGRAM_ID_V5,LIQUIDITY_STATE_LAYOUT_V4,LIQUIDITY_STATE_LAYOUT_V5,LIQUIDITY_VERSION_TO_PROGRAMID,LIQUIDITY_VERSION_TO_SERUM_VERSION,LIQUIDITY_VERSION_TO_STATE_LAYOUT,LOG_B_2_X32,LOG_B_P_ERR_MARGIN_LOWER_X64,LOG_B_P_ERR_MARGIN_UPPER_X64,Layout,Liquidity,LiquidityMath,LiquidityPoolStatus,LogLevel,Logger,MAINNET_FARM_POOLS,MAINNET_LP_TOKENS,MAINNET_OFFICIAL_LIQUIDITY_POOLS,MAINNET_SPL_TOKENS,MARKET_STATE_LAYOUT_V2,MARKET_STATE_LAYOUT_V3,MARKET_VERSION_TO_STATE_LAYOUT,MAX_SQRT_PRICE_X64,MAX_TICK,MAX_TICK_ARRAY_START_INDEX,MEMO_PROGRAM_ID,METADATA_PROGRAM_ID,MIN_SQRT_PRICE_X64,MIN_TICK,MIN_TICK_ARRAY_START_INDEX,Market,MarketV2,MathUtil,MaxU64,MaxUint128,ModelDataInfo,ModelDataPubkey,NEGATIVE_ONE,ONE,OPERATION_SEED,ObservationInfoLayout,ObservationLayout,OperationLayout,OptionLayout,POOL_REWARD_VAULT_SEED,POOL_SEED,POOL_VAULT_SEED,POSITION_SEED,Percent,PoolInfoLayout,PoolUtils,PositionInfoLayout,PositionRewardInfoLayout,PositionUtils,Price,ProtocolPositionLayout,Q128,Q64,REAL_FARM_STATE_LAYOUT_V3,REAL_FARM_STATE_LAYOUT_V5,REAL_FARM_STATE_LAYOUT_V6,RENT_PROGRAM_ID,ROUTE_PROGRAMID_TO_VERSION,ROUTE_PROGRAM_ID_V1,ROUTE_VERSION_TO_LIQUIDITY_VERSION,ROUTE_VERSION_TO_PROGRAMID,RewardInfo,Rounding,Route,SERUM_PROGRAMID_TO_VERSION,SERUM_PROGRAM_ID_V3,SERUM_VERSION_TO_PROGRAMID,SOL,SPL_ACCOUNT_LAYOUT,SPL_MINT_LAYOUT,SYSTEM_PROGRAM_ID,SYSVAR_CLOCK_PUBKEY,SYSVAR_RENT_PUBKEY,Spl,SqrtPriceMath,Structure,SwapMath,TEN,TESTNET_FARM_POOLS,TESTNET_LP_TOKENS,TESTNET_OFFICIAL_LIQUIDITY_POOLS,TESTNET_SPL_TOKENS,THREE,TICK_ARRAY_BITMAP_SIZE,TICK_ARRAY_SEED,TICK_ARRAY_SIZE,TICK_SPACINGS,TOKEN_PROGRAM_ID,TWO,TickArrayLayout,TickLayout,TickMath,TickQuery,TickUtils,Token,TokenAmount,TokenList,Trade,TradeV2,U64Resolution,UInt,Union,Utils1216,WSOL,WideBits,WrappedLayout,ZERO,_100,_1000,_10000,_100_PERCENT,_FARM_PROGRAM_ID_V3,_FARM_PROGRAM_ID_V5,_FARM_PROGRAM_ID_V6,_LIQUIDITY_PROGRAM_ID_V4,_LIQUIDITY_PROGRAM_ID_V5,_ROUTE_PROGRAM_ID_V1,_SERUM_PROGRAM_ID_V3,addComputations,array,bits,blob,bool,chunkArray,closePositionInstruction,collectRewardInstruction,createPoolInstruction,cstr,currencyEquals,decodeBool,decreaseLiquidityInstruction,divCeil,encodeBool,f32,f32be,f64,f64be,findProgramAddress,forecastTransactionSize,formatLayout,getATAAddress,getDxByDyBaseIn,getDyByDxBaseIn,getMultipleAccountsInfo,getMultipleAccountsInfoWithCustomFlags,getPdaAmmConfigId,getPdaMetadataKey,getPdaOperationAccount,getPdaPersonalPositionAddress,getPdaPoolId,getPdaPoolRewardVaulId,getPdaPoolVaultId,getPdaProtocolPositionAddress,getPdaTickArrayAddress,getStablePrice,greedy,i128,i16ToBytes,i32ToBytes,i64,increaseLiquidityInstruction,initRewardInstruction,initStableModelLayout,inspectAll,inspectBN,inspectCurrency,inspectPublicKey,inspectToken,intersection,jsonInfo2PoolKeys,ns64,ns64be,nu64,nu64be,offset,openPositionInstruction,option,parseBigNumberish,parseSimulateLogToJson,parseSimulateValue,poolKeys2JsonInfo,poolTypeV6,publicKey,rustEnum,s16,s16be,s24,s24be,s32,s32be,s40,s40be,s48,s48be,s8,seq,setRewardInstruction,simulateMultipleInstruction,simulateTransaction,splitNumber,splitTxAndSigners,str,struct,swapInstruction,tagged,tenExponentiate,u128,u16,u16ToBytes,u16be,u24,u24be,u32,u32ToBytes,u32be,u40,u40be,u48,u48be,u64,u8,union,unionLayoutDiscriminator,uniq,unwarpSol,utf8,validateAndParsePublicKey,vec,vecU8,xor,zeros});
//# sourceMappingURL=index.js.map